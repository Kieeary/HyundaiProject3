<html lang="ko" class="back">
  <head>
    <script
      type="text/javascript"
      async=""
      src="https://www.google-analytics.com/plugins/ua/ec.js"></script>
    <!-- #2894 - 카카오광고 집행 위한 픽셀&SDK 삽입 -->
    <script
      async=""
      defer=""
      src="https://cdn.megadata.co.kr/dist/prod/enp_tracker_self_hosted.min.js"></script>
    <script
      type="text/javascript"
      async=""
      src="https://www.googletagmanager.com/gtag/js?id=G-RPZ82BN53C&amp;l=dataLayer&amp;cx=c"></script>
    <script
      type="text/javascript"
      async=""
      src="https://www.google-analytics.com/analytics.js"></script>
    <script
      async=""
      src="https://www.googletagmanager.com/gtm.js?id=GTM-KSHFVVQ"></script>
    <script
      async=""
      src="https://www.google-analytics.com/analytics.js"></script>
    <script
      src="https://connect.facebook.net/signals/config/1947530058811697?v=2.9.92&amp;r=stable"
      async=""></script>
    <script
      async=""
      src="https://connect.facebook.net/en_US/fbevents.js"></script>
    <script
      async=""
      charset="utf-8"
      src="//static.recopick.com/dist/production.min.js"></script>
    <script
      type="text/javascript"
      charset="UTF-8"
      src="//t1.daumcdn.net/adfit/static/kp.js"></script>
    <script type="text/javascript">
      if (typeof kakaoPixel !== 'undefined') {
        var kakaoTrackId = '3482319208237780781'; //개발
        if (location.href.indexOf('www.thehandsome.com') > -1)
          kakaoTrackId = '7855119525940511046'; //운영
        kakaoPixel(kakaoTrackId).pageView();
      }
    </script>
    <!-- #2894 - 카카오광고 집행 위한 픽셀&SDK 삽입 END -->

    <meta
      name="naver-site-verification"
      content="2f9358e1e36605519854a595f243f0171519dd1d" />
    <meta
      name="google-site-verification"
      content="0bGV8gPhwO_PzritNvIsz2k74EH5yPsrXXluJ8ZUed8" />
    <meta
      name="google-site-verification"
      content="dO99-Ao-ywXeVDEz4jz5nJBXzQXVCgmX4WXzxl_Nf3c" />
    <meta
      name="facebook-domain-verification"
      content="jvxpdjfrqqan9oe1qdrjfyxj553an6" />
    <meta
      name="fallbackUrl"
      content="https://itunes.apple.com/app/apple-store/id1072288949" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />

    <meta charset="UTF-8" />
    <meta name="HandheldFriendly" content="true" />
    <meta
      name="viewport"
      content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Mobile Smart Banner for IOS Device -->
    <meta name="apple-itunes-app" content="app-id=1072288949" />
    <!-- //Mobile Smart Banner for IOS Device -->
    <meta property="og:title" content="배송 | 더한섬닷컴" />
    <meta property="og:type" content="website" />
    <script></script>
    <script type="text/javascript">
      var appYn = 'N';
      var appOs = ''; //ios, android

      var uid = '';
      var pageUid = 'ordersheet';
      var chkScreenPage = [];

      if (appYn == 'Y') {
        //appì¼ëë§ ì²´í¬
        if (
          uid == 'snsMain' ||
          uid == 'snsDetail' ||
          uid == 'snsMyProfile' ||
          uid == 'snsCollectionDetail' ||
          uid == 'snsSearchList' ||
          chkScreenPage.indexOf(pageUid) > -1
        ) {
          //íì©íì´ì§
          if (appOs == 'ios') {
            //ios
            webkit.messageHandlers.screenShotEnable.postMessage('false');
          } else {
            //android
            Android.screenShotEnable('false');
          }
        } else {
          //ì¬ì©ìí¨
          if (appOs == 'ios') {
            //ios
            webkit.messageHandlers.screenShotEnable.postMessage('true');
          } else {
            //android
            Android.screenShotEnable('true');
          }
        }
      }
    </script>

    <title>배송 | 더한섬닷컴</title>
    <link
      rel="shortcut icon"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/thehandsome_ic_16x16.ico" />
    <link
      rel="apple-touch-icon"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />
    <link
      rel="apple-touch-icon-120x120"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />
    <link
      rel="apple-touch-icon-120x120-precomposed"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />

    <!-- <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> -->

    <link rel="shortcut icon" type="image/x-icon" media="all" href="//" />

    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/font_443.css"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/jquery-ui.css"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/selectordie.css"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/default.css?202200826"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/display.css?20221107"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/assist.css?20220929"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/devAssist.css"
      rel="stylesheet"
      type="text/css" />

    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/popup.css"
      rel="stylesheet"
      type="text/css" />

    <script type="text/javascript">
      /*<![CDATA[*/

      var ACCMOB = { config: {} };
      ACCMOB.config.contextPath = '';
      ACCMOB.config.encodedContextPath = '/ko';
      ACCMOB.config.commonResourcePath = '/_ui/handsomemobile/common';
      ACCMOB.config.themeResourcePath = '/_ui/handsomemobile/theme-blue';
      ACCMOB.config.siteResourcePath = '/_ui/handsomemobile/site-handsome';
      ACCMOB.config.rootPath = '/_ui/handsomemobile';
      ACCMOB.config.CSRFToken = '13c48883-1706-4f5a-810b-2f670f464334';

      /*]]>*/
    </script>
    <script type="text/javascript">
      /*<![CDATA[*/
      ACCMOB.addons = {}; //JS holder for addons properties

      /*]]>*/
    </script>
    <script type="text/javascript">
      var handsomePageId = 'ordersheet';
      var main_bul = false;
    </script>

    <script type="text/javascript">
      var goToMySmartFilterYn = 'N';
      var gnbType = 'br';
      var UserAgent = navigator.platform;
      var userPhoneOs = '';
      if (UserAgent.match(/i(Phone|Pod|Pad)/i) != null) {
        userPhoneOs = 'IOS';
      } else {
        userPhoneOs = 'ANDROID';
      }
    </script>

    <script type="text/javascript">
      var handsomeUserLoginYn = 'Y';
    </script>
    <script type="text/javascript">
      var isoKoYn = 'Y';
    </script>
    <script type="text/javascript">
      var handsomeIsoCode = 'ko';
      var handsomeContextPath = '/ko';
    </script>

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.vticker.js"></script>
    <!-- 200318 Ã¬Â¶ÂÃªÂ°Â -->
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/masonry.pkgd.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/imagesloaded.pkgd.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.form.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.cookie.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery-ui.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/swiper.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/selectordie.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.bpopup.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/echarts.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/common.js?20210501"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/assist_common.js?v=20220630"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/assist_new.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/handsome.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/common_function.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/json2.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/SsoAjax.js"></script>

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/makePCookie.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/content.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/e-smart-zoom-jquery.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/popup.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/simplepagination.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/netfunnel.js"
      charset="UTF-8"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/netfunnel_skin.js"
      charset="UTF-8"></script>

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/unorm.js"></script>

    <script type="text/javascript">
      var setDimensionData = function () {
        //GA 설정 sessionStorage 페이지 이동시 초기화
        window.sessionStorage.removeItem('main_new_ecommerceDataList');
        window.sessionStorage.removeItem('main_best_ecommerceDataList');
        var smartListSize = window.sessionStorage.getItem(
          'smart_ecommerceDataList_size'
        );
        for (var i = 0; i <= smartListSize; i++) {
          window.sessionStorage.removeItem('smart_ecommerceDataList_' + i);
        }
        window.sessionStorage.removeItem('smart_ecommerceDataList_size');
        window.sessionStorage.removeItem('smart_more_ecommerceDataList');
        window.sessionStorage.removeItem('search_recommend_ecommerceDataList');
        window.sessionStorage.removeItem('ecommerceDataList');
        window.sessionStorage.removeItem('yours_lately_ecommerceDataList');
        window.sessionStorage.removeItem('yours_shoppingbag_ecommerceDataList');
        window.sessionStorage.removeItem('yours_wish_ecommerceDataList');
        window.sessionStorage.removeItem('yours_recommend_ecommerceDataList');
        window.sessionStorage.removeItem('ou_main_ecommerceDataList');

        var categoryListSize = window.sessionStorage.getItem(
          'category_ecommerceDataList_size'
        );
        for (var i = 0; i <= categoryListSize; i++) {
          window.sessionStorage.removeItem(
            'normal_cate_ecommerceDataList_' + i
          );
        }
        window.sessionStorage.removeItem('category_ecommerceDataList_size');

        var cid = getCid();
        var device = '';

        if (getCookie2('app') == null || getCookie2('app') == '') {
          device = 'MO_WEB';
        } else {
          device = 'APP';
        }

        var entrySite = '';

        entrySite = 'KO';

        var oneDepthPage; // 없을 경우 undifined 그대로 넘겨야 하기 때문에 초기화 X
        var pageTitle = '';
        var tmp = getPageDepth();
        if (tmp != '') {
          oneDepthPage = tmp;
          pageTitle = getGAPageTitle(oneDepthPage);
          if (pageTitle == '') {
            oneDepthPage = undefined;
            pageTitle = document.title;
          }
        } else {
          pageTitle = document.title;
        }

        var pageviewObj = new Object();
        pageviewObj.dimension1 = cid; //고객_ClientID
        pageviewObj.dimension15 = device; //채널_채널유형
        pageviewObj.dimension16 = entrySite; //채널_언어 - #2846 삭제요청 hychung, #2846 복원요청 hychung
        pageviewObj.dimension18 = oneDepthPage; //페이지_1Depth (페이지depth 없는경우 undefined처리)
        pageviewObj.title = pageTitle; //페이지제목     (페이지제목 없는경우 document.title 입력)

        //로그인 했을경우만 추가 dimension 세팅

        pageviewObj.dimension2 = ''; //고객_회원번호
        pageviewObj.dimension3 = '간편'; //고객_회원구분
        pageviewObj.dimension4 = ''; //고객_지역
        pageviewObj.dimension5 = 'F'; //고객_성별
        pageviewObj.dimension6 = '25'; //고객_연령대
        pageviewObj.dimension7 = ''; //고객_생년 => 고객_통합멤버십번호 변경됨
        pageviewObj.dimension8 = ''; //고객_온라인등급
        pageviewObj.dimension9 = ''; //고객_한섬통합등급
        pageviewObj.dimension10 = '0'; //고객_구매횟수
        pageviewObj.dimension11 = ''; //고객_구매금액대
        pageviewObj.dimension12 = ''; //고객_첫구매일자
        pageviewObj.dimension13 = ''; //고객_최종구매일자
        pageviewObj.dimension14 = '20221227'; //고객_회원가입일
        pageviewObj.userId = ''; //사용자ID

        // 검색 결과 페이지 일 경우만 처리
        if (window.location.pathname.indexOf('/hssearch/searchCount') > -1) {
          pageviewObj.dimension17 = ''; //검색_검색어(검색결과페이지일때 사용)
        }

        return pageviewObj;
      };

      // 고객_ClientID
      function getCid() {
        var cookieData = document.cookie;
        var Cookies = cookieData.split(';');
        var clientId = '';
        for (var i = 0; i < Cookies.length; i++) {
          if (
            Cookies[i].split('=')[0] == '_ga' ||
            Cookies[i].split('=')[0] == ' _ga'
          ) {
            clientId = Cookies[i].split('=')[1];
          }
        }
        if (clientId != '') {
          clientId = clientId.substring(6);
        }
        if (clientId == '') {
          try {
            ga(function (tracker) {
              clientId = tracker.get('clientId');
            });
          } catch (e) {
            console.log(e);
          }
        }
        return clientId;
      }

      function getPageDepth() {
        var returnDepth = '';
        var target_url = document.location.href;

        if (target_url.substring(target_url.indexOf('/ko/') + 4) == '') {
          returnDepth = '메인';
        } else if (target_url.substring(target_url.indexOf('/ko') + 3) == '') {
          returnDepth = '메인';
        } else if (target_url.indexOf('/p/') > -1) {
          returnDepth = '상품상세';
        } else if (target_url.indexOf('/b/') > -1) {
          returnDepth = '브랜드';
        } else if (target_url.indexOf('/c/ou_') > -1) {
          returnDepth = '아울렛';
        } else if (target_url.indexOf('/c/') > -1) {
          // if'/c/카테고리코드' : /가 한개면

          if (
            target_url.substring(target_url.indexOf('/c/') + 3).indexOf('/') >
            -1
          ) {
            if (
              target_url
                .toLowerCase()
                .substring(target_url.indexOf('/c/') + 3)
                .indexOf('br') > -1
            ) {
              returnDepth = '브랜드';
            } else {
              returnDepth = '카테고리';
            }
          } else {
            returnDepth = '카테고리';
          }
        } else if (target_url.indexOf('/mypage/care/') > -1) {
          returnDepth = '케어';
        } else if (target_url.indexOf('/mypage') > -1) {
          returnDepth = '마이페이지';
        } else if (target_url.indexOf('/magazine/events') > -1) {
          returnDepth = '이벤트';
        } else if (target_url.indexOf('/magazine/') > -1) {
          returnDepth = '매거진';
        } else if (target_url.indexOf('/shoppingbag') > -1) {
          returnDepth = '쇼핑백';
        } else if (target_url.indexOf('/ou/') > -1) {
          returnDepth = '아울렛';
        } else if (target_url.indexOf('/checkout/') > -1) {
          returnDepth = '주문';
        } else if (target_url.indexOf('/member/') > -1) {
          returnDepth = '로그인';
        } else if (target_url.indexOf('/login/') > -1) {
          returnDepth = '로그인';
        } else if (target_url.indexOf('/sns/') > -1) {
          returnDepth = 'SNS';
        } else if (target_url.indexOf('/prodqna/') > -1) {
          returnDepth = '상품Q&A';
        } else if (target_url.indexOf('/svcenter/') > -1) {
          returnDepth = '고객센터';
        } else if (target_url.indexOf('/item/') > -1) {
          returnDepth = '아이템';
        } else if (target_url.indexOf('/store-finder/') > -1) {
          returnDepth = '매장안내';
        } else if (target_url.indexOf('/footer/') > -1) {
          returnDepth = 'FOOTER';
        } else if (target_url.indexOf('/appDownloadSMS/') > -1) {
          returnDepth = 'APP 다운로드';
        } else if (target_url.indexOf('/intro/') > -1) {
          returnDepth = '당신만의 한섬';
        } else if (target_url.indexOf('/mobilecommon/mainIntro') > -1) {
          returnDepth = '공통';
        } else if (target_url.indexOf('/mobilecommon/search') > -1) {
          returnDepth = '공통';
        } else if (target_url.indexOf('/hssearch') > -1) {
          returnDepth = '검색';
        } else if (target_url.indexOf('/product/') > -1) {
          returnDepth = '상품';
        } else if (target_url.indexOf('/globalMain') > -1) {
          returnDepth = '메인';
        } else if (target_url.indexOf('/main') > -1) {
          returnDepth = '메인';
        } else {
          returnDepth = '';
        }
        return returnDepth;
      }

      function getGAPageTitle(oneDepthPage) {
        var returnTitle = '';
        var target_url = document.location.href;
        //if(target_url.substring(target_url.indexOf("/ko/")+4).indexOf("/") == -1){
        if (target_url.substring(target_url.indexOf('/ko/') + 4) == '') {
          returnTitle = oneDepthPage;
        } else if (target_url.substring(target_url.indexOf('/ko') + 3) == '') {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/p/') > -1) {
          returnTitle = oneDepthPage + '>';
        } else if (target_url.indexOf('/c//') > -1) {
          returnTitle = oneDepthPage + '>>전체보기';
        } else if (target_url.indexOf('/b/fourmMain') > -1) {
          returnTitle = oneDepthPage + '>FOURM 메인';
        } else if (target_url.indexOf('/b//brand') > -1) {
          returnTitle = oneDepthPage + '>>소개';
        } else if (target_url.indexOf('/b//storeInformation') > -1) {
          returnTitle = oneDepthPage + '>>매장';
        } else if (
          target_url.indexOf('/b//lookBookDetail?lookBookCode=') > -1
        ) {
          returnTitle = oneDepthPage + '>>룩북>';
        } else if (target_url.indexOf('/b//lookBook') > -1) {
          returnTitle = oneDepthPage + '>>룩북';
        } else if (target_url.indexOf('/b/') > -1) {
          returnTitle = oneDepthPage + '>>브랜드 메인';
        } else if (target_url.indexOf('/c//ou') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/c//') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/c/') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/mypage/order/myordersAthome') > -1) {
          returnTitle = oneDepthPage + '>앳홈신청 및 결제';
        } else if (target_url.indexOf('/mypage/order/myorders') > -1) {
          returnTitle = oneDepthPage + '>주문/배송조회';
        } else if (target_url.indexOf('/mypage/myGradeInfo') > -1) {
          returnTitle = oneDepthPage + '>나의 회원등급';
        } else if (target_url.indexOf('/mypage/voucher') > -1) {
          returnTitle = oneDepthPage + '>쿠폰';
        } else if (target_url.indexOf('/mypage/mypoint') > -1) {
          returnTitle = oneDepthPage + '>혜택관리>나의 한섬마일리지';
        } else if (target_url.indexOf('/mypage/myEGiftCard') > -1) {
          returnTitle = oneDepthPage + '>혜택관리>e-giftcard';
        } else if (target_url.indexOf('/mypage/myWish') > -1) {
          returnTitle = oneDepthPage + '>위시리스트';
        } else if (target_url.indexOf('/mypage/rsalarm') > -1) {
          returnTitle = oneDepthPage + '>재입고 알림';
        } else if (
          target_url.indexOf('/mypage/personInfomationChangePWCheck') > -1
        ) {
          returnTitle = oneDepthPage + '>개인정보 변경/탈퇴';
        } else if (target_url.indexOf('/mypage/mydelivery') > -1) {
          returnTitle = oneDepthPage + '>배송지 관리';
        } else if (target_url.indexOf('/mypage/oneClick') > -1) {
          returnTitle = oneDepthPage + '>나의 정보관리>원클릭 결제 관리';
        } else if (target_url.indexOf('/mypage/myreview') > -1) {
          returnTitle = oneDepthPage + '>내 상품평';
        } else if (target_url.indexOf('/mypage/myqna') > -1) {
          returnTitle = oneDepthPage + '>상품 Q&A';
        } else if (target_url.indexOf('/mypage/mymantomaninquiry') > -1) {
          returnTitle = oneDepthPage + '>1:1 문의';
        } else if (target_url.indexOf('/mypage/mypageFloatingPopup') > -1) {
          returnTitle = oneDepthPage + '>메인';
        } else if (target_url.indexOf('/mypage/mypoint/mobile') > -1) {
          returnTitle = oneDepthPage + '>나의 혜택';
        } else if (target_url.indexOf('/mypage/event/myevents') > -1) {
          returnTitle = oneDepthPage + '>나의 이벤트';
        } else if (target_url.indexOf('/mypage/oneBuy') > -1) {
          returnTitle = oneDepthPage + '>원클릭 결제 설정';
        } else if (target_url.indexOf('/mypage/care/mycares') > -1) {
          returnTitle = oneDepthPage + '>내역조회';
        } else if (
          target_url.indexOf('/mypage/care/careRequestComplete') > -1
        ) {
          returnTitle = oneDepthPage + '>신청완료';
        } else if (target_url.indexOf('/mypage/care/careRequest') > -1) {
          returnTitle = oneDepthPage + '>신청하기';
        } else if (target_url.endsWith('/ko/mypage/', target_url.length)) {
          returnTitle = oneDepthPage + '>메인';
        } else if (target_url.endsWith('/ko/mypage', target_url.length)) {
          returnTitle = oneDepthPage + '>메인';
        } else if (target_url.indexOf('/magazine/events/') > -1) {
          returnTitle = oneDepthPage + '>상세>';
        } else if (target_url.indexOf('/magazine/events') > -1) {
          if (getCookie2('app') == null || getCookie2('app') == '') {
            returnTitle = oneDepthPage + '>리스트';
          } else {
            returnTitle = oneDepthPage + '>모바일썸네일';
          }
        } else if (target_url.indexOf('/magazine/editorials/') > -1) {
          returnTitle = oneDepthPage + '>에디토리얼>상세>';
        } else if (target_url.indexOf('/magazine/editorials') > -1) {
          returnTitle = oneDepthPage + '>에디토리얼>리스트';
        } else if (target_url.indexOf('/magazine/exhibitions/') > -1) {
          returnTitle = oneDepthPage + '>기획전>상세>';
        } else if (target_url.indexOf('/magazine/exhibitions') > -1) {
          returnTitle = oneDepthPage + '>기획전>리스트';
        } else if (target_url.indexOf('/magazine/handpeople') > -1) {
          returnTitle = oneDepthPage + '>핸썸피플 리스트';
        } else if (target_url.indexOf('/magazine/instagram') > -1) {
          returnTitle = oneDepthPage + '>인스타그램';
        } else if (target_url.indexOf('/magazine/lookbookDetail/') > -1) {
          returnTitle = oneDepthPage + '>룩북>상세>';
        } else if (target_url.indexOf('/magazine/lookbook') > -1) {
          returnTitle = oneDepthPage + '>룩북>리스트';
        } else if (
          target_url.indexOf('/magazine/newsDetailtemplatetype') > -1
        ) {
          returnTitle = oneDepthPage + '>뉴스>상세>';
        } else if (target_url.indexOf('/magazine/news') > -1) {
          returnTitle = oneDepthPage + '>뉴스>리스트';
        } else if (target_url.indexOf('/magazine/weeklypick') > -1) {
          returnTitle = oneDepthPage + '>위클리 픽 리스트';
        } else if (target_url.indexOf('/magazine/submain') > -1) {
          returnTitle = oneDepthPage + '>THE매거진 메인';
        } else if (target_url.indexOf('/magazine/youtubeList') > -1) {
          returnTitle = oneDepthPage + '>비디오';
        } else if (target_url.indexOf('/shoppingbag') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/ou/outletMain') > -1) {
          returnTitle = oneDepthPage + '>메인';
        } else if (target_url.indexOf('/c/ou_/ou') > -1) {
          returnTitle = oneDepthPage + '>';
        } else if (target_url.indexOf('/mobilecommon/search') > -1) {
          returnTitle = oneDepthPage + '>키워드';
        } else if (target_url.indexOf('/hssearch/') > -1) {
          returnTitle = oneDepthPage + '>검색결과';
        } else if (target_url.indexOf('/checkout/ordersheet') > -1) {
          returnTitle = oneDepthPage + '>주문서 작성';
        } else if (target_url.indexOf('/checkout/orderConfirmation') > -1) {
          returnTitle = oneDepthPage + '>주문 완료';
        } else if (target_url.indexOf('/member/login') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/login/checkout') > -1) {
          returnTitle = oneDepthPage + '>미로그인시로그인유도';
        } else if (target_url.indexOf('/member/pwChange') > -1) {
          returnTitle = oneDepthPage + '>비밀번호 변경 대상';
        } else if (target_url.indexOf('/member/findIdPwPage') > -1) {
          returnTitle = oneDepthPage + '>한섬회원 아이디/비밀번호 찾기';
        } else if (target_url.indexOf('/member/globaljoincomplete') > -1) {
          returnTitle = oneDepthPage + '>가입완료';
        } else if (target_url.indexOf('/member/joincomplete') > -1) {
          returnTitle = oneDepthPage + '>가입완료';
        } else if (target_url.indexOf('/member/joinGuidePage') > -1) {
          returnTitle = oneDepthPage + '>회원가입안내';
        } else if (target_url.indexOf('/member/joininfoform') > -1) {
          returnTitle = oneDepthPage + '>간편회원 정보입력';
        } else if (target_url.indexOf('/member/joinstart') > -1) {
          returnTitle = oneDepthPage + '>간편회원 이메일';
        } else if (target_url.indexOf('/member/nonMemberLogin') > -1) {
          returnTitle = oneDepthPage + '>비회원 주문조회';
        } else if (target_url.indexOf('/sns/main') > -1) {
          returnTitle = oneDepthPage + '>메인';
        } else if (target_url.indexOf('/sns/detail?') > -1) {
          returnTitle = oneDepthPage + '>포스트상세보기';
        } else if (target_url.indexOf('/sns/myNotice') > -1) {
          returnTitle = oneDepthPage + '>나의알림';
        } else if (target_url.indexOf('/sns/collectionDetail?') > -1) {
          returnTitle = oneDepthPage + '>콜렉션상세';
        } else if (target_url.indexOf('/sns/followerList?') > -1) {
          returnTitle = oneDepthPage + '>팔로워리스트';
        } else if (target_url.indexOf('/sns/followingList?') > -1) {
          returnTitle = oneDepthPage + '>팔로윙리스트';
        } else if (target_url.indexOf('/sns/snsSearch?searchWord=') > -1) {
          returnTitle = oneDepthPage + '>태그검색';
        } else if (target_url.indexOf('/sns/message?') > -1) {
          returnTitle = oneDepthPage + '>메시지';
        } else if (target_url.indexOf('/sns/messageList') > -1) {
          returnTitle = oneDepthPage + '>메시지리스트';
        } else if (target_url.indexOf('/sns/myLevel') > -1) {
          returnTitle = oneDepthPage + '>나의레벨';
        } else if (target_url.indexOf('/sns/myProfile?') > -1) {
          returnTitle = oneDepthPage + '>나의프로필';
        } else if (target_url.indexOf('/sns/weeklyBest') > -1) {
          returnTitle = oneDepthPage + '>위클리베스트';
        } else if (target_url.indexOf('/sns/write') > -1) {
          returnTitle = oneDepthPage + '>포스팅작성';
        } else if (target_url.indexOf('/mobilecommon/mainIntro') > -1) {
          returnTitle = oneDepthPage + '>인트로';
        } else if (target_url.indexOf('/prodqna/listProdQnA?') > -1) {
          returnTitle = oneDepthPage + '>';
        } else if (target_url.indexOf('/svcenter/submain') > -1) {
          returnTitle = oneDepthPage + '>서브메인';
        } else if (target_url.indexOf('/svcenter/notice') > -1) {
          returnTitle = oneDepthPage + '>공지사항';
        } else if (target_url.indexOf('/svcenter/mantomaninquiry') > -1) {
          returnTitle = oneDepthPage + '>1:1 문의';
        } else if (target_url.indexOf('/svcenter/faq') > -1) {
          returnTitle = oneDepthPage + '>FAQ';
        } else if (target_url.indexOf('/svcenter/mending') > -1) {
          returnTitle = oneDepthPage + '>수선진행조회';
        } else if (target_url.indexOf('/svcenter/memberjoinguide') > -1) {
          returnTitle = oneDepthPage + '>쇼핑가이드>회원가입';
        } else if (target_url.indexOf('/svcenter/theClubInfo') > -1) {
          returnTitle = oneDepthPage + '>쇼핑가이드>온라인 멤버십';
        } else if (target_url.indexOf('/svcenter/memberbenefitguide') > -1) {
          returnTitle = oneDepthPage + '>쇼핑가이드>한섬 VVIP 혜택';
        } else if (target_url.indexOf('/svcenter/pointguide') > -1) {
          returnTitle = oneDepthPage + '>쇼핑가이드>한섬마일리지 혜택';
        } else if (target_url.indexOf('/svcenter/couponguide') > -1) {
          returnTitle = oneDepthPage + '>쇼핑가이드>쿠폰';
        } else if (target_url.indexOf('/svcenter/asguide') > -1) {
          returnTitle = oneDepthPage + '>쇼핑가이드>배송/반품/AS';
        } else if (target_url.indexOf('/svcenter/paymentguide') > -1) {
          returnTitle = oneDepthPage + '>쇼핑가이드>주문/결제';
        } else if (target_url.indexOf('/svcenter/athomeInfo') > -1) {
          returnTitle = oneDepthPage + '>at HOME';
        } else if (target_url.indexOf('/svcenter/footerAthomeInfo') > -1) {
          returnTitle = oneDepthPage + '>딜리버리서비스';
        } else if (target_url.indexOf('/svcenter/mobilemain') > -1) {
          returnTitle = oneDepthPage + '>메인';
        } else if (target_url.indexOf('/svcenter/mobilenotice') > -1) {
          returnTitle = oneDepthPage + '>공지사항';
        } else if (target_url.indexOf('/svcenter/mobilefaq') > -1) {
          returnTitle = oneDepthPage + '>FAQ';
        } else if (target_url.indexOf('/svcenter/mobilemending') > -1) {
          returnTitle = oneDepthPage + '>수선진행조회';
        } else if (
          target_url.indexOf('/svcenter/serviceguide?targetSlide=0') > -1
        ) {
          returnTitle = oneDepthPage + '>서비스소개>간편서비스';
        } else if (
          target_url.indexOf('/svcenter/serviceguide?targetSlide=1') > -1
        ) {
          returnTitle = oneDepthPage + '>서비스소개>스마트쇼핑';
        } else if (
          target_url.indexOf('/svcenter/serviceguide?targetSlide=2') > -1
        ) {
          returnTitle = oneDepthPage + '>서비스소개>유니크한섬';
        } else if (target_url.indexOf('/svcenter/serviceguide') > -1) {
          returnTitle = oneDepthPage + '>서비스소개';
        } else if (target_url.indexOf('/product/reviewList/') > -1) {
          returnTitle = oneDepthPage + '>상품평>';
        } else if (target_url.indexOf('/item/we') > -1) {
          returnTitle = oneDepthPage + '>WE';
        } else if (target_url.indexOf('/item/me') > -1) {
          returnTitle = oneDepthPage + '>ME';
        } else if (target_url.indexOf('/store-finder/') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/footer/footerBrandintro') > -1) {
          returnTitle = oneDepthPage + '>브랜드소개';
        } else if (target_url.indexOf('/footer/footerCEOGreetings') > -1) {
          returnTitle = oneDepthPage + '>CEO 메시지';
        } else if (target_url.indexOf('/footer/footerCompanyIntro') > -1) {
          returnTitle = oneDepthPage + '>회사소개>한섬소개';
        } else if (target_url.indexOf('/footer/footerCEOGreetings') > -1) {
          returnTitle = oneDepthPage + '>회사소개>CEO 메시지';
        } else if (target_url.indexOf('/footer/footerBrandintro') > -1) {
          returnTitle = oneDepthPage + '>회사소개>브랜드소개';
        } else if (target_url.indexOf('/footer/footerGovernance') > -1) {
          returnTitle = oneDepthPage + '>투자정보>기업지배구조';
        } else if (target_url.indexOf('/footer/footerFinancialInfo') > -1) {
          returnTitle = oneDepthPage + '>투자정보>재무정보';
        } else if (target_url.indexOf('/footer/footerStockInfo') > -1) {
          returnTitle = oneDepthPage + '>투자정보>주가정보';
        } else if (target_url.indexOf('/footer/footerIR') > -1) {
          returnTitle = oneDepthPage + '>투자정보>IR';
        } else if (
          target_url.indexOf('/footer/footerCorporatePartnership') > -1
        ) {
          returnTitle = oneDepthPage + '>동반성장>소개';
        } else if (target_url.indexOf('/footer/footerCoreFourPractices') > -1) {
          returnTitle = oneDepthPage + '>동반성장>4대 실천사항';
        } else if (
          target_url.indexOf('/footer/footerCooperatorSelection') > -1
        ) {
          returnTitle = oneDepthPage + '>동반성장>협력업체 선정';
        } else if (target_url.indexOf('/footer/footerSupportProgram') > -1) {
          returnTitle = oneDepthPage + '>동반성장>지원제도';
        } else if (target_url.indexOf('/footer/footerContactUs') > -1) {
          returnTitle = oneDepthPage + '>동반성장>소통의 장';
        } else if (target_url.indexOf('/appDownloadSMS/') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/intro/mainYours') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/globalMain') > -1) {
          returnTitle = oneDepthPage;
        } else if (target_url.indexOf('/main') > -1) {
          returnTitle = oneDepthPage;
        }

        return returnTitle;
      }

      function getCookie2(cname) {
        var name = cname + '=';
        var decodedCookie = unescape(document.cookie);
        var ca = decodedCookie.split(';');
        var cookieValue = '';
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            cookieValue = c.substring(name.length, c.length);
          }
        }
        return cookieValue;
      }

      function GA_Event(Category, Action, Label) {
        Label = unescape(Label)
          .replace(/\&#039;/gi, "'")
          .replace(/\&amp;/g, '&');

        var v_Label = Label;
        var v_Category = Category;
        var v_Action = Action;
        //공백처리을  _ 처리
        if (Category != null) {
          v_Category = Category.replace(/\s{2,}/gi, ' ')
            .trim()
            .replace(/\s/gi, '_');
        }
        if (Action != null) {
          v_Action = Action.replace(/\s{2,}/gi, ' ')
            .trim()
            .replace(/\s/gi, '_');
        }
        if (Label != null) {
          v_Label = Label.replace(/\s{2,}/gi, ' ')
            .trim()
            .replace(/\s/gi, '_');
        }
        console.log(v_Category, v_Action, v_Label);
        ga('gp.send', 'event', v_Category, v_Action, v_Label);
      }

      if (!String.prototype.endsWith) {
        String.prototype.endsWith = function (searchString, position) {
          var subjectString = this.toString();
          if (
            typeof position !== 'number' ||
            !isFinite(position) ||
            Math.floor(position) !== position ||
            position > subjectString.length
          ) {
            position = subjectString.length;
          }
          position -= searchString.length;
          var lastIndex = subjectString.indexOf(searchString, position);
          return lastIndex !== -1 && lastIndex === position;
        };
      }

      function gaIsoCodeEncoding(isoCode) {
        if (isoCode.toLowerCase() == 'ko') {
          GA_Event('공통', '푸터_CNT', 'LANGUAGE_한국어');
        } else if (isoCode.toLowerCase() == 'en') {
          GA_Event('공통', '푸터_CNT', 'LANGUAGE_영어');
        } else if (isoCode.toLowerCase() == 'zh') {
          GA_Event('공통', '푸터_CNT', 'LANGUAGE_중국어');
        }
      }
    </script>
    <script>
      var ko_time = '20230128220341'; // 현재시간

      // 스타일라이브 (20210901 이전 접근불가)
      if (
        Number(ko_time) < 20210901000000 &&
        'https://www.thehandsome.com/WEB-INF/views/handsomemobile/pages/checkout/checkoutOrderPage.jsp'.indexOf(
          '/sns/'
        ) > -1
      ) {
        location.replace(
          'http://www.thehandsome.com/ko/magazine/newsDetailtemplatetype4?newsCode=8802187958044'
        );
      }
    </script>

    <style media="screen">
      .blsmflw1 {
        animation: target_image 1.5s;
        animation-iteration-count: 2;
        transform-origin: 50% 50%;
      }
      @keyframes target_image {
        0% {
          transform: rotate(-2deg);
        }
        50% {
          transform: rotate(9deg);
        }
        100% {
          transform: rotate(-1deg);
        }
      }
    </style>

    <script>
      <!--  recoPick  START ---->

      var birthday = 'Sun Jul 27 00:00:00 UTC 1997';
      var splitBirthday = birthday != '' ? birthday.split(' ')[5] : ''; //출생년도
      var gender = 'FEMALE';

      gender = 'F';

      (function (w, d, n, s, e, o) {
        w[n] =
          w[n] ||
          function () {
            (w[n].q = w[n].q || []).push(arguments);
          };
        e = d.createElement(s);
        e.async = 1;
        e.charset = 'utf-8';
        e.src = '//static.recopick.com/dist/production.min.js';
        o = d.getElementsByTagName(s)[0];
        o.parentNode.insertBefore(e, o);
      })(window, document, 'recoPick', 'script');

      recoPick('service', 'thehandsome.com/ko/');

      var cookieUid = getCookie('searchUID');
      if (cookieUid == false) {
        //setting
        $.ajax({
          url: '/ko/intro/getCookieValue',
          dataType: 'json',
          type: 'get',
          cache: false,
          dataType: 'json',
          async: false,
          contentType: 'application/json',
          success: function (data) {
            if (getCookie('searchUID') != false) {
              recoPick('setMID', getCookie('searchUID'));
              recoPick('setUserInfo', {
                birthyear: splitBirthday,
                gender: gender,
              });
            }
          },
          error: function (e) {
            //
          },
        });
      } else {
        recoPick('setMID', cookieUid);
        recoPick('setUserInfo', { birthyear: splitBirthday, gender: gender });
      }

      try {
        recoPick('sendLog', 'visit');
      } catch (e) {
        console.log(e);
      }
      <!--  recoPick END ---->
    </script>

    <script></script>

    <!-- Facebook Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = '2.0';
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        'script',
        'https://connect.facebook.net/en_US/fbevents.js'
      );
      fbq('init', '1947530058811697'); // Insert your pixel ID here.
      fbq('track', 'PageView');
    </script>
    <noscript>
      <img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=1947530058811697&ev=PageView&noscript=1" />
    </noscript>
    <!-- End Facebook Pixel Code -->

    <script>
      var pageviewObj = new Object();
      pageviewObj = setDimensionData();

      <!-- GA 추적코드 추가 -->
      <!-- Google Analytics -->
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        'script',
        'https://www.google-analytics.com/analytics.js',
        'ga'
      );

      try {
        ga('create', 'UA-154649175-1', 'auto', 'gp');
        ga('gp.set', 'anonymizeIp', true); // IP 익명화 선언
        <!-- End Google Analytics -->
        ga('gp.set', pageviewObj);
      } catch (e) {
        console.log(e);
      }
      <!-- GTM 추적코드 추가 -->
      <!-- dataLayer 초기선언 -->
      dataLayer = [pageviewObj];

      <!-- Google Tag Manager -->
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-KSHFVVQ');
      <!-- End Google Tag Manager -->
    </script>

    <!-- Groobee -->
    <script type="text/javascript">
      (function (a, i, u, e, o) {
        a[u] =
          a[u] ||
          function () {
            (a[u].q = a[u].q || []).push(arguments);
          };
      })(window, document, 'groobee');
      groobee('serviceKey', '446b3d48b07e41f68624bf7f3457f33d');
      groobee('siteType', 'custom');
    </script>
    <script
      charset="utf-8"
      src="//static.groobee.io/dist/g2/groobee.init.min.js"></script>
    <!-- End of Groobee -->
    <meta property="groobee:member_id" content="wangjh789@gmail.com" />
    <meta property="groobee:member_grade" content="" />
    <meta property="groobee:member_gender" content="여성" />
    <meta property="groobee:member_type" content="간편회원" />
    <meta property="groobee:member_age" content="27" />
    <script>
      // 검색 결과 페이지
      if (window.location.pathname.indexOf('/hssearch/searchCount') > -1) {
        var groobeeKeyword = ''; //검색_검색어(검색결과페이지일때 사용)
        groobee('SE', { keyword: groobeeKeyword });
      }
    </script>
    <script
      type="text/javascript"
      async=""
      src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/943253288/?random=1674911022145&amp;cv=9&amp;fst=1674911022145&amp;num=1&amp;guid=ON&amp;resp=GooglemKTybQhCsO&amp;eid=375603261%2C466465926&amp;u_h=1080&amp;u_w=1920&amp;u_ah=1055&amp;u_aw=1920&amp;u_cd=24&amp;u_his=23&amp;u_tz=540&amp;u_java=false&amp;u_nplug=5&amp;u_nmime=2&amp;sendb=1&amp;ig=1&amp;frm=0&amp;url=https%3A%2F%2Fwww.thehandsome.com%2Fko%2Fcheckout%2Fordersheet&amp;ref=http%3A%2F%2Fwww.thehandsome.com%2F&amp;tiba=%EB%B0%B0%EC%86%A1%20%7C%20%EB%8D%94%ED%95%9C%EC%84%AC%EB%8B%B7%EC%BB%B4&amp;hn=www.googleadservices.com&amp;uaa=arm&amp;uab=64&amp;uam=&amp;uap=macOS&amp;uapv=13.1.0&amp;uaw=0&amp;uafvl=Not_A%2520Brand%3B99.0.0.0%7CGoogle%2520Chrome%3B109.0.5414.87%7CChromium%3B109.0.5414.87&amp;rfmt=3&amp;fmt=4"></script>
    <script
      src="https://cdn.megadata.co.kr/js/socialLink/social_sns_config_min.js"
      type="text/javascript"
      defer=""
      async=""></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="//static.groobee.io/dist/g2/css/grb-recommend-list_v2.css" />
  </head>

  <body class="back">
    <script>
      (function () {
        if (document.cookie.indexOf('thehyundai=true') > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            'sslvisit=true; expires=' + d.toUTCString() + '; path=/';
        } else if (document.cookie.indexOf('rakuten=') > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            'sslvisit1=true; expires=' + d.toUTCString() + '; path=/';
        } else if (document.cookie.indexOf('hyundaihmall=true') > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            'sslvisit2=true; expires=' + d.toUTCString() + '; path=/';
        } else if (document.cookie.indexOf('fromSite') > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie =
            'sslvisit3=' + '' + '; expires=' + d.toUTCString() + '; path=/';
        } else if (document.cookie.indexOf('recommender') > -1) {
          var d = new Date();
          d.setTime(d.getTime() + 365 * 24 * 60 * 60 * 1000);
          document.cookie = 'sslvisit4=' + '' + '; path=/';
        }
      })();
    </script>
    <!-- Loading -->
    <div style="display: none">
      <div id="loadingBarDiv" style="display: none"></div>
    </div>
    <!-- //Loading -->

    <form id="CSRFForm" action="/ko/checkout/ordersheet" method="post">
      <div>
        <input
          type="hidden"
          name="CSRFToken"
          value="13c48883-1706-4f5a-810b-2f670f464334" />
      </div>
    </form>
    <div
      id="mapleMainPopwrap"
      style="
        position: fixed;
        top: 50%;
        left: 50%;
        width: 81.333333%;
        z-index: 805;
        transform: translate(-50%, -50%);
        display: none;
      "></div>

    <div class="layerArea" id="mapleLayer" style="display: none">
      <div class="layerBg"></div>
    </div>

    <!-- ################## hsome_allContents_wrapper | ë³¸ë¬¸ ì»¨íì¸  ìì­ ################## -->
    <div class="hsome_allContents_wrapper">
      <div class="hsome_allContents">
        <script type="text/javascript">
          function goMainpage() {
            window.sessionStorage.removeItem('moveYn');
            location.href = '/ko/main';
          }
        </script>

        <!-- ################## header ################## -->
        <header class="hsome_header">
          <h1 class="h_ttl ellipsis" id="headerTitle">
            배송&amp;결제정보 입력
          </h1>
          <a href="/ko/main" class="h_top_home"><span>홈</span></a>

          <a href="javascript:noLink();" onclick="goBack();" class="h_prev"
            >이전 페이지로 가기</a
          >
          <ul class="h_gnbMenu">
            <li class="search">
              <a
                href="/ko/mobilecommon/search"
                onclick="GA_Event('공통', '헤더', '검색');"
                ><span>search</span></a
              >
            </li>
            <li class="cart">
              <a
                href="/ko/shoppingbag"
                onclick="GA_Event('공통', '헤더', '쇼핑백');"
                ><span>cart</span><i>2</i></a
              >
            </li>
          </ul>
        </header>
        <!-- //################## header ################## -->
        <div id="contents" class="hsome_contents delivery_payment_wrap">
          <form id="orderForm" action="/ko/checkout/ordersheet" method="POST">
            <!-- 상품 리스트 -->
            <div id="checkoutCartView">
              <!-- 4pm service-->
              <!-- //4pm service-->

              <!-- df_box : 주문상품 s -->
              <div id="__div_sl" class="df_box df_box_slide">
                <h3 class="df_box_tit">
                  주문상품<span class="df_box_tit_sub">(2개)</span>
                </h3>
                <script type="text/javascript">
                  /**
                   * 2020.01.22 hmk
                   * 결품 여부 확인
                   */
                  var sa = [];
                  function getOnlineStock(code) {
                    $.ajax({
                      type: 'get',
                      url: '/ko/mypage/order/getOnlineStock?code=' + code,
                      dataType: 'json',
                      success: function (r) {
                        if (!sa.includes(code)) {
                          sa.push(code);
                        }
                        if ($.parseJSON(r)[code]) {
                          $('p[name=__p_' + code + ']').show();
                        }
                      },
                    });
                  }
                  function setOnlineStockPHide() {
                    var s = false;
                    $('.__p_sc').each(function () {
                      if (!s) {
                        if ($(this).is(':visible')) {
                          s = true;
                        }
                      } else {
                        $(this).hide();
                      }
                    });
                  }
                  var ph = true;
                  $(document).ajaxComplete(function () {
                    if (ph) {
                      setOnlineStockPHide();
                    }
                  });
                  $('#__div_sl').on('click', function () {
                    if (
                      $('#__div_sl').attr('class').indexOf('df_box_slide_on') <
                      0
                    ) {
                      ph = false;
                      sa.forEach(function (code) {
                        getOnlineStock(code);
                      });
                    } else {
                      setOnlineStockPHide();
                    }
                  });
                  /**
                   * end of 결품 여부 확인
                   */
                </script>
                <ul class="order_gl_item goods_list_wrap">
                  <li class="ogl_main_item item_info">
                    <!-- goods_list_item s -->
                    <a href="/ko/p/CM2D1WOT105W_LE_88">
                      <div class="ogl_item gl_item">
                        <div class="gl_tit">
                          <img
                            src="http://newmedia.thehandsome.com/CM/2D/SS/CM2D1WOT105W_LE_S01.jpg"
                            alt=""
                            class="gl_thumbimg" />
                        </div>
                        <ul class="gl_con">
                          <li class="gl_con_brand">the CASHMERE</li>

                          <li class="gl_con_name">
                            린넨 블렌드 오버사이즈 재킷
                          </li>
                          <li class="gl_con_option">LIGHT BEIGE / 88 / 1개</li>
                          <li class="gl_con_price"><span> ₩745,000</span></li>
                        </ul>
                      </div>
                    </a>
                    <!-- goods_list_item e -->
                  </li>
                  <p
                    name="__p_CM2D1WOT105W_LE_88"
                    class="__p_sc"
                    style="
                      display: none;
                      clear: both;
                      color: #888;
                      padding-top: 16px;
                      font-size: 13px;
                    ">
                    해당 상품은 전국 매장을 통해 수급하여 배송 될 예정입니다.
                    <br />불량 등의 이유로 수급이 어려울 경우, 취소될 수
                    있습니다. <br />
                    <b>(평일 기준 5일 이상 소요 예정)</b>
                    <script type="text/javascript">
                      getOnlineStock('CM2D1WOT105W_LE_88');
                    </script>
                  </p>
                  <li
                    class="ogl_sub_item df_box_slide_con item_info"
                    style="display: none">
                    <!-- goods_list_item s -->
                    <a href="/ko/p/CM2D1WOT105W_LE_82">
                      <div class="ogl_item gl_item">
                        <div class="gl_tit">
                          <img
                            src="http://newmedia.thehandsome.com/CM/2D/SS/CM2D1WOT105W_LE_S01.jpg"
                            alt=""
                            class="gl_thumbimg" />
                        </div>
                        <ul class="gl_con">
                          <li class="gl_con_brand">the CASHMERE</li>
                          <li class="gl_con_name">
                            린넨 블렌드 오버사이즈 재킷
                          </li>
                          <li class="gl_con_option">LIGHT BEIGE / 82 / 1개</li>
                          <li class="gl_con_price"><span> ₩745,000</span></li>
                        </ul>
                      </div>
                    </a>
                    <!-- goods_list_item e -->
                  </li>
                  <p
                    name="__p_CM2D1WOT105W_LE_82"
                    class="__p_sc"
                    style="
                      display: none;
                      clear: both;
                      color: #888;
                      padding-top: 16px;
                      font-size: 13px;
                    ">
                    해당 상품은 전국 매장을 통해 수급하여 배송 될 예정입니다.
                    <br />불량 등의 이유로 수급이 어려울 경우, 취소될 수
                    있습니다. <br />
                    <b>(평일 기준 5일 이상 소요 예정)</b>
                    <script type="text/javascript">
                      getOnlineStock('CM2D1WOT105W_LE_82');
                    </script>
                  </p>
                  <script>
                    var checktHandsomepointUsableAmount = parseInt('1490000.0');
                  </script>
                </ul>

                <div
                  class="check_stl shoppingbag_add_check_wrap"
                  onclick="$('#packopt').click();">
                  <input type="checkbox" name="pack_option" id="packopt" />
                  <label
                    for="shoppingbag_add_check"
                    class="shoppingbag_add_check"
                    >친환경 쇼핑백을 추가합니다. (무료)<!-- tootip s -->
                    <span class="dpIB"
                      ><div
                        class="icon_help btn_tooltip"
                        data-tooltip-target="tooltip_shoppingbag_add"></div
                    ></span>
                    <!-- tootip : contents_area s -->
                    <div class="tooltip_contens"></div>
                    <!-- tootip : contents_area e -->
                    <!-- tootip e -->
                  </label>
                </div>

                <!-- 툴팁 : 쇼핑백추가 s -->
                <div class="tooltip_html">
                  <div class="tooltip_wrap tooltip_shoppingbag_add">
                    <div class="tltp_close_btn btn_tltp_close">
                      <span>닫기</span>
                    </div>
                    <h1 class="tltp_header">쇼핑백추가</h1>
                    <div class="tltp_content">
                      <div class="shoppingbag_img">
                        <img
                          src="http://www.thehandsome.com/_ui/handsomemobile/images/order/img_shoppingbag.jpg"
                          alt="쇼핑백" />
                      </div>
                      <ul class="ul_dot_blk">
                        <li>
                          선물용이나 이동 시 사용할 수 있는, 재활용이 가능한
                          친환경 쇼핑백을 드립니다.
                        </li>
                        <li>
                          더한섬닷컴 전용 친환경 쇼핑백만 발송되며, 브랜드
                          쇼핑백은 발송이 어렵습니다.
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <!-- 툴팁 : 쇼핑백추가 e -->
              </div>
              <!-- df_box : 주문상품 e -->
            </div>
            <script
              language="javascript"
              src="https://stdpay.inicis.com/stdjs/INIStdPay.js"
              type="text/javascript"
              charset="UTF-8"></script>
            <input type="hidden" id="paytype" name="paytype" value="Inicis" />
            <input
              type="hidden"
              id="globalPayment"
              name="globalPayment"
              value="" /><!-- 주문자 정보 -->
            <input
              type="hidden"
              name="ordererMobilePhone"
              id="ordererMobilePhone"
              value="" />
            <input
              type="hidden"
              name="ordererEmail"
              id="ordererEmail"
              value="" />
            <input type="hidden" name="pwdTypeChk" id="pwdTypeChk" value="" />
            <input type="hidden" name="pwdEmptyChk" id="pwdEmptyChk" value="" />
            <input
              type="hidden"
              name="pwdConfirmChk"
              id="pwdConfirmChk"
              value="" />
            <input type="hidden" name="authYn" id="authYn" value="" />

            <input
              type="hidden"
              name="ordererName"
              id="ordererName"
              value="왕종휘" />

            <!-- df_box : 주문자정보입력 s -->
            <div class="df_box orderer_info_input_wrap">
              <h3 class="df_box_tit">주문자 정보</h3>
              <table class="input_table">
                <colgroup>
                  <col width="25%" />
                  <col />
                </colgroup>
                <tbody>
                  <tr>
                    <th><label for="ordrr_name">주문자</label></th>
                    <td><span class="view_data">왕종휘</span></td>
                  </tr>
                  <tr>
                    <th><label for="ordrr_phone">휴대폰</label></th>
                    <td>
                      <ul class="input_phone_stl">
                        <li class="inp_phone1">
                          <div class="select_box">
                            <select
                              id="hp0"
                              name="hp0_num1"
                              title="휴대폰 번호 앞자리">
                              <option value="010">010</option>
                              <option value="011">011</option>
                              <option value="016">016</option>
                              <option value="017">017</option>
                              <option value="018">018</option>
                              <option value="019">019</option>
                            </select>
                          </div>
                        </li>
                        <li class="inp_phone2">
                          <input
                            type="tel"
                            name="hp0_num2"
                            id="hp1"
                            title="휴대폰 번호 가운데자리"
                            maxlength="4"
                            autocomplete="nope" />
                        </li>
                        <li class="inp_phone3">
                          <input
                            type="tel"
                            name="hp0_num3"
                            id="hp2"
                            title="휴대폰 번호 뒷자리"
                            maxlength="4"
                            autocomplete="nope" />
                        </li>
                      </ul>
                      <!-- <p class="err_box" id="hpMsg">영문/숫자/특수문자가능(4자~15자)</p> -->
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- df_box : 주문자정보입력 e -->
            <script type="text/javascript">
              var customerMobilePhoneNumber = '' || '';
              var customerMobilePhoneNumbers =
                customerMobilePhoneNumber.split('-');

              if (
                customerMobilePhoneNumbers.length >= 3 &&
                $.trim(customerMobilePhoneNumbers[0]) != ''
              ) {
                $('#hp0').val(customerMobilePhoneNumbers[0]);
              }
              if (
                customerMobilePhoneNumbers.length >= 3 &&
                $.trim(customerMobilePhoneNumbers[1]) != ''
              ) {
                $('#hp1').val(customerMobilePhoneNumbers[1]);
              }
              if (
                customerMobilePhoneNumbers.length >= 3 &&
                $.trim(customerMobilePhoneNumbers[2]) != ''
              ) {
                $('#hp2').val(customerMobilePhoneNumbers[2]);
              }
            </script>
            <!-- 배송지 정보 StorePickupYN == false -->
            <!-- 수령 매장 정보	StorePickupYN == true -->
            <!-- df_box : 배송지정보 s -->
            <div class="df_box">
              <h3 class="df_box_tit">
                배송지 정보<!-- tootip s 배송지안내 툴팁 삽입 20191022 남일희-->
                <span class="dpIB">
                  <div
                    class="icon_help btn_tooltip"
                    data-tooltip-target="tooltip_deliverymode_info"></div>
                </span>
                <!-- tootip : contents_area s -->
                <div class="tooltip_contens">
                  <div
                    class="tooltip_wrap tooltip_deliverymode_info"
                    style="display: none">
                    <div class="tltp_close_btn btn_tltp_close">
                      <span>닫기</span>
                    </div>
                    <h1 class="tltp_header">포인트 사용</h1>
                    <div class="tltp_content">
                      <ul class="ul_dot_blk">
                        <li>
                          기본배송지 변경은
                          <strong>마이페이지&gt; [배송지관리]</strong>에서
                          가능합니다.
                        </li>
                        <li>
                          기본배송지 설정 시 기본배송지가 최우선으로 노출
                          됩니다.
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <!-- tootip : contents_area e -->
                <!-- tootip e -->
              </h3>
              <!-- tootip : contents_area e -->
              <!-- select_list : 배송지리스트 s -->
              <input type="hidden" id="defaultShipmentAddressPk" value="" />
              <div class="select_list_wrap select_list_dlvr_adrs">
                <!-- select_list : selected_item s -->
                <!-- select_list : selected_item e -->
                <!-- select_list : list_item s -->
                <!-- select_list : list_item s -->

                <div class="slcted_item slcted_noitem" id="dlvr_adrs_none">
                  <div class="slct_con">
                    ​<span class="dlvr_adrs_noitem"
                      >등록된 배송지가 확인되지 않습니다.<br />다른 배송지
                      찾기를 이용하여 배송지를 등록해 주세요.<!-- 등록된 배송지가 확인되지 않습니다.<br/>다른 배송지 찾기를 이용하여 배송지를 등록해 주세요. --></span
                    >
                  </div>
                </div>
              </div>
              <!-- select_list : 배송지리스트 e -->

              <!-- select_list : 배송지메세지리스트 s -->
              <input
                type="hidden"
                id="selectedCompany"
                name="selectedCompany"
                value="" />
              <input
                type="hidden"
                id="isPermanentCompany"
                name="isPermanentCompany"
                value="" />
              <!-- 211026 공동현관 출입방법 S -->
              <h3 class="df_box_tit enter-door211026">
                배송 요청사항
                <!-- tootip s -->
                <span class="dpIB"
                  ><div
                    class="icon_help btn_tooltip"
                    data-tooltip-target="tooltip_discout_info2"></div
                ></span>
                <!-- tootip : contents_area s -->
                <div class="tooltip_contens">
                  <div
                    class="tooltip_wrap tooltip_discout_info2"
                    style="display: none">
                    <div class="tltp_close_btn btn_tltp_close">
                      <span>닫기</span>
                    </div>
                    <h1 class="tltp_header">배송요청사항</h1>
                    <div class="tltp_content">
                      <ul class="ul_dot_blk">
                        <li>
                          공동현관 출입번호가 정확하지 않을 경우, 배송 기사의
                          판단에 따라 1층 공동현관 앞 또는 경비실에 배송될 수
                          있습니다.
                        </li>
                        <li>새벽배송 시 배송 전 연락을 드리지 않습니다.</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <!-- tootip : contents_area e -->
                <!-- tootip e -->
              </h3>
              <!-- 211026 공동현관 출입방법 E-->
              <div class="select_list_wrap select_list_dlvr_msg">
                <!-- select_list : selected_item s -->
                <div class="slcted_item">
                  <div class="slct_con">
                    <span class="gray_fc"
                      >배송메세지를 선택해주세요. (선택)</span
                    >
                  </div>
                </div>
                <!-- select_list : selected_item e -->
                <!-- select_list : list_item s -->
                <ul class="slct_list_con">
                  <li class="slct_list_item" style="cursor: pointer">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="gl_radio_dlvr_msg_0"
                        name="gl_radio_dlvr_msg"
                        value="" />
                      <label for="gl_radio_dlvr_msg_0">
                        <div
                          class="slct_con"
                          deliveryrequestmessage="배송 전 연락 바랍니다">
                          배송 전 연락 바랍니다
                        </div>
                      </label>
                    </div>
                  </li>
                  <li class="slct_list_item" style="cursor: pointer">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="gl_radio_dlvr_msg_1"
                        name="gl_radio_dlvr_msg"
                        value="" />
                      <label for="gl_radio_dlvr_msg_1">
                        <div
                          class="slct_con"
                          deliveryrequestmessage="부재 시 문 앞에 놓아주세요">
                          부재 시 문 앞에 놓아주세요
                        </div>
                      </label>
                    </div>
                  </li>
                  <li class="slct_list_item" style="cursor: pointer">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="gl_radio_dlvr_msg_2"
                        name="gl_radio_dlvr_msg"
                        value="" />
                      <label for="gl_radio_dlvr_msg_2">
                        <div
                          class="slct_con"
                          deliveryrequestmessage="부재 시 경비실에 맡겨주세요">
                          부재 시 경비실에 맡겨주세요
                        </div>
                      </label>
                    </div>
                  </li>
                  <li class="slct_list_item" style="cursor: pointer">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="gl_radio_dlvr_msg_3"
                        name="gl_radio_dlvr_msg"
                        value="" />
                      <label for="gl_radio_dlvr_msg_3">
                        <div
                          class="slct_con"
                          deliveryrequestmessage="빠른 배송 부탁드립니다">
                          빠른 배송 부탁드립니다
                        </div>
                      </label>
                    </div>
                  </li>
                  <li class="slct_list_item" style="cursor: pointer">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="gl_radio_dlvr_msg_4"
                        name="gl_radio_dlvr_msg"
                        value="" />
                      <label for="gl_radio_dlvr_msg_4">
                        <div
                          class="slct_con"
                          deliveryrequestmessage="부재 시 핸드폰으로 연락바랍니다">
                          부재 시 핸드폰으로 연락바랍니다
                        </div>
                      </label>
                    </div>
                  </li>
                  <li
                    class="slct_list_item slct_list_item_self"
                    style="cursor: pointer">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="gl_radio_dlvr_msg_5"
                        name="gl_radio_dlvr_msg"
                        value="" />
                      <label for="gl_radio_dlvr_msg_5">
                        <div class="slct_con" deliveryrequestmessage="직접입력">
                          직접입력
                        </div>
                      </label>
                    </div>
                  </li>
                </ul>
                <!-- select_list : list_item e -->
              </div>
              <div class="slct_list_item_self_input">
                <input
                  type="text"
                  onkeyup="chkword('orderr','orderr_text_length',20);;"
                  onblur="chkword('orderr','orderr_text_length',20);"
                  id="orderr"
                  name="deliveryRequestContents"
                  placeholder="20자 이내로 입력하세요."
                  value="" />
              </div>

              <!-- 211026 공동현관 출입방법 S -->
              <div
                class="select_list_wrap select_list_dlvr_msg enter-door211026">
                <!-- select_list : selected_item s -->
                <div class="slcted_item">
                  <div class="slct_con">
                    <span class="gray_fc">공동현관 출입방법을 선택해주세요</span
                    ><br />
                    <span class="gray_fc2">-문 앞 배송 요청 시 필수사항</span>
                  </div>
                </div>
                <!-- select_list : selected_item e -->
                <!-- select_list : list_item s -->
                <ul class="slct_list_con">
                  <li class="slct_list_item">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="enter_door_04"
                        name="frontDoorSelectMessage"
                        value="공동현관 출입번호" />
                      <label for="enter_door_04">
                        <div class="slct_con">공동현관 출입번호</div>
                      </label>
                      <input
                        type="text"
                        class="enter_door"
                        id="fdMessage_4"
                        placeholder="예) #12341234# (최대 15자)"
                        onkeyup="chkword('fdMessage_4','frontDoorMessage_text_length',15);"
                        onblur="chkword('fdMessage_4','frontDoorMessage_text_length',15);" />
                    </div>
                  </li>
                  <li class="slct_list_item">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="enter_door_05"
                        name="frontDoorSelectMessage"
                        value="자유 출입 가능" />
                      <label for="enter_door_05">
                        <div class="slct_con">자유 출입 가능</div>
                      </label>
                    </div>
                  </li>
                  <li class="slct_list_item">
                    <div class="radio_stl">
                      <input
                        type="radio"
                        id="enter_door_06"
                        name="frontDoorSelectMessage"
                        value="기타" />
                      <label for="enter_door_06">
                        <div class="slct_con">기타</div>
                      </label>
                      <input
                        type="text"
                        class="enter_door add_margin_bottom"
                        id="fdMessage_6"
                        placeholder="15자 이내로 입력하세요"
                        onkeyup="chkword('fdMessage_6','frontDoorMessage_text_length',15);"
                        onblur="chkword('fdMessage_6','frontDoorMessage_text_length',15);" />
                    </div>
                  </li>
                </ul>
                <!-- select_list : list_item e -->
                <input
                  type="hidden"
                  name="frontDoorMessage"
                  id="frontDoorMessage" />
              </div>
              <!-- 211026 공동현관 출입방법 E -->

              <a
                href="/ko/mypage/mydeliveryPopup?depth=1"
                data-layerpop-depth="depth1"
                class="btnstl arrow_btn btn_layerpopup_call btn_other_dlvr call_link_registe_mydelivery"
                >다른 배송지 찾기</a
              >

              <!-- select_list : 배송지메세지리스트 s -->
            </div>
            <!-- df_box : 배송지정보 e -->

            <script>
              $(document).ready(function () {
                $('.select_list_dlvr_msg').on(
                  'click',
                  '.slct_list_con .slct_list_item',
                  function () {
                    //select_list_wrap slide 클릭이벤트(배송메세지 > 직접입력)
                    if ($(this).hasClass('slct_list_item_self')) {
                      $('.slct_list_item_self_input').stop().slideDown();
                    } else {
                      $('.slct_list_item_self_input').stop().slideUp();
                    }
                  }
                );

                $(document).on(
                  'change',
                  '[name="gl_radio_dlvr_adrs"]',
                  function () {
                    selectedDelivery($(this).parent());
                  }
                );

                $(document).on(
                  'change',
                  '[name="gl_radio_dlvr_msg"]',
                  function () {
                    if (
                      $(this).parent().parent().hasClass('slct_list_item_self')
                    ) {
                      $('input[name=deliveryRequestContents]').val('');
                    } else {
                      $('input[name=deliveryRequestContents]').val(
                        $(this)
                          .parent()
                          .find('.slct_con')
                          .attr('deliveryRequestMessage')
                      );
                    }
                  }
                );

                selectedDelivery($('.delivery_selected_item_area'));

                // VIP 배송사 선택 Radio 버튼 재선택시 해제 가능하도록 처리
                var post_checked = $('#deilvy_rdo01').prop('checked');
                var cj_checked = $('#deilvy_rdo02').prop('checked');
                $(":radio[name='deilvy_rdo']").click(function () {
                  var _clickId = $(this).attr('id');
                  if (
                    ('deilvy_rdo01' == _clickId && post_checked == true) ||
                    ('deilvy_rdo02' == _clickId && cj_checked == true)
                  ) {
                    $(this).prop('checked', false);
                  }
                  post_checked = $('#deilvy_rdo01').prop('checked');
                  cj_checked = $('#deilvy_rdo02').prop('checked');
                });
                // VIP 배송사 선택 후 확인 버튼 클릭시
                $(
                  '.m_deilv_pop .btn_close200229,.m_deilv_pop .btn_confirm_200229'
                ).on('click', function () {
                  if ($(this).hasClass('btn_confirm_200229')) {
                    var selectedCompany = '';
                    var isPermanentCompany = false;
                    if ($(":radio[id='deilvy_rdo01']").prop('checked')) {
                      selectedCompany = 'POST_OFFICE';
                      $('.m_deilvery_chk .m_deilvery_chk_on').show();
                      $('.m_deilvery_chk .m_deilvery_chk_off').hide();
                      $('#postOfficeDeliveryNotice').show();
                      $('.m_deilvery_chk .m_deilvery_chk_on em').text(
                        '우체국 택배로 배송됩니다.'
                      );
                    } else if ($(":radio[id='deilvy_rdo02']").prop('checked')) {
                      selectedCompany = 'CJ_LOGISTICS';
                      $('.m_deilvery_chk .m_deilvery_chk_on').show();
                      $('.m_deilvery_chk .m_deilvery_chk_off').hide();
                      $('#postOfficeDeliveryNotice').hide();
                      $('.m_deilvery_chk .m_deilvery_chk_on em').text(
                        'CJ대한통운으로 배송됩니다.'
                      );
                    } else {
                      $('.m_deilvery_chk .m_deilvery_chk_on').hide();
                      $('.m_deilvery_chk .m_deilvery_chk_off').show();
                      $(":checkbox[id='nshow']").prop('checked', false);
                      isPermanentCompany = false;
                    }
                    if ($(":checkbox[id='nshow']").prop('checked')) {
                      isPermanentCompany = true;
                    }
                    $('#selectedCompany').val(selectedCompany);
                    $('#isPermanentCompany').val(isPermanentCompany);
                  }
                  $('#popback_200229').hide();
                  /* $(".popback_200229 .bg200229").hide();
          $(".popback_200229 .m_deilv_pop").hide(); */
                });
              });

              // 배송지 찾기 선택 후 처리
              function fn_mydeliverycallback(cbdata) {
                var deliveryName = cbdata.name;
                var deliveryCellPhone = cbdata.cellphone;
                var deliveryPostal = cbdata.zipcode;
                var deliveryLine1 = cbdata.address1;
                var deliveryLine2 = cbdata.address2;
                var deliveryLine2_raw = cbdata.address2_raw;
                var defaultShipmentAddress = cbdata.defaultShipmentAddress;
                var deliveryPk = cbdata.pk;

                if (
                  deliveryName == '' ||
                  deliveryCellPhone == '' ||
                  deliveryPostal == '' ||
                  deliveryLine1 == '' ||
                  deliveryLine2 == ''
                ) {
                  return;
                }

                var isQuick = false;

                if (isQuick) {
                  var checkCode = deliveryPostal.substring(0, 2);
                  if (!('01,02,03,04,05,06,07,08,09'.indexOf(checkCode) > -1)) {
                    var lc = new layerAlert(
                      '퀵배송 서비스 불가능  지역입니다.</br>배송지 변경 후 이용해 주세요.<br/>(서울 전 지역 가능, 향후 서비스 확대 예정입니다.)'
                    );
                    return false;
                  }
                }

                if ($('#dlvr_adrs_none').length > 0) {
                  $('#dlvr_adrs_none').remove();
                }

                if ($('.select_list_dlvr_adrs .slct_list_con').length > 0) {
                  $(
                    ".select_list_dlvr_adrs .slct_list_con input[type='radio']"
                  ).attr('checked', false);

                  if (
                    $('.select_list_dlvr_adrs .slct_list_con').css('display') ==
                    'block'
                  ) {
                    $('.select_list_dlvr_adrs .slct_list_con').hide();
                    $('.select_list_dlvr_adrs .slct_list_con')
                      .parent()
                      .removeClass('select_list_wrap_on');
                  }
                }

                fn_setShippingAddresses(defaultShipmentAddress, deliveryPk);

                var shippingAddressCnt = 0;
                $('#shippingAddressesArea .slct_con').each(function () {
                  if (
                    $(this).find('.none_delivery_id').html() !=
                    defaultShipmentAddress
                  ) {
                    $(this).removeClass('bk_flag');
                  }

                  if ($(this).find('.none_delivery_id').html() != deliveryPk) {
                    shippingAddressCnt++;
                  }
                });

                $('#defaultShipmentAddressPk').val(defaultShipmentAddress);
                var bk_flag = '';

                if ('ko' == 'ko') {
                  bk_flag =
                    defaultShipmentAddress == deliveryPk ? 'bk_flag' : '';
                }

                var changeItemDelivery = '';
                changeItemDelivery +=
                  '  <div class="' +
                  (shippingAddressCnt > 0 ? 'slcted_item' : '') +
                  ' delivery_selected_item_area">';
                <!-- 선택한 배송지가 기본배송지일경우 기본배송지 표시 20191022 남일희 -->
                changeItemDelivery +=
                  '  	<div class="slct_con ' + bk_flag + '">';
                changeItemDelivery +=
                  '  		<span class="dlvr_adrs_name">' +
                  deliveryName +
                  '</span> / <span class="dlvr_adrs_phone">' +
                  deliveryCellPhone +
                  '</span><br />';
                changeItemDelivery +=
                  '  		 (<span class="dlvr_adrs_zipcode">' +
                  deliveryPostal +
                  '</span>) ';
                changeItemDelivery += '  		 <span class="dlvr_adrs_adrs">';
                changeItemDelivery +=
                  '  		 	<span class="address_line1">' + deliveryLine1 + '</span>';
                changeItemDelivery +=
                  '  		 	<span class="address_line2">' + deliveryLine2 + '</span>';
                changeItemDelivery +=
                  '  		 	<span class="none_delivery" style="display:none;">';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_id">' + cbdata.pk + '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_phone">' +
                  cbdata.phone +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_email">' +
                  cbdata.email +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_firstName">' +
                  cbdata.firstName +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_country">' +
                  cbdata.country +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_state">' +
                  cbdata.state +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_town">' +
                  cbdata.town +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_localFirstName">' +
                  cbdata.localFirstName +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_localLastName">' +
                  cbdata.localLastName +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_maxAmtForTax">' +
                  cbdata.maxAmtForTax +
                  '</span>';
                changeItemDelivery +=
                  '  		 	 	<span class="none_delivery_cellphone">' +
                  cbdata.cellphone +
                  '</span>';
                changeItemDelivery += '  		 	</span>';
                changeItemDelivery += '  		 </span>';
                changeItemDelivery += '  	</div> ';
                changeItemDelivery += '  </div>';

                if ($('.delivery_selected_item_area').length > 0) {
                  $('.delivery_selected_item_area').remove();
                }
                $('.select_list_dlvr_adrs').prepend(changeItemDelivery);

                if ($('#address_line2_raw_callback').val() == undefined) {
                  $('<input>')
                    .attr({
                      type: 'hidden',
                      id: 'address_line2_raw_callback',
                      value: deliveryLine2_raw,
                    })
                    .appendTo('body');
                } else {
                  $('#address_line2_raw_callback').val(deliveryLine2_raw);
                }

                selectedDelivery($('.delivery_selected_item_area'));
              }

              function selectedDelivery(useDelivery) {
                if (useDelivery.length > 0) {
                  $('input[name=lastName]').val(
                    $.trim(useDelivery.find('.dlvr_adrs_name').html())
                  );
                  $('input[name=addressId]').val(
                    $.trim(useDelivery.find('.none_delivery_id').html())
                  );
                  $('input[name=postcode]').val(
                    $.trim(useDelivery.find('.dlvr_adrs_zipcode').html())
                  );
                  $('input[name=line1]').val(
                    $.trim(useDelivery.find('.address_line1').html())
                  );
                  if (
                    $('#address_line2_raw_callback').val() != undefined &&
                    $('#address_line2_raw_callback').val() != ''
                  ) {
                    $('input[name=line2]').val(
                      $.trim($('#address_line2_raw_callback').val())
                    );
                    $('#address_line2_raw_callback').val('');
                  } else if (
                    $('#address_line2_raw').val() != undefined &&
                    $('#address_line2_raw').val() != ''
                  ) {
                    $('input[name=line2]').val(
                      $.trim($('#address_line2_raw').val())
                    );
                  } else {
                    $('input[name=line2]').val(
                      $.trim(useDelivery.find('.address_line2').html())
                    );
                  }

                  var hp_num = $.trim(
                    useDelivery.find('.dlvr_adrs_phone').html()
                  ).split('-');
                  $('input[name=hp_num1]').val(hp_num[0]);
                  $('input[name=hp_num2]').val(hp_num[1]);
                  $('input[name=hp_num3]').val(hp_num[2]);

                  var ph_num = $.trim(
                    useDelivery.find('.none_delivery_phone').html()
                  ).split('-');
                  $('input[name=ph_num2]').val(ph_num[0]);
                  $('input[name=ph_num2]').val(ph_num[1]);
                  $('input[name=ph_num3]').val(ph_num[2]);

                  $('input[name=email]').val(
                    $.trim(useDelivery.find('.none_delivery_email').html())
                  );

                  // 배송비 셋팅
                  setDeliveryMode();

                  var defaultAddressPk = $('#defaultShipmentAddressPk').val();
                  var deliveryPk = $.trim(
                    useDelivery.find('.none_delivery_id').html()
                  );

                  <!-- 선택한 배송지가 기본배송지일경우 기본배송지 표시 20191022 남일희 -->
                  if (
                    defaultAddressPk != '' &&
                    defaultAddressPk == deliveryPk
                  ) {
                    $('.delivery_selected_item_area .slct_con').addClass(
                      'bk_flag'
                    );
                  } else {
                    $('.delivery_selected_item_area .slct_con').removeClass(
                      'bk_flag'
                    );
                  }
                }
              }

              function selectRegion(self, isCouponUpdate) {
                var region = $('#region').val();
                var totalPrice = $('#total').val();
                var deliveryCost = $('#cartDeliveryCost').val();
                var customDueAmount = $('#customDueAmount').val();
                var maxAmtForTax = self
                  .find('.none_delivery_maxAmtForTax')
                  .html();

                totalPrice = totalPrice != null ? Number(totalPrice) : 0;
                deliveryCost = deliveryCost != null ? Number(deliveryCost) : 0;
                customDueAmount =
                  customDueAmount != null ? Number(customDueAmount) : 0;
                maxAmtForTax = maxAmtForTax != null ? Number(maxAmtForTax) : 0;

                var subTotal = totalPrice - deliveryCost - customDueAmount;

                var applyChinaTariffProxyService = false;
                if (region == 'CN' && applyChinaTariffProxyService) {
                  if (subTotal < maxAmtForTax) {
                    var customDutiesPaymentYN = $(
                      '#customDutiesPaymentYN'
                    ).val();
                    if (customDutiesPaymentYN == 1 && isCouponUpdate == true) {
                      var la = new globalLayerAlert3();
                      setDeliveryModeGlobal();
                    } else {
                      var lc = new globalLayerConfirm();
                      lc.confirmAction = function () {
                        var la = new globalLayerAlert('confirm');
                        $('#customDutiesPaymentYN').val(1);
                        setDeliveryModeGlobal();
                      };

                      lc.cancelAction = function () {
                        var la = new globalLayerAlert('cancel');
                        $('#customDutiesPaymentYN').val(0);
                        setDeliveryModeGlobal();
                      };
                    }
                  } else {
                    var la = new globalLayerAlert2();
                    $('#customDutiesPaymentYN').val(0);
                    $('.con_tab01 .input_txt_box1910').val('');
                    $('.con_tab02 .input_txt_box1910').val('');
                    setDeliveryModeGlobal();
                  }

                  $('#customDutyVat').show();
                } else {
                  $('#customDutiesPaymentYN').val(0);
                  $('#customDutyVat').hide();
                  $('.con_tab01 .input_txt_box1910').val('');
                  $('.con_tab02 .input_txt_box1910').val('');
                  setDeliveryModeGlobal();
                }
              }

              function fn_notUseCustomDutiesPayment() {
                $('#customDutiesPaymentYN').val(0);
                // 		$("#customDutyVat").hide();
                $('.con_tab01 .input_txt_box1910').val('');
                $('.con_tab02 .input_txt_box1910').val('');
                setDeliveryModeGlobal();
              }

              function setDeliveryMode() {
                var island = false;
                if (
                  $('#adress').val() >= 63000 &&
                  $('#adress').val() <= 63644
                ) {
                  island = true;
                }

                var isQuick = false;

                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/deliveryMode',
                  dataType: 'json',
                  data: { island: island, isQuick: isQuick },
                  success: function (data) {
                    $('#checkoutCartTotalPrice').html(data.totalPricePage);
                    changeOrderButtonText();
                    if (typeof fn_updateDiscInfo === 'function') {
                      fn_updateDiscInfo();
                    }
                    if (typeof showExchangeRate == 'function')
                      showExchangeRate();
                  },
                });
              }

              function setDeliveryModeGlobal() {
                var isoCode = $('input[name=countryIso]').val();
                var customDueYn = $('#customDutiesPaymentYN').val();

                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/deliveryModeGlobal',
                  dataType: 'json',
                  data: { isoCode: isoCode, customDueYn: customDueYn },
                  success: function (data) {
                    $('#checkoutCartTotalPrice').html(data.totalPricePage);
                    if (typeof showExchangeRate == 'function')
                      showExchangeRate();
                    // changeOrderButtonText();
                    var totalPrice = $('#total').val();
                    $('#doOrderBtn span b').html(addComma(Number(totalPrice)));
                  },
                });
              }

              function fn_setShippingAddresses(
                defaultShipmentAddress,
                selectAddress
              ) {
                var nowDefaultAddress = $('.delivery_selected_item_area')
                  .find('.none_delivery_id')
                  .html();

                if (nowDefaultAddress != defaultShipmentAddress) {
                  $('.delivery_selected_item_area .slct_con').removeClass(
                    'bk_flag'
                  );
                }

                if (selectAddress == null || selectAddress == '') {
                  selectAddress = nowDefaultAddress;
                }

                $('#defaultShipmentAddressPk').val(defaultShipmentAddress);

                $.ajax({
                  type: 'GET',
                  url: '/ko/mypage/getNowShippingAddressList',
                  dataType: 'json',
                  success: function (data) {
                    var result = data.result;

                    if (result == 'SUCCESS') {
                      var addressList = data.shippingAddresses;

                      var changeItemDelivery = '';
                      var shippingAddressCnt = 0;
                      for (var i = 0; i < addressList.length; i++) {
                        var bk_flag = '';
                        if ('ko' == 'ko') {
                          bk_flag =
                            defaultShipmentAddress == addressList[i].id
                              ? 'bk_flag'
                              : '';
                        }

                        if (addressList[i].id != selectAddress) {
                          shippingAddressCnt++;
                        }

                        changeItemDelivery += "	<li class='slct_list_item'>";
                        changeItemDelivery += "		<div class='radio_stl'>";
                        changeItemDelivery +=
                          "			<input type='radio' id='gl_radio_dlvr_adrs_" +
                          i +
                          "' name='gl_radio_dlvr_adrs' value='' " +
                          (selectAddress == addressList[i].id
                            ? "checked='checked'"
                            : '') +
                          '/>';
                        changeItemDelivery +=
                          "			<label for='gl_radio_dlvr_adrs_" + i + "'>";
                        changeItemDelivery +=
                          "				<div class='slct_con " + bk_flag + "'>";
                        changeItemDelivery +=
                          "					<span class='dlvr_adrs_name'>" +
                          addressList[i].lastName +
                          "</span> / <span class='dlvr_adrs_phone'>" +
                          addressList[i].cellphone +
                          '</span><br />';
                        changeItemDelivery +=
                          "					(<span class='dlvr_adrs_zipcode'>" +
                          addressList[i].postalCode +
                          '</span>)';
                        changeItemDelivery += "					<span class='dlvr_adrs_adrs'>";
                        changeItemDelivery +=
                          "						<span class='address_line1'>" +
                          addressList[i].line1 +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='address_line2'>" +
                          addressList[i].line2 +
                          '</span>';
                        changeItemDelivery += '					</span>';
                        changeItemDelivery +=
                          "					<span class='none_delivery' style='display:none;'>";
                        changeItemDelivery +=
                          "						<span class='none_delivery_id'>" +
                          addressList[i].id +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_phone'>" +
                          addressList[i].phone +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_email'>" +
                          addressList[i].email +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_firstName'>" +
                          addressList[i].firstName +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_country'>" +
                          addressList[i].country.isocode +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_state'>" +
                          addressList[i].state +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_town'>" +
                          addressList[i].town +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_localFirstName'>" +
                          addressList[i].localFirstName +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_localLastName'>" +
                          addressList[i].localLastName +
                          '</span>';
                        changeItemDelivery +=
                          "						<span class='none_delivery_maxAmtForTax'>" +
                          addressList[i].country.maxAmtForTaxApply +
                          '</span>';
                        changeItemDelivery += '					</span>';
                        changeItemDelivery += '				</div>';
                        changeItemDelivery += '			</label>';
                        changeItemDelivery += '		</div>';
                        changeItemDelivery += '	</li>';
                      }
                      $('#shippingAddressesArea').html(changeItemDelivery);
                      if (shippingAddressCnt > 0) {
                        $('.delivery_selected_item_area').removeClass(
                          'slcted_item'
                        );
                        $('.delivery_selected_item_area').addClass(
                          'slcted_item'
                        );
                      }
                    } else {
                    }
                  },
                });
              }

              // 글로벌 관세 2019.11.08 추가
              function dutyCkout1909(self) {
                if ($(self).val() == '1') {
                  $('.con_tab01 .input_txt_box1910').removeAttr('disabled');
                  $('.con_tab02 .input_txt_box1910').attr('disabled', true);
                  $('.con_tab02 .input_txt_box1910').val('');
                  $('#passport_err_msg').text('');
                } else {
                  $('.con_tab02 .input_txt_box1910').removeAttr('disabled');
                  $('.con_tab01 .input_txt_box1910').attr('disabled', true);
                  $('.con_tab01 .input_txt_box1910').val('');
                  $('#idcard_err_msg').text('');
                }
              }
              function openVipSelectDelivery() {
                var setIsPermanentCompany = $('#isPermanentCompany').val();
                var setSelectedCompany = $('#selectedCompany').val();
                $('#popback_200229').show();
                /* $(".popback_200229 .bg200229").show();
          $(".popback_200229 .m_deilv_pop").show(); */

                if (setSelectedCompany == 'POST_OFFICE') {
                  $(":radio[id='deilvy_rdo01']").prop('checked', true);
                  $(":radio[id='deilvy_rdo02']").prop('checked', false);
                } else if (setSelectedCompany == 'CJ_LOGISTICS') {
                  $(":radio[id='deilvy_rdo01']").prop('checked', false);
                  $(":radio[id='deilvy_rdo02']").prop('checked', true);
                } else {
                  $(":radio[id='deilvy_rdo01']").prop('checked', false);
                  $(":radio[id='deilvy_rdo02']").prop('checked', false);
                }

                if (setIsPermanentCompany == 'true') {
                  $(":checkbox[id='nshow']").prop('checked', true);
                } else {
                  $(":checkbox[id='nshow']").prop('checked', false);
                }
              }

              var globalLayerConfirm = function (msg) {
                var alertTag = '';
                alertTag += '<div class="popback_191022">';
                alertTag += '	<div class="bg191022"></div>';
                alertTag += '	<div class="notipop_20191022">';
                alertTag += '		<div class="pop_cnt">';
                alertTag += '			<div class="notipop_20191022_cnt">';
                alertTag +=
                  '				<p>handsome.checkout.customduties.vat.lessthan80.confirm</p>';
                alertTag += '			</div>';
                alertTag += '			<div class="hs_pop_btn_wrap">';
                alertTag +=
                  '				<button class="hs_white_comm_btn">handsome.checkout.customduties.vat.lessthan80.confirm.btnCancel</button>';
                alertTag +=
                  '				<button class="hs_black_comm_btn">handsome.checkout.customduties.vat.lessthan80.confirm.btnOk</button>';
                alertTag += '			</div>';
                // 		alertTag += '		<a href="#" onclick="fn_notUseCustomDutiesPayment();" class="btn_close191022 dvp_close_btn b-close" id="confirmCloseDiv">';
                // 		alertTag += '			<img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common_sub/ico_close_14.png">';
                // 		alertTag += '		</a>';
                alertTag += '	</div>';
                alertTag += '</div>';

                var t = this;
                this.confirmAction = function () {};
                this.cancelAction = function () {};

                $('#popAlertConfirmDiv').html(alertTag);

                $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
                  follow: [false, false],
                  escClose: false,
                  modalClose: false,
                  opacity: 0.3,
                  positionStyle: 'fixed',
                  onClose: function () {
                    holdBodyHide();
                    $('#popAlertConfirmDiv').html('');
                  },
                });
                holdBodyShow();

                $('#popAlertConfirmDiv')
                  .find('.hs_white_comm_btn')
                  .click(function () {
                    $('#confirmCloseDiv').click();
                    t.cancelAction();
                  });

                $('#popAlertConfirmDiv')
                  .find('.hs_black_comm_btn')
                  .click(function () {
                    $('#confirmCloseDiv').click();
                    t.confirmAction();
                  });
              };

              var globalLayerAlert = function (type) {
                var alertTag = '';
                alertTag += '<div class="popback_191022">';
                alertTag += '	<div class="bg191022"></div>';
                alertTag += '	<div class="notipop_20191022">';
                if (type == 'confirm') {
                  alertTag += '		<div class="pop_tltwrap3">';
                  alertTag +=
                    '			<h3>handsome.checkout.customduties.vat.lessthan80.confirmY.layer.title</h3>';
                  alertTag += '		</div>';
                }
                alertTag += '		<div class="pop_cnt">';
                alertTag += '			<div class="notipop_20191022_cnt">';
                if (type == 'confirm') {
                  alertTag += '				<span class="reference_mark">※</span>';
                  alertTag +=
                    '				<p class="reference_mark_txt">handsome.checkout.customduties.vat.lessthan80.confirmY.layer.content1</p>';
                  alertTag += '				<span class="reference_mark">※</span>';
                  alertTag +=
                    '				<p class="reference_mark_txt">handsome.checkout.customduties.vat.lessthan80.confirmY.layer.content2</p>';
                  alertTag += '				<span class="reference_mark">※</span>';
                  alertTag +=
                    '				<p class="reference_mark_txt">handsome.checkout.customduties.vat.lessthan80.confirmY.layer.content3</p>';
                } else {
                  alertTag +=
                    '				<p>handsome.checkout.customduties.vat.lessthan80.confirmN.layer</p>';
                }
                alertTag += '			</div>';
                alertTag += '			<div class="hs_pop_btn_wrap">';
                alertTag +=
                  '				<button class="hs_black_comm_btn" id="layerBtn">handsome.checkout.customduties.vat.lessthan80.confirm.btnOk</button>';
                alertTag += '			</div>';
                alertTag +=
                  '		<a href="#;" class="btn_close191022 dvp_close_btn b-close" id="alertCloseDiv">';
                alertTag +=
                  '			<img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common_sub/ico_close_14.png">';
                alertTag += '		</a>';
                alertTag += '	</div>';
                alertTag += '</div>';

                var t = this;
                this.confirmAction = function () {};

                $('#popAlertConfirmDiv').html(alertTag);

                $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
                  follow: [false, false],
                  escClose: false,
                  modalClose: false,
                  opacity: 0.3,
                  positionStyle: 'fixed',
                  onClose: function () {
                    holdBodyHide();
                    $('#popAlertConfirmDiv').html('');
                  },
                });
                holdBodyShow();

                $('#popAlertConfirmDiv')
                  .find('.hs_black_comm_btn')
                  .click(function () {
                    $('#alertCloseDiv').click();
                    t.confirmAction();
                  });
              };

              var globalLayerAlert2 = function () {
                var alertTag = '';
                alertTag += '<div class="popback_191022">';
                alertTag += '	<div class="bg191022"></div>';
                alertTag += '	<div class="notipop_20191022">';
                alertTag += '		<div class="pop_cnt">';
                alertTag += '			<div class="notipop_20191022_cnt">';
                alertTag += '				<p>';
                alertTag +=
                  "					<span style='font-size:16px; font-weight:bold;'>handsome.checkout.customduties.over80.layer</span>";
                alertTag += '					<br>';
                alertTag += '					handsome.checkout.customduties.over80.layer2';
                alertTag += '				</p>';
                alertTag += '			</div>';
                alertTag += '			<div class="hs_pop_btn_wrap">';
                alertTag +=
                  '				<button class="hs_black_comm_btn" id="layerBtn">handsome.checkout.customduties.vat.lessthan80.confirm.btnOk</button>';
                alertTag += '			</div>';
                alertTag +=
                  '		<a href="#;" class="btn_close191022 dvp_close_btn b-close" id="alertCloseDiv">';
                alertTag +=
                  '			<img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common_sub/ico_close_14.png">';
                alertTag += '		</a>';
                alertTag += '	</div>';
                alertTag += '</div>';

                var t = this;
                this.confirmAction = function () {};

                $('#popAlertConfirmDiv').html(alertTag);

                $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
                  follow: [false, false],
                  escClose: false,
                  modalClose: false,
                  opacity: 0.3,
                  positionStyle: 'fixed',
                  onClose: function () {
                    holdBodyHide();
                    $('#popAlertConfirmDiv').html('');
                  },
                });
                holdBodyShow();

                $('#popAlertConfirmDiv')
                  .find('.hs_black_comm_btn')
                  .click(function () {
                    $('#alertCloseDiv').click();
                    t.confirmAction();
                  });
              };

              var globalLayerAlert3 = function () {
                var alertTag = '';
                alertTag += "<div class='popback_191022'>";
                alertTag += "	<div class='bg191022'></div>";
                alertTag += "	<div class='notipop_20191022'>";
                alertTag += "		<div class='pop_cnt'>";
                alertTag +=
                  "			<div class='notipop_20191022_cnt' style='min-height: 0px;'>";
                alertTag += '				<p>';
                alertTag += '					handsome.checkout.customduties.coupon.layer';
                alertTag += '				</p>';
                alertTag += '			</div>';
                alertTag += "			<div class='hs_pop_btn_wrap'>";
                alertTag +=
                  "				<button class='hs_black_comm_btn' id='layerBtn'>handsome.checkout.customduties.vat.lessthan80.confirm.btnOk</button>";
                alertTag += '			</div>';
                alertTag +=
                  "		<a href='#;' class='btn_close191022 dvp_close_btn b-close' id='alertCloseDiv'>";
                alertTag +=
                  "			<img src='http://cdn.thehandsome.com/_ui/handsomemobile/images/common_sub/ico_close_14.png'>";
                alertTag += '		</a>';
                alertTag += '	</div>';
                alertTag += '</div>';

                var t = this;
                this.confirmAction = function () {};

                $('#popAlertConfirmDiv').html(alertTag);

                $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
                  follow: [false, false],
                  escClose: false,
                  modalClose: false,
                  opacity: 0.3,
                  positionStyle: 'fixed',
                  onClose: function () {
                    holdBodyHide();
                    $('#popAlertConfirmDiv').html('');
                  },
                });
                holdBodyShow();

                $('#popAlertConfirmDiv')
                  .find('.hs_black_comm_btn')
                  .click(function () {
                    $('#alertCloseDiv').click();
                    t.confirmAction();
                  });
              };
            </script>
            <input type="hidden" name="addressId" id="addressId" value="" />
            <input type="hidden" name="lastName" id="rcpt_name" value="" />
            <input type="hidden" name="postcode" id="adress" value="" />
            <input type="hidden" name="line1" id="line1" value="" />
            <input type="hidden" name="line2" id="line2" value="" />
            <input type="hidden" name="hp_num1" id="hp" value="" />
            <input type="hidden" name="hp_num2" id="hp_num2" value="" />
            <input type="hidden" name="hp_num3" id="hp_num3" value="" />
            <input type="hidden" name="ph_num1" id="ph" value="" />
            <input type="hidden" name="ph_num2" id="ph_num2" value="" />
            <input type="hidden" name="ph_num3" id="ph_num3" value="" />
            <input type="hidden" name="email" id="email" value="" />

            <script>
              $(document).ready(function () {
                $('input[name=deliveryRequestContents]').change(function () {
                  chkword();
                });
              });

              function chkword() {
                var strValue = $('input[name=deliveryRequestContents]').val();
                var strLen = strValue.length;
                var maxByte = 20;
                var str2 = '';

                if (strLen > maxByte) {
                  layerAlert('20자 이내로 입력하세요.');
                  str2 = strValue.substr(0, maxByte);
                  $('input[name=deliveryRequestContents]').val(str2);
                  strLen = str2.length;
                }
              }
            </script>

            <!-- 할인 ( 쿠폰, 보조결제수단 ) -->
            <!-- ì¿ í° ì ì© -->
            <!-- df_box : ì¿ í°ì ì© s -->

            <div class="df_box">
              <h3 class="df_box_tit">쿠폰 및 혜택 적용</h3>
              <div
                id="voucherArea"
                class="couponselectArea"
                style="display: none">
                <div class="text_coupon_slct_wrap online_coupon_box">
                  <div class="select_box">
                    <select id="selectVoucher">
                      <option value="">쿠폰을 선택해 주세요.</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="coupon_insert">
                <input
                  type="text"
                  name="voucherCode"
                  id="voucherCode"
                  placeholder="쿠폰 코드를 입력해 주세요." />
                <a href="#none" class="btnstl2 border_btn_blk btn_input_apply"
                  >적용</a
                >
                <a href="#none" class="btn_input_reset"><span>초기화</span></a>
              </div>

              <div id="pvoucherArea" class="couponselectArea"></div>
            </div>
            <!-- df_box : ì¿ í°ì ì© e -->

            <script>
              $(document).ready(function () {
                $('#voucherCode')
                  .parent('.coupon_insert')
                  .on('click', '.btn_input_apply', function (e) {
                    // ì¿ í°ì ì©ê´ë ¨ : ì ì©ë²í¼
                    e.preventDefault();
                    voucherToggleBtnInputApply($(this));
                  });
                $('#voucherCode')
                  .parent('.coupon_insert')
                  .on('click', '.btn_input_apply_cancle', function (e) {
                    // ì¿ í°ì ì©ê´ë ¨ : ì·¨ìë²í¼
                    e.preventDefault();
                    releaseVoucher($(this), $('#voucherCode').val(), true);
                  });
                $('#pvoucherCode')
                  .parent('.coupon_insert')
                  .on('click', '.btn_input_apply', function (e) {
                    // ì¿ í°ì ì©ê´ë ¨ : ì ì©ë²í¼
                    e.preventDefault();
                    pvoucherToggleBtnInputApply($(this));
                  });
                $('#pvoucherCode')
                  .parent('.coupon_insert')
                  .on('click', '.btn_input_apply_cancle', function (e) {
                    // ì¿ í°ì ì©ê´ë ¨ : ì·¨ìë²í¼
                    e.preventDefault();
                    releasePVoucher($(this), $('#pvoucherCode').val(), true);
                  });

                //coupon, vvip select
                $('#lp_radio_dlvr_adrs_01').on('click', function (e) {
                  var selectVoucher = $('#selectVoucher');
                  var selectVoucherLength = $('#selectVoucher option').length;

                  var pselectVoucher = $('#pselectVoucher');
                  var pselectVoucherLnegth = $('#pselectVoucher option').length;

                  var vipDiscountCheck = $('#vipDiscountCheck');

                  if (selectVoucher.val() == '' && selectVoucherLength > 0) {
                    $('#selectVoucher option:eq(1)').prop('selected', true);
                    selectVoucher.change();
                  }

                  if (pselectVoucher.val() == '' && pselectVoucherLnegth > 0) {
                    $('#pselectVoucher option:eq(1)').prop('selected', true);
                    pselectVoucher.change();
                  }

                  if (vipDiscountCheck.is(':checked')) {
                    vipDiscountCheck.prop('checked', false);
                    setVipDiscountAmountValue(vipDiscountCheck);
                  }
                });

                $('#lp_radio_dlvr_adrs_02').on('click', function (e) {
                  var voucherCode = $('#voucherCode').val().trim();

                  if (voucherCode.length > 0) {
                    releaseVoucher(
                      $('.coupon_insert .btn_input_apply_cancle'),
                      voucherCode,
                      true
                    );
                  }

                  $('.vvip_familyBenefit_price_btn').show();
                });

                // ì¿ í°ì í
                $('.couponselectArea')
                  .find('select')
                  .on('change', function () {
                    var whereSelected = $(this).attr('id');
                    var codeObj;
                    var buttonObj;
                    var vipDiscountCheck = $('#vipDiscountCheck');

                    if (whereSelected == 'selectVoucher') {
                      codeObj = $('#voucherCode');
                      buttonObj = codeObj
                        .parent('.coupon_insert')
                        .find('.btnstl2');
                      voucherToggleBtnInputApply(buttonObj);

                      $('#lp_radio_dlvr_adrs_01').prop('checked', true);
                      $('.vvip_familyBenefit_price_btn').hide();

                      if (vipDiscountCheck.is(':checked')) {
                        vipDiscountCheck.prop('checked', false);
                        setVipDiscountAmountValue(vipDiscountCheck);
                      }
                    } else if (whereSelected == 'pselectVoucher') {
                      codeObj = $('#pvoucherCode');
                      buttonObj = codeObj
                        .parent('.coupon_insert')
                        .find('.btnstl2');
                      pvoucherToggleBtnInputApply(buttonObj);

                      $('#lp_radio_dlvr_adrs_01').prop('checked', true);
                      $('.vvip_familyBenefit_price_btn').hide();

                      if (vipDiscountCheck.is(':checked')) {
                        vipDiscountCheck.prop('checked', false);
                        setVipDiscountAmountValue(vipDiscountCheck);
                      }
                    } else {
                      return;
                    }
                  });

                $('#voucherCode').on('input', function () {
                  this.value = this.value.toUpperCase();
                });

                if ($('#selectVoucher option').length <= 1) {
                  $('#voucherArea').hide();
                }

                $('.vvip_familyBenefit_price_btn').hide();
              });

              function voucherToggleBtnInputApply(objBtn) {
                // ê¸°ì¡´ ê² release (ì¨ë¼ì¸)
                var result = null;
                if (
                  $('#voucherCode').val() != '' &&
                  objBtn.hasClass('btn_input_apply_cancle')
                ) {
                  result = releaseVoucher(
                    objBtn,
                    $('#voucherCode').val(),
                    false
                  );
                }

                if (result != null) {
                  result.done(function (data) {
                    if (
                      $('#selectVoucher option:selected').index() > 0 ||
                      ($('#selectVoucher option:selected').index() == 0 &&
                        $('#voucherCode').val() != '')
                    ) {
                      redeemVoucher(objBtn);
                    }
                  });
                } else {
                  if (
                    $('#selectVoucher option:selected').index() > 0 ||
                    ($('#selectVoucher option:selected').index() == 0 &&
                      $('#voucherCode').val() != '')
                  ) {
                    if (objBtn.hasClass('btn_input_apply')) {
                      redeemVoucher(objBtn);
                    } else {
                      releaseVoucher(objBtn, $('#voucherCode').val(), true);
                    }
                  }
                }
              }

              function voucherUncheck(areaName) {
                $('#' + areaName).val('');
              }

              function redeemVoucher(self) {
                if (
                  inNumberToValue($('#pointpay')) > 0 ||
                  inNumberToValue($('#hpointpay')) > 0 ||
                  inNumberToValue($('#giftpay')) > 0 ||
                  ($('#pvoucherCode').val() != '' &&
                    $('#pvoucherArea .coupon_insert a.btnstl2').hasClass(
                      'btn_input_apply_cancle'
                    ))
                ) {
                  var confirmMsg = '';
                  if ('N' == 'Y') {
                    confirmMsg =
                      '플러스포인트쿠폰, 한섬마일리지나 H.Point 또는 기프트카드 입력 후 쿠폰을 선택하실 경우 플러스포인트쿠폰/한섬마일리지/H.Point/기프트카드를 재입력 해야 합니다.';
                  } else {
                    confirmMsg =
                      '한섬마일리지와 기프트카드 입력 후 쿠폰을 선택하실 경우 한섬마일리지/기프트카드를 재입력 해야 합니다.';
                  }

                  var la = new layerConfirm(confirmMsg, '확인', '취소');
                  la.cancleAction = function () {
                    voucherUncheck('selectVoucher');
                  };
                  la.confirmAction = function () {
                    redeemVoucherConfirmed(self);
                  };
                } else {
                  redeemVoucherConfirmed(self);
                }
              }

              function redeemVoucherConfirmed(self) {
                var code =
                  $('#selectVoucher option:selected').val() != ''
                    ? $('#selectVoucher option:selected').val()
                    : $('#voucherCode').val();
                if (code == '') {
                  layerAlert('정확한 쿠폰 코드를 다시 입력해 주시기 바랍니다.');
                  voucherUncheck('selectVoucher');
                  return;
                }

                if ($('#voucherCode').val() != '') {
                  var tmpCode = $('#voucherCode').val();
                  $('#voucherCode').val(tmpCode.toUpperCase());
                }

                if ($(self).hasClass('on')) {
                  layerAlert('처리중입니다.');
                  return;
                }
                $(self).addClass('on');

                // íë¬ì¤ ì¿ í° release
                if ($('#pvoucherArea').length > 0) {
                  var pvoucherReleaseResult = null;
                  if (
                    $('#pvoucherCode').val() != '' &&
                    $('#pvoucherCode')
                      .parent('.coupon_insert')
                      .find('.btnstl2')
                      .hasClass('btn_input_apply_cancle')
                  ) {
                    pvoucherReleaseResult = releasePVoucher(
                      $('#pvoucherCode')
                        .parent('.coupon_insert')
                        .find('.btnstl2'),
                      $('#pvoucherCode').val(),
                      false
                    );
                  }
                  if (pvoucherReleaseResult != null) {
                    pvoucherReleaseResult.done(function (data) {
                      redeemVoucherCall(self, code);
                    });
                  } else {
                    redeemVoucherCall(self, code);
                  }
                }
              }

              function redeemVoucherCall(self, code) {
                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/redeemVoucher',
                  contentType: 'application/json; charset=utf-8',
                  dataType: 'json',
                  data: { voucherCode: code },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      voucherUncheck('selectVoucher');

                      if (data.errorMsg == 'globalOnlyVoucher') {
                        $('#voucherCode').val('');
                        layerAlert(
                          '입력하신 쿠폰 코드는 글로벌 전용입니다.<br/>영문/중문 더한섬닷컴에서 사용가능합니다.'
                        );
                        return;
                      } else if (data.errorMsg == 'koreaOnlyVoucher') {
                        layerAlert(
                          '정확한 쿠폰 코드를 다시 입력해 주시기 바랍니다.'
                        );
                        return;
                      } else if (data.errorMsg == 'dateNotAvailable') {
                        layerAlert('해당 쿠폰 코드는 적용이 불가능합니다.');
                        return;
                      } else if (data.errorMsg == 'orderOver') {
                        layerAlert('선착순 200명 마감되었습니다.');
                        return;
                      } else if (data.errorMsg == 'brandCoupon') {
                        // 2017.04,26, ì´íì¹, ë¸ëëì¿ í°ì í ìë´ ë©ìì§ ë³ê²½
                        var positiveErrMsg =
                          '<p style="text-align:left">? (브랜드/카테고리)에만 해당.<br />다른 브랜드/카테고리와 함께 결제 시 사용하실 수 없습니다.</p>';
                        var negativeErrMsg =
                          '<p style="text-align:left">? (브랜드/카테고리)는(은) 제외.<br />해당 브랜드/카테고리와 함께 결제 시 사용하실 수 없습니다.</p>';
                        var brandCategoryName = data.brandCategoryName;
                        var positiveYn = data.positiveYn;

                        var brandCouponErrorMessage = '';
                        if (positiveYn == 'true') {
                          brandCouponErrorMessage = positiveErrMsg.replace(
                            '?',
                            brandCategoryName
                          );
                        } else {
                          brandCouponErrorMessage = negativeErrMsg.replace(
                            '?',
                            brandCategoryName
                          );
                        }
                        layerAlert(brandCouponErrorMessage);
                        return;
                      } else if (data.errorMsg == 'alreadyVoucherUsed') {
                        layerAlert(
                          '쿠폰을 사용하신 주문입니다.<br />주문 당 쿠폰은 1번만 사용가능합니다.'
                        );
                        return;
                      } else {
                        layerAlert(
                          '정확한 쿠폰 코드를 다시 입력해 주시기 바랍니다.\n' +
                            data.errorMsg
                        );
                        return;
                      }
                    } else {
                      $('#voucherCode').val(code);
                      $('#voucherCode').prop('disabled', true);

                      self
                        .removeClass('btn_input_apply')
                        .addClass('btn_input_apply_cancle');
                      self.html('취소');

                      // íì¬ë§ì¼ë¦¬ì§ ì´ê¸°í
                      $('#pointpay').val('');
                      $('#pointpay').prop('readonly', false);
                      $('#btnUsePoint')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUsePoint').html('적용');
                      $('#mpg_all_use_1').attr('checked', false);
                      // H.Point ì´ê¸°í
                      $('#hpointpay').val('');
                      $('#hpointpay').prop('readonly', false);
                      $('#btnUseHPoint')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUseHPoint').html('적용');
                      $('#mpg_all_use_2').attr('checked', false);
                      // ê¸°íí¸ì¹´ë ì´ê¸°í
                      $('#giftpay').val('');
                      $('#giftpay').prop('readonly', false);
                      $('#btnUseGiftAmount')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUseGiftAmount').html('적용');
                      $('#mpg_all_use_3').attr('checked', false);
                      // eê¸°íí¸ì¹´ë ì´ê¸°í
                      $('#egiftpay').val('');
                      $('#egiftpay').prop('readonly', false);
                      $('#btnUseEGiftAmount')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUseEGiftAmount').html('적용');
                      $('#mpg_all_use_4').attr('checked', false);

                      discountApply(data, true);
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  $(self).removeClass('on');
                  hideLoadingLp();
                });
              }

              function releaseVoucher(self, releaseVoucher, isViewReload) {
                var result = $.Deferred();

                var code = null;
                if (releaseVoucher == 'undefined' || releaseVoucher == '') {
                  code =
                    $('#selectVoucher option:selected').val() != ''
                      ? $('#selectVoucher option:selected').val() != ''
                      : $('#voucherCode').val();
                } else {
                  code = releaseVoucher;
                }

                if (code == '') {
                  layerAlert('정확한 쿠폰 코드를 다시 입력해 주시기 바랍니다.');
                  voucherUncheck('voucherArea');
                  return;
                }

                if ($('#voucherCode').val() != '') {
                  var tmpCode = $('#voucherCode').val();
                  $('#voucherCode').val(tmpCode.toUpperCase());
                }

                if ($(self).hasClass('on')) {
                  layerAlert('처리중입니다.');
                  return;
                }
                $(self).addClass('on');

                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/releaseVoucher',
                  dataType: 'json',
                  data: { voucherCode: code },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      layerAlert(
                        '정확한 쿠폰 코드를 다시 입력해 주시기 바랍니다.'
                      );
                      return;
                    } else {
                      $('#voucherCode').val('');
                      $('#voucherCode').prop('disabled', false);
                      if ($('#selectVoucher option:selected').val() == code) {
                        voucherUncheck('selectVoucher');
                      }
                      self
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      self.html('적용');

                      discountApply(data, isViewReload);
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  $(self).removeClass('on');
                  hideLoadingLp();
                  result.resolve();
                });

                return result.promise();
              }

              function vipDiscountToggleBtn(objBtn) {
                if ($(objBtn).hasClass('btn_input_apply')) {
                  redeemVipDiscount($(objBtn));
                } else if ($(objBtn).hasClass('btn_input_apply_cancel')) {
                  var voucherCode = $('#voucherCode').val().trim();

                  if (voucherCode.length > 0) {
                    releaseVoucher(
                      $('.coupon_insert .btn_input_apply_cancle'),
                      voucherCode,
                      true
                    );
                  }

                  releaseVipDiscount($(objBtn));
                }
              }

              function redeemVipDiscount(self) {
                if (
                  '' == '' ||
                  ('' == 'false' && ('' == 'V4' || '' == 'V5' || '' == 'V6'))
                ) {
                  return;
                }

                if ($('#vipDiscountAmountText').val() == '') {
                  layerAlert('한섬 VVIP 혜택 사용을 체크 하셔야 합니다.');
                  return;
                }

                if (self.hasClass('on')) {
                  layerAlert('처리중입니다.');
                  return;
                }
                self.addClass('on');

                $('#vipDiscountAmount').val($('#vipDiscountAmountValue').val());

                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/redeemVipDiscount',
                  contentType: 'application/json; charset=utf-8',
                  dataType: 'json',
                  data: {
                    vipDiscountAmount: $('#vipDiscountAmount').val(),
                    vipCustNo: $('#vipCustNoTemp').val(),
                  },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      layerAlert(data.errorMsg);
                      $('#vipDiscountAmount').val('');
                      return;
                    } else {
                      $('#pointpay').val('');
                      $('#pointpay').prop('readonly', false);
                      $('#btnUsePoint')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUsePoint').html('적용');
                      $('#mpg_all_use_1').attr('checked', false);

                      $('#hpointpay').val('');
                      $('#hpointpay').prop('readonly', false);
                      $('#btnUseHPoint')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUseHPoint').html('적용');
                      $('#mpg_all_use_2').attr('checked', false);

                      $('#giftpay').val('');
                      $('#giftpay').prop('readonly', false);
                      $('#btnUseGiftAmount')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUseGiftAmount').html('적용');
                      $('#mpg_all_use_3').attr('checked', false);

                      $('#egiftpay').val('');
                      $('#egiftpay').prop('readonly', false);
                      $('#btnUseEGiftAmount')
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      $('#btnUseEGiftAmount').html('적용');
                      $('#mpg_all_use_4').attr('checked', false);

                      discountApply(data, true);

                      self
                        .removeClass('btn_input_apply')
                        .addClass('btn_input_apply_cancel');
                      self.html('취소');
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  $(self).removeClass('on');
                  hideLoadingLp();
                });
              }

              function releaseVipDiscount(self) {
                if (self.hasClass('on')) {
                  layerAlert('처리중입니다.');
                  return;
                }
                self.addClass('on');

                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/releaseVipDiscount',
                  dataType: 'json',
                  contentType: 'application/json; charset=utf-8',
                  data: { vipDiscountAmount: $('#vipDiscountAmount').val() },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      layerAlert(data.errorMsg);
                      return;
                    } else {
                      $('#vipDiscountAmountText').val('');
                      $('#vipDiscountAmount').val('');
                      $('#vipDiscountCheck').prop('checked', false);

                      self
                        .removeClass('btn_input_apply_cancel')
                        .addClass('btn_input_apply');
                      self.html('적용');

                      discountApply(data, true);
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  self.removeClass('on');
                  hideLoadingLp();
                });
              }

              function setVipDiscountAmountValue(obj, discountAmount) {
                if ($(obj).is(':checked')) {
                  $('#vipDiscountAmountText').val(discountAmount + ' 원');
                  $('#vipDiscountAmountValue').val(
                    discountAmount.replace(/,/g, '')
                  );

                  redeemVipDiscount($('.vvip_familyBenefit_input_btn'));
                } else {
                  if ($('#vipDiscountAmount').val() == '') {
                    $('#vipDiscountAmountText').val('');
                    $('#vipDiscountAmountValue').val(0);
                  }
                  releaseVipDiscount($('.vvip_familyBenefit_input_btn'));
                }
              }

              function inNumberToValue(obj) {
                inNumber($(obj));
                return parseInt($(obj).val() || 0, 10);
              }
            </script>

            <!-- ë³´ì¡°ê²°ì ìë¨ -->
            <script>
              function fnHpointChargeLink() {
                var hpointChargeUrl =
                  'https://www.h-point.co.kr/pe/preppoint/prepPayRequest.shd';

                var appYn = 'N';
                if (getCookie('app') == null || getCookie('app') == '') {
                  //
                } else {
                  appYn = 'Y';
                }
                var appOs = '';

                if (appYn == 'Y') {
                  if (appOs == 'ios') {
                    webkit.messageHandlers.callWebBrowser.postMessage(
                      hpointChargeUrl
                    );
                  } else {
                    Android.callWebBrowser(hpointChargeUrl);
                  }
                } else {
                  window.open(hpointChargeUrl);
                }
              }
            </script>
            <!-- df_box : í¬ì¸í¸ì¬ì© s -->
            <div class="df_box" id="secondaryPaymentArea" style="display: none">
              <h3 class="df_box_tit">
                포인트 사용<!-- tootip s -->
                <span class="dpIB">
                  <div
                    class="icon_help btn_tooltip"
                    data-tooltip-target="tooltip_discout_info"></div>
                </span>
                <!-- tootip : contents_area s -->
                <div class="tooltip_contens"></div>
                <!-- tootip : contents_area e -->
                <!-- tootip e -->
              </h3>

              <ul class="mpg_list_wrap list_secondary_payment">
                <!-- ë§ì¼ë¦¬ì§ -->
                <li class="mpg_li_mileage" style="display: none">
                  <div class="mpg_tit">한섬마일리지</div>
                  <div class="mpg_input">
                    <input
                      type="tel"
                      id="pointpay"
                      name="usePoint"
                      class="only_number set_comma"
                      value=""
                      data-unit="M"
                      placeholder="0 M"
                      autocomplete="nope"
                      max-point="0" />
                    <a
                      href="#none"
                      class="btnstl2 border_btn_blk btn_input_apply"
                      id="btnUsePoint"
                      data-poptarget=""
                      >적용</a
                    >
                    <a href="#none" class="btn_input_reset"
                      ><span>초기화</span></a
                    >
                    <div class="check_stl">
                      <input type="checkbox" id="mpg_all_use_1" value="" />
                      <label for="mpg_all_use_1"
                        >전액사용 (<span>0</span> M)</label
                      >
                    </div>
                  </div>
                </li>

                <!-- H.Point -->
                <li class="mpg_li_point" style="display: none">
                  <div class="mpg_tit">H.Point</div>
                  <div class="mpg_input">
                    <input
                      type="tel"
                      id="hpointpay"
                      name="useHPoint"
                      class="only_number set_comma"
                      data-unit="P"
                      placeholder="0 P"
                      autocomplete="nope"
                      max-point="0" />
                    <a
                      href="#none"
                      class="btnstl2 border_btn_blk btn_input_apply"
                      id="btnUseHPoint"
                      data-poptarget=""
                      >적용</a
                    >
                    <a href="#none" class="btn_input_reset"
                      ><span>초기화</span></a
                    >
                    <div class="check_stl">
                      <input type="checkbox" id="mpg_all_use_2" value="" />
                      <label for="mpg_all_use_2"
                        >전액사용 (<span>0</span> P)</label
                      >
                      <a class="quick-h-point-btn">충전하러가기</a>
                    </div>
                  </div>
                </li>
                <!-- eGfit -->
                <li class="mpg_li_gift" style="display: none">
                  <div class="mpg_tit">e-money</div>
                  <div class="mpg_input">
                    <input
                      type="tel"
                      id="egiftpay"
                      name="useEGiftAmount"
                      class="only_number set_comma"
                      data-unit="원"
                      placeholder="0 원"
                      autocomplete="nope"
                      max-point="0" />
                    <a
                      href="#none"
                      class="btnstl2 border_btn_blk btn_input_apply"
                      id="btnUseEGiftAmount"
                      data-poptarget=""
                      >적용</a
                    >
                    <a href="#none" class="btn_input_reset"
                      ><span>초기화</span></a
                    >
                    <div class="check_stl">
                      <input type="checkbox" id="mpg_all_use_4" value="" />
                      <label for="mpg_all_use_4"
                        >전액사용 (<span>0</span> 원)</label
                      >
                    </div>
                  </div>
                </li>

                <!-- ê¸°íí¸ì¹´ë -->
                <li class="mpg_li_gift" style="display: none">
                  <div class="mpg_tit">기프트카드</div>
                  <div class="mpg_input">
                    <input
                      type="tel"
                      id="giftpay"
                      name="useGiftAmount"
                      class="only_number set_comma"
                      data-unit="원"
                      placeholder="0 원"
                      autocomplete="nope"
                      max-point="0" />
                    <a
                      href="#none"
                      class="btnstl2 border_btn_blk btn_input_apply"
                      id="btnUseGiftAmount"
                      data-poptarget=""
                      >적용</a
                    >
                    <a href="#none" class="btn_input_reset"
                      ><span>초기화</span></a
                    >
                    <div class="check_stl">
                      <input type="checkbox" id="mpg_all_use_3" value="" />
                      <label for="mpg_all_use_3"
                        >전액사용 (<span>0</span> 원)</label
                      >
                    </div>
                  </div>
                </li>
              </ul>

              <a
                href="javascript:;"
                class="btn_popup"
                data-poptarget=""
                id="btn_popupgw"
                style="display: none"></a>
            </div>
            <!-- df_box : í¬ì¸í¸ì¬ì© e -->

            <div
              class="divpop_wrap dvp_style_2 pop_pw_confirm pop_recheckpassword"
              id="userInfoForm">
              <input
                id="uid"
                name="uid"
                type="hidden"
                value="wangjh789@gmail.com" />
              <input id="gubun" name="gubun" type="hidden" value="" />
              <input id="pnt" name="pnt" type="hidden" value="" />

              <div class="dvp_container">
                <div class="dvp_close_btn b-close"><span>취소</span></div>
                <h1 class="dvp_header">비밀번호 재확인</h1>
                <div class="dvp_content">
                  <div class="desc_box">
                    고객님의 소중한 포인트/기프트카드를 보호하기 위하여
                    비밀번호를 확인하고 있습니다.로그인 비밀번호를 입력해 주시기
                    바랍니다.
                  </div>
                  <div class="pw_confilm_wrap">
                    <input
                      type="password"
                      id="pw"
                      name="pw"
                      class="pw_confirm"
                      autocomplete="new-password"
                      placeholder="비밀번호를 입력하세요" />
                  </div>
                  <div class="btn_wrap btn_wrap_div2">
                    <a href="#none" class="btnstl3 border_btn_gray b-close"
                      ><span>취소</span></a
                    >
                    <a href="#none" class="btnstl3 solid_btn_blk"
                      ><span><span>확인</span></span></a
                    >
                  </div>
                </div>
              </div>
            </div>

            <script>
              $(document).ready(function () {
                $('#userInfoForm').find('#pw').val('');
                $('#userInfoForm')
                  .find('.solid_btn_blk')
                  .on('click', function () {
                    recheckPassword();
                  });
                $('#userInfoForm')
                  .find('.border_btn_gray')
                  .on('click', function () {
                    $('#userInfoForm')
                      .find('.dvp_container .dvp_close_btn')
                      .trigger('click');
                  });
              });

              function recheckPassword() {
                var pw = $.trim($('#userInfoForm').find('#pw').val());
                if ($.trim(pw) == '') {
                  layerAlert('비밀번호를 입력하세요.');
                  return;
                }

                var pw = $('#userInfoForm').find('#pw').val();
                pw = pw.replace(/#/g, '[({})]');
                pw = pw.replace(/>/g, '{[()]}');
                pw = pw.replace(/</g, '({[]})');

                $.ajax({
                  type: 'POST',
                  url: '/ko/checkout/getSubPaymentPwAuth',
                  data: {
                    uid: $('#uid').val(),
                    pw: pw,
                    CSRFToken: '13c48883-1706-4f5a-810b-2f670f464334',
                  },
                  success: function (data) {
                    if (data == true) {
                      // íì²ë¦¬
                      $('#userInfoForm .dvp_close_btn').trigger('click');
                      if (typeof fn_paswordcheckcallback === 'function') {
                        fn_paswordcheckcallback();
                      }
                    } else {
                      //            	$("#userInfoForm .dvp_close_btn").trigger("click");
                      layerAlert(
                        '비밀번호가 맞지 않습니다. 다시 입력해 주세요.'
                      );
                      return;
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                });
              }
            </script>
            <div
              class="divpop_wrap dvp_style_2 pop_phone_certi pop_smsauthentification"
              id="hpointForm">
              <input id="certNo" name="certNo" type="hidden" value="" />
              <div class="dvp_container">
                <div class="dvp_close_btn b-close" onclick="closeSmsAuth()">
                  <span>취소</span>
                </div>
                <h1 class="dvp_header">휴대폰 인증</h1>
                <div class="dvp_content">
                  <div class="desc_box">
                    H.Point 10만 포인트 이상 사용 시에는 고객님의 휴대폰으로
                    인증이 필요합니다.SMS 발송 후 3분 이내 인증번호 6자리를
                    입력해 주시기 바랍니다.
                  </div>
                  <ul class="phone_certi_wrap">
                    <li>
                      <input type="tel" class="phone_num" value="" />
                      <a
                        href="#none"
                        class="btnstl3 border_btn_blk left_time"
                        id="sendSms"
                        ><span>인증번호발송</span></a
                      >
                    </li>
                    <li>
                      <input
                        type="tel"
                        id="codeInput"
                        class="certi_num_confirm"
                        placeholder="인증번호를 입력하세요." />
                      <div class="left_time">
                        남은시간
                        <span class="point_fc"
                          ><span
                            class="left_time_val"
                            data-left-time-sec="180"
                            id="counter"
                            >03:00</span
                          >초</span
                        >
                      </div>
                    </li>
                  </ul>
                  <div class="btn_wrap btn_wrap_div2">
                    <a
                      href="#none"
                      class="btnstl3 border_btn_gray b-close"
                      onclick="closeSmsAuth()"
                      ><span>취소</span></a
                    >
                    <a href="#none" class="btnstl3 solid_btn_blk"
                      ><span>확인</span></a
                    >
                  </div>
                </div>
              </div>
            </div>

            <script>
              $(document).ready(function () {
                $('#hpointForm').find('#codeInput').val('');

                $('#hpointForm')
                  .find('#sendSms')
                  .on('click', function () {
                    hpointAuthHandphone();
                  });
                $('#hpointForm')
                  .find('.solid_btn_blk')
                  .on('click', function () {
                    checkHPassword();
                  });
                $('#hpointForm')
                  .find('.border_btn_gray')
                  .on('click', function () {
                    closeSmsAuth();
                  });
              });

              function closeSmsAuth() {
                stopSmsAuthTimer();
                setTimeout(function () {
                  $('#counter').html('03:00');
                  $('#codeInput').val('');
                }, 200);
              }

              //10ë§ H.Point ì´ì ì¬ì©ì í´ëí° ì ì  ì¸ì¦ : íµë©¤ìë²ë¡ ë¶í° ì¸ì¦ë²í¸ ë°ìì ì ì¥
              function hpointAuthHandphone() {
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/hpointAuthHandphone',
                  async: false,
                  data: null,
                  dataType: 'json',
                  success: function (data) {
                    if (
                      typeof data.respCd != 'undefined' &&
                      data.respCd == '0000'
                    ) {
                      $('#hpointForm')
                        .find('input[name=certNo]')
                        .val(data.certNo);
                      startSmsAuthTimer();
                    } else {
                      if (typeof data.respCd != 'undefined') {
                        layerAlert(data.notfMsgCntn1);
                      } else {
                        layerAlert(data.error.message);
                      }
                      closeSmsAuth();
                    }
                  },
                  error: function (xhr, status, err) {
                    var console = window.console || { log: function () {} };
                  },
                });
              }
              // 10ë§ H.Point ì´ì ì¬ì©ì í´ëí° ì ì  ì¸ì¦ - ì¬ì©ì ìë ¥
              function checkHPassword() {
                var codeInput = '';
                var certNo = '';

                codeInput = $('#codeInput').val();
                certNo = $('#hpointForm').find('input[name=certNo]').val();
                if (codeInput == '') {
                  layerAlert('인증번호를 입력해 주세요.');
                  return;
                }
                if (codeInput.length != 6) {
                  layerAlert('인증번호 6자리를 입력해 주세요.');
                  return;
                }

                if (certNo != codeInput) {
                  layerAlert('인증번호가 일치하지 않습니다.');
                  return;
                } else {
                  $.ajax({
                    type: 'GET',
                    url: '/ko/checkout/hpointAuthCheck',
                    async: false,
                    data: { certNo: certNo },
                    dataType: 'json',
                    success: function (data) {
                      if (data == true) {
                        $('#hpointForm .b-close').trigger('click');
                        if (typeof fn_smscheckcallback == 'function') {
                          fn_smscheckcallback();
                        } else {
                          var pnt = $('#userInfoForm')
                            .find('input[name=pnt]')
                            .val();
                          setUseHPoint($('#btnUseHPoint'), pnt);
                        }
                      } else {
                        $('#hpointForm .b-close').trigger('click');
                      }
                    },
                    error: function (xhr, status, err) {
                      var console = window.console || { log: function () {} };
                    },
                  });
                }
              }

              // íì´ë¨¸
              var endTime, walker;
              var hour = 0,
                min = 3,
                sec = 0;

              function startSmsAuthTimer() {
                endTime = new Date();
                endTime.setSeconds(endTime.getSeconds() + hour);
                endTime.setMinutes(endTime.getMinutes() + min);
                endTime.setHours(endTime.getHours() + sec);
                walker = setInterval(goTimer, 1000);
              }
              function stopSmsAuthTimer() {
                if (walker != null) {
                  Timer_refresh(0);
                  clearInterval(walker);
                  walker = null;
                }
              }

              function goTimer() {
                var now = new Date();
                var existTime = endTime.getTime() - now.getTime();
                if (existTime <= 0) {
                  Timer_refresh(0);
                  clearInterval(walker);
                  walker = null;
                  closeSmsAuth();
                  layerAlert('인증시간이 경과 하였습니다.');
                } else {
                  // ìë ê²½ì°
                  Timer_refresh(existTime);
                }
              }

              function n2(num) {
                return num >= 10 ? num : '0' + num;
              }

              function Timer_refresh(milisec) {
                T_min = parseInt(Math.floor(milisec / 60000) % 60);
                T_sec = parseInt(Math.floor(milisec / 1000) % 60);
                $('#counter').html(n2(T_min) + ':' + n2(T_sec));
              }

              function doTimer() {
                endTime = new Date();
                endTime.setSeconds(endTime.getSeconds() + hour);
                endTime.setMinutes(endTime.getMinutes() + min);
                endTime.setHours(endTime.getHours() + sec);
              }
            </script>
            <script>
              var $list_secondary_payment = $('ul.list_secondary_payment');
              var isMileageVisible =
                $list_secondary_payment
                  .find('li.mpg_li_mileage')
                  .css('display') != 'none';
              var isPointVisible =
                $list_secondary_payment
                  .find('li.mpg_li_point')
                  .css('display') != 'none';
              var isGiftVisible =
                $list_secondary_payment.find('li.mpg_li_gift').css('display') !=
                'none';

              if (!isMileageVisible && !isPointVisible && !isGiftVisible) {
                $('#secondaryPaymentArea').hide();
              } else {
                $('#secondaryPaymentArea li:visible').first().addClass('mt0');
              }

              $(document).ready(function () {
                $('.quick-h-point-btn').on('click', function () {
                  fnHpointChargeLink();
                });

                /* íë©´ s*/
                $('.mpg_list_wrap').on(
                  'blur',
                  '.mpg_input input.set_comma',
                  function () {
                    // í¬ì¸í¸ì¬ì©ê´ë ¨ : blur
                    if ($(this).val() != '') {
                      $(this).val(
                        setComma($(this).val()) +
                          ' ' +
                          $(this).attr('data-unit')
                      );
                    }
                    inputValResetBtnCheck($(this));
                    pointValCheck($(this));
                  }
                );
                $('.mpg_list_wrap').on(
                  'focus',
                  '.mpg_input input.set_comma',
                  function () {
                    // í¬ì¸í¸ì¬ì©ê´ë ¨ : focus
                    inNumber($(this));
                    inputValResetBtnCheck($(this));
                  }
                );
                $('.mpg_list_wrap').on(
                  'change',
                  '.mpg_input .check_stl input',
                  function () {
                    // í¬ì¸í¸ì¬ì©ê´ë ¨ : ì ì¡ì¬ì©

                    var tempPointAll = $(this)
                      .siblings('label')
                      .find('span')
                      .html();
                    if (
                      tempPointAll == '' ||
                      Number(tempPointAll.replace(/[^0-9]/g, '')) <= 0
                    ) {
                      $(this).attr('checked', false);
                      return;
                    }

                    var tempPointInput = $(this)
                      .parents('.mpg_input')
                      .find('input.set_comma');
                    var tempButton = $(this)
                      .parents('.mpg_input')
                      .find('a.btnstl2');
                    var alluseId = $(this).attr('id');
                    if ($(this).is(':checked')) {
                      // ì ì©
                      var isFirstCancel =
                        typeof tempPointInput != 'undefined' &&
                        Number(tempPointInput.val().replace(/[^0-9]/g, '')) >
                          0 &&
                        tempButton.hasClass('btn_input_apply_cancle');
                      var result = null;
                      if ('mpg_all_use_1' == alluseId) {
                        // íì¬ë§ì¼ë¦¬ì§
                        if (isFirstCancel) {
                          result = cancelUsePoint($('#btnUsePoint'));
                        }
                        if (result != null) {
                          result.done(function (data) {
                            tempPointInput.setPointLimit();
                            tempButton.click();
                          });
                        } else {
                          tempPointInput.setPointLimit();
                          tempButton.click();
                        }
                      } else if ('mpg_all_use_2' == alluseId) {
                        // H.Point
                        if (isFirstCancel) {
                          result = cancelUseHPoint(tempButton);
                        }
                        if (result != null) {
                          result.done(function (data) {
                            tempPointInput.setPointLimit();
                            doUseHPoint(tempButton);
                          });
                        } else {
                          tempPointInput.setPointLimit();
                          doUseHPoint(tempButton);
                        }
                      } else if ('mpg_all_use_3' == alluseId) {
                        // ê¸°íí¸ì¹´ë
                        if (isFirstCancel) {
                          result = cancelUseGiftAmount(tempButton);
                        }
                        if (result != null) {
                          result.done(function (data) {
                            tempPointInput.setPointLimit();
                            doUseGiftAmount(tempButton);
                          });
                        } else {
                          tempPointInput.setPointLimit();
                          doUseGiftAmount(tempButton);
                        }
                      } else if ('mpg_all_use_4' == alluseId) {
                        // Eê¸°íí¸ì¹´ë
                        if (isFirstCancel) {
                          result = cancelUseEGiftAmount(tempButton);
                        }
                        if (result != null) {
                          result.done(function (data) {
                            tempPointInput.setPointLimit();
                            doUseEGiftAmount(tempButton);
                          });
                        } else {
                          tempPointInput.setPointLimit();
                          doUseEGiftAmount(tempButton);
                        }
                      }
                    } else {
                      // ì·¨ì

                      if ('mpg_all_use_1' == alluseId) {
                        cancelUsePoint($('#btnUsePoint'));
                      } else if ('mpg_all_use_2' == alluseId) {
                        cancelUseHPoint(tempButton);
                      } else if ('mpg_all_use_3' == alluseId) {
                        cancelUseGiftAmount(tempButton);
                      } else if ('mpg_all_use_3' == alluseId) {
                        cancelUseEGiftAmount(tempButton);
                      }
                    }

                    inputValResetBtnCheck(tempPointInput);
                  }
                );
                $('.mpg_list_wrap').on(
                  'click',
                  '.mpg_input .btn_input_reset',
                  function () {
                    // í¬ì¸í¸ì¬ì©ê´ë ¨ : ì´ê¸°í
                    if ($(this).prev().hasClass('btn_input_apply')) {
                      $(this).parent().find('.set_comma').val('');
                      pointValCheck($(this).parent().find('.set_comma'));
                    } else {
                      pointToggleBtnInputApply($(this).prev());
                    }
                  }
                );
                $('.mpg_list_wrap').on(
                  'click',
                  '.mpg_input .btn_input_apply',
                  function () {
                    // í¬ì¸í¸ì¬ì©ê´ë ¨ : ì ì©ë²í¼
                    pointToggleBtnInputApply($(this));
                  }
                );
                $('.mpg_list_wrap').on(
                  'click',
                  '.mpg_input .btn_input_apply_cancle',
                  function () {
                    // í¬ì¸í¸ì¬ì©ê´ë ¨ : ì·¨ìë²í¼
                    pointToggleBtnInputApply($(this));
                  }
                );
                /* íë©´ e */
              });

              $.fn.setPointLimit = function () {
                var usepoint = $('#total').val() - $('#cartDeliveryCost').val();
                var maxPoint = this.attr('max-point');
                if (parseInt(maxPoint) > usepoint) {
                  this.val(setComma(usepoint) + ' ' + this.attr('data-unit'));
                } else {
                  this.val(setComma(maxPoint) + ' ' + this.attr('data-unit'));
                }
              };

              /* íë©´ s*/
              function pointToggleBtnInputApply(obj) {
                //ì ì©, ì·¨ìë²í¼

                var spObj = obj.parent().find('.set_comma');
                var spId = spObj.attr('id');
                var spVal = Number(spObj.val().replace(/[^0-9]/g, ''));
                if (obj.hasClass('btn_input_apply')) {
                  if (spVal <= 0) {
                    return;
                  }

                  if ('pointpay' == spId) {
                    doUsePoint(obj);
                  } else if ('hpointpay' == spId) {
                    doUseHPoint(obj);
                  } else if ('giftpay' == spId) {
                    doUseGiftAmount(obj);
                  } else if ('egiftpay' == spId) {
                    doUseEGiftAmount(obj);
                  }
                } else {
                  if ('pointpay' == spId) {
                    cancelUsePoint(obj);
                  } else if ('hpointpay' == spId) {
                    cancelUseHPoint(obj);
                  } else if ('giftpay' == spId) {
                    cancelUseGiftAmount(obj);
                  } else if ('egiftpay' == spId) {
                    cancelUseEGiftAmount(obj);
                  }
                }
              }
              function pointValCheck(obj) {
                //í¬ì¸í¸
                if (obj.val() != '') {
                  var inputVal = Number(obj.val().replace(/[^0-9]/g, ''));
                  var inputAllVal = Number(
                    obj
                      .parent()
                      .find('.check_stl label span')
                      .html()
                      .replace(/[^0-9]/g, '')
                  );
                  if (inputAllVal > inputVal) {
                    obj
                      .parent()
                      .find('.check_stl input')
                      .attr('checked', false);
                  } else if (inputAllVal == inputVal) {
                    obj.val(
                      setComma(inputAllVal) + ' ' + obj.attr('data-unit')
                    );
                    obj.parent().find('.check_stl input').attr('checked', true);
                  } else if (inputAllVal < inputVal) {
                    obj.val(
                      setComma(inputAllVal) + ' ' + obj.attr('data-unit')
                    );
                    obj.parent().find('.check_stl input').attr('checked', true);
                  }
                } else {
                  obj.parent().find('.check_stl input').attr('checked', false);
                  obj
                    .parent()
                    .find('.btnstl2')
                    .removeClass('btn_input_apply_cancle')
                    .addClass('btn_input_apply');
                  obj.parent().find('.btnstl2').html('적용');
                }
                inputValResetBtnCheck(obj);
              }
              function inputValResetBtnCheck(obj) {
                //ì´ê¸°íë²í¼ ì²´í¬
                if (obj.val() != '') {
                  obj
                    .siblings('.btn_input_reset')
                    .addClass('btn_input_reset_on');
                } else {
                  obj
                    .siblings('.btn_input_reset')
                    .removeClass('btn_input_reset_on');
                }
              }

              /* íë©´ e*/

              function doPwcheck(self, gubun, subUseAmt) {
                var pw = $('#pw').val();
                pw = pw.replace(/#/g, '[({})]');
                pw = pw.replace(/>/g, '{[()]}');
                pw = pw.replace(/</g, '({[]})');

                $.ajax({
                  type: 'POST',
                  url: '/ko/checkout/getSubPaymentPwAuth',
                  dataType: 'json',
                  async: false,
                  data: {
                    uid: $('#uid').val(),
                    pw: pw,
                    CSRFToken: '13c48883-1706-4f5a-810b-2f670f464334',
                  },
                  success: function (data) {
                    if (data == true) {
                      if (gubun == '1') {
                        setUsePoint(self, subUseAmt);
                      } else if (gubun == '2') {
                        setUseGiftAmount(self, subUseAmt);
                      } else if (gubun == '3') {
                        setUseHPoint(self, subUseAmt);
                      } else if (gubun == '4') {
                        setUseEGiftAmount(self, subUseAmt);
                      }
                    } else {
                      if (gubun == '1') {
                        showlayer(self, '#popwrap2', 'use_point', subUseAmt);
                      } else if (gubun == '2') {
                        showlayer(
                          self,
                          '#popwrap2',
                          'use_gift_amount',
                          subUseAmt
                        );
                      } else if (gubun == '3') {
                        showlayer(self, '#popwrap2', 'use_hpoint', subUseAmt);
                      } else if (gubun == '4') {
                        showlayer(
                          self,
                          '#popwrap2',
                          'use_egift_amount',
                          subUseAmt
                        );
                      }

                      $('#pw').focus();
                    }
                  },
                  error: function (xhr, Status, error) {
                    alert(
                      'getSubPaymentPwAuth sendRequest error : ' +
                        '[gubun : ' +
                        gubun +
                        ']' +
                        xhr.status +
                        ' ( ' +
                        error +
                        ' ) '
                    );
                  },
                }).always(function () {});
              }
              function showlayer(self, obj, gubun, pnt) {
                /*
    var obj=$(obj);
    //var lp=($(window).width()-obj.width())/2;
    var tp=($(window).height()-obj.height())/2+$(window).scrollTop();
    //if(lp < 0) lp=0;
    if(tp < 0) tp=0;
    
    $("#productLayer").show();
    
    obj.css("top", tp).css("position", "absolute").css("z-index", 101);
    obj.show();
    */
                $('#btn_popupgw').attr('data-poptarget', '');
                if (obj == '#popwrap2') {
                  self.attr('data-poptarget', 'pop_recheckpassword');
                  $('#userInfoForm').find('input[name=gubun]').val(gubun);
                  $('#userInfoForm').find('input[name=pnt]').val(pnt);

                  $('#btn_popupgw')
                    .attr('data-poptarget', 'pop_recheckpassword')
                    .trigger('click');
                } else if (obj == '#popwrap3') {
                  self.attr('data-poptarget', 'pop_smsauthentification');
                  $('#userInfoForm').find('input[name=gubun]').val(gubun);
                  $('#userInfoForm').find('input[name=pnt]').val(pnt);
                  $('#btn_popupgw')
                    .attr('data-poptarget', 'pop_smsauthentification')
                    .trigger('click');
                }
                //self.off("click").trigger("click");
              }

              function fn_paswordcheckcallback() {
                var gubun = $('#userInfoForm').find('input[name=gubun]').val();
                var pnt = $('#userInfoForm').find('input[name=pnt]').val();

                if (gubun == 'use_point' || gubun == 'use_gift_amount') {
                  $('#chkAuth').val('Y');
                }

                if (gubun == 'use_point') {
                  setUsePoint($('#btnUsePoint'), pnt);
                } else if (gubun == 'use_hpoint') {
                  setUseHPoint($('#btnUseHPoint'), pnt);
                } else if (gubun == 'use_gift_amount') {
                  setUseGiftAmount($('#btnUseGiftAmount'), pnt);
                } else if (gubun == 'use_egift_amount') {
                  setUseEGiftAmount($('#btnUseEGiftAmount'), pnt);
                } else {
                  alert('ìëª»ë ìì²­ìëë¤.');
                }
              }

              function doUsePoint(self) {
                var use_point = $('#pointpay')
                  .val()
                  .replace(/[^0-9]/g, '');
                var use_gift_amount = $('#giftpay')
                  .val()
                  .replace(/[^0-9]/g, '');
                var saleCheck = '0';
                var deliveryCost = $('#cartDeliveryCost').val();
                var voucherRateCheck = $('#voucherRateCheck').val();

                if (use_point == '' || use_point == '0') {
                  layerAlert(
                    '한섬마일리지 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                  );
                  return;
                }

                if (parseInt(0) < 0) {
                  layerAlert('사용 가능한 한섬마일리지가 없습니다.');
                  $('#pointpay').val('');
                  return false;
                }

                if (saleCheck == '1') {
                  layerAlert(
                    '10% 할인율을 초과하는 세일상품 구매시 한섬마일리지를 사용하실 수 없습니다.'
                  );
                  $('#pointpay').val('');
                  $('#mpg_all_use_1').attr('checked', false);
                  return;
                }

                if (voucherRateCheck == '1') {
                  layerAlert(
                    '10% 할인율을 초과하는 쿠폰사용시 한섬마일리지를 사용하실 수 없습니다.'
                  );
                  $('#pointpay').val('');
                  $('#mpg_all_use_1').attr('checked', false);
                  return;
                }

                if (
                  $('#btnUsePoint').hasClass('btn_input_apply') &&
                  $('#btnUseGiftAmount').hasClass('btn_input_apply')
                ) {
                  $('#giftpay').val('');
                } else {
                  if (use_gift_amount > 0) {
                    layerAlert(
                      '한섬마일리지와 기프트카드는 함께 사용할 수 없습니다.'
                    );
                    return;
                  }
                }

                if (use_point > parseInt($('#total').val())) {
                  layerAlert(
                    '한섬마일리지 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                  );
                  return;
                }

                if (parseInt(deliveryCost) > 0) {
                  var total = $('#total').length > 0 ? $('#total').val() : 0;
                  if (
                    (parseInt(total) <= parseInt(deliveryCost) &&
                      parseInt(use_point) >= parseInt(total)) ||
                    (parseInt(total) >= parseInt(deliveryCost) &&
                      parseInt(use_point) >
                        parseInt(total) - parseInt(deliveryCost))
                  ) {
                    layerAlert(
                      '배송비는 한섬마일리지/기프트카드로 결제하실 수 없습니다.'
                    );
                    return;
                  }
                }

                if (checktHandsomepointUsableAmount == 0) {
                  $('#pointpay').val(0);
                  layerAlert(
                    '제품 당 실결제금액(할인 적용가)이 3만원 이하인 제품은 한섬마일리지를 사용하실 수 없습니다.'
                  );
                  return;
                }

                if (use_point > checktHandsomepointUsableAmount) {
                  layerAlert(
                    '제품 당 실결제금액(할인 적용가)이 3만원 이하인 제품은 한섬마일리지를 사용하실 수 없습니다.'
                  );
                  $('#pointpay').val('');
                  if ($('#mpg_all_use_1').prop('checked')) {
                    $('#mpg_all_use_1').prop('checked', false);
                    $('#pointpay').val(checktHandsomepointUsableAmount);
                  } else {
                    $('#pointpay').val(0);
                  }
                  return;
                }

                doPwcheck(self, '1', use_point);
              }
              function setUsePoint(self, use_point) {
                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/usePoint',
                  dataType: 'json',
                  data: { usePoint: use_point },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      layerAlert(data.errorMsg);
                      return;
                    } else {
                      $('#pointpay').prop('readonly', true);
                      self
                        .removeClass('btn_input_apply')
                        .addClass('btn_input_apply_cancle');
                      self.html('취소');
                      //self.removeAttr("data-poptarget");
                      $('.list_secondary_payment')
                        .find('.mpg_input .btn_popup')
                        .removeAttr('data-poptarget');
                      discountApply(data, false);

                      $('#chk_pointAmount').val(use_point);
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  hideLoadingLp();
                });
              }
              function cancelUsePoint(self) {
                var result = $.Deferred();

                var use_point = $('#pointpay')
                  .val()
                  .replace(/[^0-9]/g, '');
                $('#chkAuth').val('');

                //if($(self).prop('class') == 'btn dis_s min_auto'){
                //return;
                //}

                if (use_point == '' || use_point == '0') {
                  return;
                }

                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/cancelUsePoint',
                  dataType: 'json',
                  //data: {"usePoint": use_point},
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      return;
                    } else {
                      $('#pointpay').val('');
                      $('#pointpay').prop('readonly', false);
                      self
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      self.html('적용');
                      //self.attr("data-poptarget", "pop_recheckpassword");
                      $('#mpg_all_use_1').attr('checked', false);
                      discountApply(data, false);

                      $('#chk_pointAmount').val('');
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  result.resolve();
                  hideLoadingLp();
                });

                return result.promise();
              }

              function doUseHPoint(self) {
                var use_point = $('#hpointpay')
                  .val()
                  .replace(/[^0-9]/g, '');
                var saleCheck = '0';
                var deliveryCost = $('#cartDeliveryCost').val();
                var voucherRateCheck = $('#voucherRateCheck').val();

                if (use_point == '' || use_point == '0') {
                  layerAlert('100 포인트 이상부터 사용하실 수 있습니다.');
                  return;
                }

                // 2020.03.13 hmk
                // h point ìµì  ì¬ì©ê¸ì¡ 100ìì¼ë¡ ë³ê²½
                if (use_point < 100) {
                  layerAlert('100 포인트 이상부터 사용하실 수 있습니다.');
                  return;
                }

                if (parseInt(0) < 0) {
                  $('#hpointpay').val('');
                  return;
                }

                //if(saleCheck == "1"){
                //    layerAlert("10% í ì¸ì¨ì ì´ê³¼íë ì¸ì¼ìí êµ¬ë§¤ì í¬ì¸í¸ë¥¼ ì¬ì©íì¤ ì ììµëë¤.");
                //    return;
                //}

                if (voucherRateCheck == '1') {
                  layerAlert(
                    '할인율이 10%를 초과하여 포인트를 사용하실 수 없습니다.'
                  );
                  return;
                }

                if (use_point > parseInt($('#total').val())) {
                  layerAlert(
                    'H.Point 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                  );
                  return;
                }

                if (use_point >= 100000) {
                  $('#counter').html('03:00초');
                  $('#codeInput').val('');
                  showlayer(self, '#popwrap3', 'use_hpoint', use_point);
                  return;
                }

                if (parseInt(deliveryCost) > 0) {
                  var total = $('#total').val();
                  if (
                    (parseInt(total) <= parseInt(deliveryCost) &&
                      parseInt(use_point) >= parseInt(total)) ||
                    (parseInt(total) >= parseInt(deliveryCost) &&
                      parseInt(use_point) >
                        parseInt(total) - parseInt(deliveryCost))
                  ) {
                    layerAlert(
                      '배송비는 한섬마일리지/기프트카드로 결제하실 수 없습니다.'
                    );
                    return;
                  }
                }

                doPwcheck(self, '3', use_point);
              }
              function setUseHPoint(self, use_point) {
                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/useHPoint',
                  dataType: 'json',
                  data: { useHPoint: use_point },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      layerAlert(data.errorMsg);
                      return;
                    } else {
                      $('#hpointpay').prop('readonly', true);
                      self
                        .removeClass('btn_input_apply')
                        .addClass('btn_input_apply_cancle');
                      self.html('취소');
                      //self.removeAttr("data-poptarget");
                      $('.list_secondary_payment')
                        .find('.mpg_input .btn_popup')
                        .removeAttr('data-poptarget');
                      discountApply(data, false);

                      //$('#chk_pointAmount').val(use_point);
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  hideLoadingLp();
                });
              }
              function cancelUseHPoint(self) {
                var result = $.Deferred();

                var use_point = $('#hpointpay')
                  .val()
                  .replace(/[^0-9]/g, '');

                if (use_point == '' || use_point == '0') {
                  return;
                }

                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/cancelUseHPoint',
                  dataType: 'json',
                  //data: {"usePoint": use_point},
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      return;
                    } else {
                      $('#hpointpay').val('');
                      $('#hpointpay').prop('readonly', false);
                      self
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      self.html('적용');
                      //self.attr("data-poptarget", "pop_recheckpassword");
                      $('#mpg_all_use_2').attr('checked', false);
                      discountApply(data, false);

                      $('#chk_pointAmount').val('');
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  result.resolve();
                  hideLoadingLp();
                });

                return result.promise();
              }

              function doUseGiftAmount(self) {
                var use_gift_amount = $('#giftpay')
                  .val()
                  .replace(/[^0-9]/g, '');
                var use_point = $('#pointpay')
                  .val()
                  .replace(/[^0-9]/g, '');
                var saleCheck = '0';
                var voucherRateCheck = $('#voucherRateCheck').val();
                var deliveryCost = $('#cartDeliveryCost').val();

                //if($(self).prop('class') == 'btn dis_s min_auto'){
                //return;
                //}

                if (use_gift_amount == '' || use_gift_amount == '0') {
                  layerAlert(
                    '기프트카드 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                  );
                  return;
                }

                if (parseInt(0) < 0) {
                  $('#giftpay').val('');
                  return;
                }

                if (saleCheck == '1') {
                  layerAlert(
                    '10% 할인율을 초과하는 세일상품 구매시 기프트카드를 사용하실 수 없습니다.'
                  );
                  return;
                }

                if (voucherRateCheck == '1') {
                  layerAlert(
                    '10% 할인율을 초과하는 쿠폰사용시 기프트카드를 사용하실 수 없습니다.'
                  );
                  return;
                }

                if (
                  $('#btnUsePoint').hasClass('btn_input_apply') &&
                  $('#btnUseGiftAmount').hasClass('btn_input_apply')
                ) {
                  $('#pointpay').val('');
                } else {
                  if (use_point > 0) {
                    layerAlert(
                      '한섬마일리지와 기프트카드는 함께 사용할 수 없습니다.'
                    );
                    return;
                  }
                }

                if (use_gift_amount > parseInt($('#total').val())) {
                  layerAlert(
                    '기프트카드 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                  );
                  return;
                }

                if (parseInt(deliveryCost) > 0) {
                  var total = $('#total').val();
                  if (
                    (parseInt(total) <= parseInt(deliveryCost) &&
                      parseInt(use_gift_amount) >= parseInt(total)) ||
                    (parseInt(total) >= parseInt(deliveryCost) &&
                      parseInt(use_gift_amount) >
                        parseInt(total) - parseInt(deliveryCost))
                  ) {
                    layerAlert(
                      '배송비는 한섬마일리지/기프트카드로 결제하실 수 없습니다.'
                    );
                    return;
                  }
                }

                doPwcheck(self, '2', use_gift_amount);
              }

              function setUseGiftAmount(self, use_gift_amount) {
                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/useGiftAmount',
                  dataType: 'json',
                  data: { useGiftAmount: use_gift_amount },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      layerAlert(data.errorMsg);
                      return;
                    } else {
                      $('#giftpay').prop('readonly', true);
                      self
                        .removeClass('btn_input_apply')
                        .addClass('btn_input_apply_cancle');
                      self.html('취소');
                      //self.removeAttr("data-poptarget");
                      $('.list_secondary_payment')
                        .find('.mpg_input .btn_popup')
                        .removeAttr('data-poptarget');
                      discountApply(data, false);

                      $('#chk_giftAmount').val(use_gift_amount);
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  hideLoadingLp();
                });
              }
              function cancelUseGiftAmount(self) {
                var result = $.Deferred();

                var use_gift_amount = $('#giftpay')
                  .val()
                  .replace(/[^0-9]/g, '');

                $('#chkAuth').val('');

                //if($(self).prop('class') == 'btn dis_s min_auto'){
                //return;
                //}

                if (use_gift_amount == '' || use_gift_amount == '0') {
                  return;
                }

                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/cancelUseGiftAmount',
                  dataType: 'json',
                  //data: {"useGiftAmount": use_gift_amount},
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      return;
                    } else {
                      $('#giftpay').val('');
                      $('#giftpay').prop('readonly', false);
                      self
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      self.html('적용');
                      //self.attr("data-poptarget", "pop_recheckpassword");
                      $('#mpg_all_use_3').attr('checked', false);
                      discountApply(data, false);

                      $('#chk_giftAmount').val('');
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  $(self).removeClass('on');
                  hideLoadingLp();
                  result.resolve();
                });

                return result.promise();
              }

              function doUseEGiftAmount(self) {
                var use_egift_amount = $('#egiftpay')
                  .val()
                  .replace(/[^0-9]/g, '');
                var voucherRateCheck = $('#voucherRateCheck').val();
                var deliveryCost = $('#cartDeliveryCost').val();

                //if($(self).prop('class') == 'btn dis_s min_auto'){
                //return;
                //}

                if (use_egift_amount == '' || use_egift_amount == '0') {
                  layerAlert(
                    'e-money 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                  );
                  return;
                }

                if (parseInt(0) < 0) {
                  $('#egiftpay').val('');
                  return;
                }

                if (use_egift_amount > parseInt($('#total').val())) {
                  layerAlert(
                    'e-money 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                  );
                  return;
                }

                if (parseInt(deliveryCost) > 0) {
                  var total = $('#total').val();
                  if (
                    (parseInt(total) <= parseInt(deliveryCost) &&
                      parseInt(use_egift_amount) >= parseInt(total)) ||
                    (parseInt(total) >= parseInt(deliveryCost) &&
                      parseInt(use_egift_amount) >
                        parseInt(total) - parseInt(deliveryCost))
                  ) {
                    layerAlert(
                      '배송비는 한섬마일리지/기프트카드로 결제하실 수 없습니다.'
                    );
                    return;
                  }
                }

                doPwcheck(self, '4', use_egift_amount);
              }

              function setUseEGiftAmount(self, use_egift_amount) {
                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/useEGiftAmount',
                  dataType: 'json',
                  data: { useEGiftAmount: use_egift_amount },
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      layerAlert(data.errorMsg);
                      return;
                    } else {
                      $('#egiftpay').prop('readonly', true);
                      self
                        .removeClass('btn_input_apply')
                        .addClass('btn_input_apply_cancle');
                      self.html('취소');
                      //self.removeAttr("data-poptarget");
                      $('.list_secondary_payment')
                        .find('.mpg_input .btn_popup')
                        .removeAttr('data-poptarget');
                      discountApply(data, false);
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  hideLoadingLp();
                });
              }
              function cancelUseEGiftAmount(self) {
                var result = $.Deferred();

                var use_gift_amount = $('#egiftpay')
                  .val()
                  .replace(/[^0-9]/g, '');

                $('#chkAuth').val('');

                //if($(self).prop('class') == 'btn dis_s min_auto'){
                //return;
                //}

                if (use_gift_amount == '' || use_gift_amount == '0') {
                  return;
                }

                showLoadingLp();
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/cancelUseEGiftAmount',
                  dataType: 'json',
                  //data: {"useGiftAmount": use_gift_amount},
                  success: function (data) {
                    if (data == 'NEED_LOGIN') {
                      alert('need login');
                      location.href = '/ko/member/login';
                    }

                    if (data.errorMsg != '') {
                      return;
                    } else {
                      $('#egiftpay').val('');
                      $('#egiftpay').prop('readonly', false);
                      self
                        .removeClass('btn_input_apply_cancle')
                        .addClass('btn_input_apply');
                      self.html('적용');
                      //self.attr("data-poptarget", "pop_recheckpassword");
                      $('#mpg_all_use_4').attr('checked', false);
                      discountApply(data, false);

                      $('#chk_egiftAmount').val('');
                    }
                  }, //,
                  //error: function(xhr,  Status, error) {
                  //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                  //}
                }).always(function () {
                  $(self).removeClass('on');
                  hideLoadingLp();
                  result.resolve();
                });

                return result.promise();
              }
            </script>

            <input type="hidden" name="chkAuth" id="chkAuth" value="" />
            <input type="hidden" id="chk_giftAmount" value="" />
            <input type="hidden" id="chk_pointAmount" value="" />

            <script>
              function checkoutCartView() {
                $.ajax({
                  type: 'GET',
                  url: '/ko/checkout/checkoutCartView',
                  data: {},
                  dataType: 'html',
                  async: false,
                  error: function (request, status, error) {
                    alert(
                      'code:' +
                        request.status +
                        '\n' +
                        'message:' +
                        request.responseText +
                        '\n' +
                        'error:' +
                        error
                    );
                    return false;
                  },
                  success: function (data) {
                    var packoptChecked = $('#packopt').is(':checked');
                    $('#checkoutCartView').html(data);
                    $('#packopt').prop('checked', packoptChecked);
                  },
                });
              }

              function discountApply(data, isViewReload) {
                if (isViewReload) {
                  checkoutCartView();
                }
                $('#checkoutCartTotalPrice').html(data.totalPricePage);

                //2019.7.4 ë°°ì¡ë¹ì ì± ë³ê²½(ì¬ê³ì°)
                setDeliveryMode();

                fn_updateDiscInfo();

                checkRedVoucher();

                if (
                  $('#accumulationPoint').length > 0 &&
                  $.trim(data.accumulationPoint) != ''
                ) {
                  $('#accumulationPoint').val(data.accumulationPoint);
                }
                if (
                  $('#txtAccumulationPoint').length > 0 &&
                  $.trim(data.accumulationPoint) != ''
                ) {
                  $('#txtAccumulationPoint').text(
                    numberFormatComma(data.accumulationPoint)
                  );
                }
                if (
                  $('#accumulationHPoint').length > 0 &&
                  $.trim(data.accumulationHPoint) != ''
                ) {
                  $('#accumulationHPoint').val(data.accumulationHPoint);
                }
                if (
                  $('#txtAccumulationHPoint').length > 0 &&
                  $.trim(data.accumulationHPoint) != ''
                ) {
                  $('#txtAccumulationHPoint').text(
                    numberFormatComma(data.accumulationHPoint)
                  );
                }
                changeOrderButtonText();

                if (typeof checkoutWpay != 'undefined') {
                  checkoutWpay.drawInstallment(
                    $('input[name=card_choice]').val()
                  );
                }
              }

              function numberFormatComma(num) {
                num = Math.floor(num).toString();
                var pattern = /(-?[0-9]+)([0-9]{3})/;

                while (pattern.test(num)) {
                  num = num.replace(pattern, '$1,$2');
                }
                return num;
              }

              function fn_updateDiscInfo() {
                var selectObj = $('input[name="card_choice"]:checked').parent();

                var applYn = selectObj.find('.discInfo_applYn').val();
                var cardName = selectObj.find('.card_name').text();
                var discAmt = selectObj.find('.discInfo_discAmt').val();
                var minAmt = selectObj.find('.discInfo_minAmt').val();

                var couponCode = '';

                var totalPrice = $('#total').val();
                var totalAmountHtml = '';

                totalAmountHtml = '&#8361;' + addComma(Number(totalPrice));

                $('.discinfo_point').remove();

                if (totalPrice != null && discAmt != null && minAmt != null) {
                  discAmt =
                    discAmt != '' && discAmt != null
                      ? discAmt.split(',').join('')
                      : 0;
                  minAmt =
                    minAmt != '' && minAmt != null
                      ? minAmt.split(',').join('')
                      : 0;

                  if (
                    applYn != 'Y' ||
                    minAmt == '' ||
                    Number(totalPrice) < Number(minAmt) ||
                    discAmt == ''
                  ) {
                    discAmt = 0;
                  }

                  if (discAmt > 0) {
                    couponCode = selectObj.find('.discInfo_couponCode').val();

                    var discInfoHtml = '';

                    discInfoHtml += "<li class='discinfo_point'>";
                    discInfoHtml += "<div class='ttpd_tit'>즉시할인</div> \n";
                    discInfoHtml +=
                      "<div class='ttpd_con'>- " + addComma(discAmt) + '</div>';
                    discInfoHtml += '</li>';

                    $('#subtotal').after(discInfoHtml);

                    totalAmountHtml =
                      '&#8361;' +
                      addComma(Number(totalPrice) - Number(discAmt));
                  }
                }

                $('.discInfo_minAmt').each(function () {
                  var cardMinAmt = $(this).val();
                  var totalPriceOrg = $('#total').val();

                  cardMinAmt =
                    cardMinAmt != null &&
                    cardMinAmt != '' &&
                    cardMinAmt != undefined
                      ? cardMinAmt
                      : 0;

                  if (
                    totalPrice != null &&
                    cardMinAmt != null &&
                    Number(cardMinAmt) < Number(totalPriceOrg)
                  ) {
                    $(this)
                      .parents('.card_item')
                      .find('.sale_now_box1910')
                      .show();
                  } else {
                    $(this)
                      .parents('.card_item')
                      .find('.sale_now_box1910')
                      .hide();
                  }
                });
                $('.pay_price').html(totalAmountHtml);

                $('#discInfo_coupon').val(couponCode);
              }
            </script>
            <!-- 결제 수단 선택 -->
            <!-- df_box : 결제수단선택 s -->
            <div class="df_box payment_choice_wrap" style="overflow: hidden">
              <h3 class="df_box_tit">결제수단선택</h3>

              <!-- tab_head s -->
              <ul class="ui_tab red_border_tab payment_choice_tab active">
                <li class="pct1">
                  <a href="#tabCardEasyPay"><span>원클릭결제</span></a>
                </li>
                <li class="pct2 on">
                  <a href="#general_pay"><span>일반결제</span></a>
                </li>
                <li class="fcs" style="transform: translateX(135.812px)"></li>
              </ul>
              <!-- tab_head e -->
              <!-- tab_cont s -->
              <div class="tab_cont on">
                <!-- tab_cont : 카드간편결제 s -->
                <div class="cont" id="tabCardEasyPay">
                  <div
                    class="card_easy_pay_wrap swiper-container swiper_card_easy_pay swiper-container-horizontal swiper-container-wp8-horizontal"
                    id="card_easy_pay">
                    <ul
                      class="swiper-wrapper"
                      style="
                        transition-duration: 0ms;
                        transform: translate3d(155.5px, 0px, 0px);
                      ">
                      <li
                        class="swiper-slide last swiper-slide-active"
                        style="margin-right: 20px">
                        <div class="card_item cd_kind_add">
                          <a
                            href="javascript:;"
                            class="card_add_btn"
                            onclick="checkoutWpay.btnCardRegist()"
                            >카드등록</a
                          >
                        </div>
                        <div style="hidden">
                          <input
                            type="radio"
                            id="card_choice_"
                            name="card_choice"
                            value="" />
                        </div>
                      </li>
                    </ul>
                  </div>
                  <!-- card_easy_pay s -->
                  <!-- card_easy_pay e -->
                </div>
                <!-- tab_cont : 카드간편결제 s -->
                <!-- tab_cont : 일반결제 s -->
                <div class="cont on" id="general_pay">
                  <div class="general_pay_wrap" style="overflow: hidden">
                    <ul class="general_pay_list gpd_tab_w1">
                      <li class="on">
                        <a
                          href="#none"
                          class="gpd_a_credit"
                          data-g-pay-kind="credit"
                          data-g-pay-mode="KO001"
                          >신용카드</a
                        >
                      </li>
                    </ul>

                    <ul class="general_pay_list gpd_tab_w3">
                      <li>
                        <a
                          href="#none"
                          class="gpd_a_real_account"
                          data-g-pay-kind="real_account"
                          data-g-pay-mode="KO002"
                          >실시간 계좌이체</a
                        >
                      </li>
                      <li class="">
                        <a
                          href="#none"
                          class="gpd_a_payco"
                          data-g-pay-kind="payco"
                          data-g-pay-mode="KO008"
                          >페이코</a
                        >
                      </li>
                      <!-- #2610 [주문] 가상계좌 결제수단 제외 및 중복 구매 제한 처리 요청 건 (가상계좌 선택 삭제) 50268 -->
                      <li>
                        <a
                          href="#none"
                          class="gpd_a_kakakopay"
                          data-g-pay-kind="kakakopay"
                          data-g-pay-mode="INIKakao"
                          >카카오페이</a
                        >
                      </li>
                      <li>
                        <a
                          href="#none"
                          class="gpd_a_smilepay"
                          data-g-pay-kind="smilepay"
                          data-g-pay-mode="KO006"
                          >스마일페이</a
                        >
                      </li>
                      <li>
                        <a
                          href="#none"
                          class="gpd_a_tosspay"
                          data-g-pay-kind="tosspay"
                          data-g-pay-mode="KO007"
                          >토스</a
                        >
                      </li>
                      <li>
                        <a
                          href="#none"
                          class="gpd_a_hyundaiRed"
                          data-g-pay-kind="redvoucher"
                          data-g-pay-mode="KO001-4"
                          >현대카드<br />레드쇼핑바우처</a
                        >
                      </li>
                    </ul>
                    <!-- 추가(redmine:1173) : 20180912 s -->
                    <!-- 								<p class="text_box desc_box2">※ 카카오페이는 곧 서비스 예정입니다.</p> -->
                    <!-- 추가(redmine:1173) : 20180912 e -->

                    <div
                      class="general_pay_desc gpd_con_real_account gpd_con_virtual_account">
                      <p class="text_box mt0">
                        ※ 한섬마일리지 / 기프트카드와 가상계좌 함께 사용 시,
                        입금시점에 한섬마일리지 / 기프트카드의 결제 잔액이
                        있어야 주문이 완료됩니다.
                      </p>
                      <p id="virtualText" class="text_box mt0">
                        ※ <font color="red">4시간 이내 입금</font> 하셔야 주문이
                        완료 됩니다.
                      </p>
                      <p class="text_desc_tit">에스크로 서비스</p>
                      <ul class="radio_ul escrow_rd_wrap">
                        <li>
                          <div class="radio_stl radio_stl1">
                            <input
                              type="radio"
                              id="ipt_escrow_01"
                              name="escrowYn"
                              value="N"
                              checked="" />
                            <label for="ipt_escrow_01" class="agr_escrow"
                              >아니오</label
                            >
                          </div>
                        </li>
                        <li>
                          <div class="radio_stl radio_stl1">
                            <input
                              type="radio"
                              id="ipt_escrow_02"
                              name="escrowYn"
                              value="Y" />
                            <label for="ipt_escrow_02" class="agr_escrow"
                              >예</label
                            >
                          </div>
                        </li>
                      </ul>
                      <p class="text_box">
                        정부방침에 따라 실시간계좌이체 및 무통장입금, 가상계좌로
                        주문하시는 경우 에스크로 서비스 이용여부를 선택하실 수
                        있습니다.
                      </p>
                      <p>
                        <a
                          href="https://mark.inicis.com/mark/escrow_popup.php?mid=handsomem1"
                          class="text_btn"
                          id="id_escrow_popup"
                          target="_blank"
                          >에스크로 서비스 가입확인</a
                        >
                      </p>
                    </div>
                  </div>
                </div>
                <!-- tab_cont : 일반결제 e -->
              </div>
              <!-- tab_cont e -->
              <!-- guide s -->
              <ul
                class="shoppingbag_guide_wrap btn_wrap btn_wrap_div1 ta_c"
                id="cardBenefit">
                <li>
                  <a
                    href=".product_card_pop"
                    class="btnstl5 arrow_btn spb_card_benefit btn_popup_trigger">
                    <span>카드 행사 혜택(무이자, 청구, 즉시할인)</span>
                  </a>
                </li>
              </ul>

              <div class="hympoint_banner_wrap" style="">
                <div class="hympoint_banner" style="margin-top: 23px">
                  <div class="img">
                    <img
                      src="http://cdn.thehandsome.com/mobile/hyundai_mpointcard.png"
                      alt="현대카드 Mpoint" />
                  </div>
                  <p>
                    현대카드 M카드계열 결제 시,<br />
                    최종 결제금액의 10%(최대 3만원)<br />
                    M포인트로 사용 가능<br />
                    <span>(자세한 내용 이벤트 페이지 참고)</span>
                  </p>
                </div>
              </div>

              <div class="NEWhyRed_banner_wrap" style="display: none">
                <div class="hyRed_banner" style="margin-top: 23px">
                  <div class="img">
                    <img
                      src="http://cdn.thehandsome.com/mobile/hyundaiRedcard_220502.png"
                      alt="더한섬닷컴x현대카드" />
                  </div>
                  <p>
                    현대카드 the Red Edition 2/3/4/5 결제 시, 쇼핑바우처 사용
                    가능
                    <br />
                    <span>(자세한 내용 이벤트 페이지 참고)</span>
                  </p>
                </div>
              </div>
              <div
                class="hyred_notice"
                id="NEWredVoucherBenefit"
                style="display: none">
                <strong>NOTICE</strong>
                <ul>
                  <li>
                    현대카드 the Red Edition 2/4/5로 30만원 이상 결제 시,
                    쇼핑바우처 10만원권 사용 가능합니다.<br />
                    현대카드 the Red Edition 3 으로 50만원 이상 결제 시,
                    쇼핑바우처 15만원권 사용 가능합니다.
                  </li>
                  <li>
                    레드카드 쇼핑바우처는 부분 사용 불가하며 카드대금 결제일에
                    일괄 <span>청구할인</span> 됩니다.
                  </li>
                  <li>예약 판매 상품은 레드카드 쇼핑바우처 사용 불가합니다.</li>
                  <li>
                    레드카드 쇼핑바우처를 사용한 구매는
                    <span>부분취소/부분반품</span> <span>불가</span> 하오니 단품
                    주문을 권장합니다.
                  </li>
                  <li>
                    취소 시 <span>전체취소 후 재결제 필요</span> 하며, 교환/취소
                    관련 문의는 고객센터 1:1 문의를 이용해 주세요.
                  </li>
                </ul>
              </div>
              <div class="hyRed_banner_wrap" style="display: none">
                <div class="hyRed_banner" style="margin-top: 23px">
                  <div class="img">
                    <img
                      src="http://cdn.thehandsome.com/mobile/hyundaiRedcard_220502.png"
                      alt="더한섬닷컴x현대카드" />
                  </div>
                  <p>
                    현대카드 the Red Edition2로 30만원 이상 결제 시, 쇼핑바우처
                    10만원 사용 가능
                    <br />
                    <span>(자세한 내용 하단 노티스 참고)</span>
                  </p>
                </div>
              </div>
              <div
                class="hyred_notice"
                id="redVoucherBenefit"
                style="display: none">
                <strong>NOTICE</strong>
                <ul>
                  <li>
                    최종 결제금액 30만원 이상일 시, 현대카드 the Red Edition2 로
                    결제 및 쇼핑바우처 10만원권 사용 가능합니다.
                  </li>
                  <li>
                    레드카드 쇼핑바우처 10만원권은 부분 사용 불가하며 카드 대금
                    결제일에 10만원 일괄 <span>청구할인</span> 됩니다.
                  </li>
                  <li>예약 판매 상품은 레드카드 쇼핑바우처 사용 불가합니다.</li>
                  <li>
                    레드카드 쇼핑바우처를 사용한 구매는
                    <span>부분취소/부분반품</span><br />
                    <span>불가</span>하오니 단품 주문을 권장합니다.
                  </li>
                  <li>
                    취소 시 <span>전체취소 후 재결제 필요</span>하며, 교환/취소
                    관련 문의는 고객센터 1:1문의를 이용해 주세요.
                  </li>
                </ul>
              </div>

              <div class="smilepay_banner_wrap" style="display: none">
                <img
                  src="http://cdn.thehandsome.com/mobile/event/detail/image/m_banner_smilepay_210929.jpg"
                  alt="스마일페이"
                  style="width: 100%; margin-top: 23px" />
              </div>

              <div class="tosspay_banner_wrap" style="display: none">
                <img
                  src="http://cdn.thehandsome.com/mobile/event/detail/image/toss_card_banner_200630.jpg"
                  alt="토스페이"
                  style="width: 100%; margin-top: 23px" />
              </div>
              <!-- #3068 [수정] 결제수단 선택 영역 띠배너 & 노티스 문구 수정 (현대카드, 페이코) hyunbae 20220620 -->
              <div class="payco_banner_wrap" style="display: none">
                <div class="payco_banner">
                  <img
                    src="http://cdn.thehandsome.com/mobile/event/detail/image/m_banner_payco.jpg"
                    alt="페이코"
                    style="width: 100%; margin-top: 23px" />
                </div>
              </div>
              <!-- guide e -->
            </div>

            <!-- 카드 혜택 -->
            <div
              class="hsome_layer_popup product_card_pop"
              id="cardBenefitLayerPopup">
              <!-- 카드사 혜택 -->
              <!-- <div class="hsome_layer_popup product_card_pop"> -->
              <h2 class="pop-comm-ttl">카드사 혜택</h2>
              <ul class="ui_tab hs_red_border_tab size03">
                <li class="on"><a href="#card_tab01">무이자 할부</a></li>
                <li><a href="#card_tab02">청구할인</a></li>
                <li><a href="#card_tab03">즉시할인</a></li>
              </ul>
              <div class="pop-comm-cnts">
                <div class="tab_cont">
                  <div class="cont on" id="card_tab01">
                    <div class="card_list_wrap">
                      <h3 class="tit_txt">무이자 할부 행사</h3>
                      <ul class="card_list">
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/shinhan.jpg?context=bWFzdGVyfHJvb3R8MjY1N3xpbWFnZS9qcGVnfGhkZS9oMmIvODgxNDE4MTUxNTI5NC5qcGd8NTAwMDYxM2ZmZmRlZGFhZDQ0ODNmODJjZTg2OTE3MGI3OWQ2ZmE3YzI0ZjA3MDY3NzIxYWVhNmY3NDQyYWUzMA"
                              alt="신한카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">신한카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >신한카드 5만원이상 결제시 2~3개월 무이자
                                    할부</b
                                  ><br />
                                  대상: 신한카드 전 회원<br />
                                  (신한BC 제외/ 법인,기프트,체크,선불카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/SAMSUNG.jpg?context=bWFzdGVyfHJvb3R8MzIxOXxpbWFnZS9qcGVnfGgzZC9oNGQvODgxNDE4MTYxMzU5OC5qcGd8ZGY1NDJiM2U1YWNmNGE5MTJkOTA0MTAxMDliMDc4ZjRlNTJmZjJlOTkxOTQzZTEwMDcxZWU2NGU2MjJmMWE2Mw"
                              alt="삼성카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">삼성카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >삼성카드 5만원이상 결제시 2~3개월 무이자
                                    할부</b
                                  ><br />
                                  대상: 삼성카드 전 회원<br />
                                  (법인,기프트,체크,선불카드 제외)
                                </span>
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/BC.jpg?context=bWFzdGVyfHJvb3R8MjQ1OHxpbWFnZS9qcGVnfGhmMi9oMGQvODgxNDE4MTIyMDM4Mi5qcGd8MjZlZGU2ZGQyNDBkYzU5YmY2NWY0MDU3NDc1OTA0YWI5NmM4NDJjMDFiYjBiYjBjY2FhZjhmMzg3ZmE5NGU5Yw"
                              alt="비씨카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">비씨카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >비씨카드 5만원이상 결제시 2~3개월 무이자
                                    할부</b
                                  ><br />
                                  대상: 비씨카드 전 회원<br />(법인,기프트,체크,선불카드
                                  제외)
                                </span>
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/HYUNDAI.jpg?context=bWFzdGVyfHJvb3R8MjYxMHxpbWFnZS9qcGVnfGg1ZC9oN2MvODgxNDE4MTcxMTkwMi5qcGd8YmM5ZWY0ZjlhODlkMzdmMjYyNmY4NjQ4OWU5NWVjOWFlMGY4ODIwYzZlNjA0MjBlNDkwNWI0ZDllYThjMWE5Mw"
                              alt="현대카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">현대카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >현대카드 1만원이상 결제시 2~3개월 무이자
                                    할부</b
                                  ><br />
                                  대상: 현대카드 전 회원<br />
                                  (법인,기프트,체크,선불카드 제외)
                                </span>
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/kucmin.jpg?context=bWFzdGVyfHJvb3R8MzMwM3xpbWFnZS9qcGVnfGgyZS9oMzQvODgxNDE4MTAyMzc3NC5qcGd8MjM1YjEyN2I4OTljMGIxYzY3MjhjNDhkZWMyOTE5ODZjYmRiYWExNDdhOWZmNDQ3ZWNhNGIxZjYwYzk2MDA4Zg"
                              alt="국민카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">국민카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >KB국민카드 5만원이상 결제시 2~3개월 무이자
                                    할부</b
                                  ><br />
                                  대상: KB국민카드 전 회원<br />
                                  (NH농협, 국민BC 제외/
                                  법인,기프트,체크,선불카드 제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/hanacard.gif?context=bWFzdGVyfHJvb3R8MTkzNXxpbWFnZS9naWZ8aDYwL2hmYi84ODE0MDU0OTY1Mjc4LmdpZnxhMGM5OWY0MDdhNDhjYzkwOTdiMzhkM2VmMDQ2YTI0NTAyNDBjZTljNTdiYzk4YWRhZmI0NjBhOWRhNzRiMGYw"
                              alt="하나카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">하나카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >하나카드 5만원이상 결제시 2~8개월 무이자
                                    할부</b
                                  ><br />
                                  대상: 하나카드 전 회원 (구 하나SK, 구 외환)<br />
                                  (하나BC카드 포함/법인,기프트,체크,선불카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/NH.jpg?context=bWFzdGVyfHJvb3R8Mzk3OXxpbWFnZS9qcGVnfGg4ZS9oMzYvODgxNDE4MTkwODUxMC5qcGd8ZWVlNmY1OWM0NDdmMjg2M2Y4NGZkNDZjYThmOTVkMWNmY2QwYWNkOWI1ODc5YTdiMTc5MjY4MThiZTkzYzNmMw"
                              alt="NH카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">NH카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >NH농협카드 5만원이상 결제시 2~4개월 무이자
                                    할부</b
                                  ><br />
                                  대상: NH농협카드 전 회원<br />
                                  (NH농협BC카드 포함/ 법인,기프트,체크,선불카드
                                  제외)
                                </span>
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/LOTTE.jpg?context=bWFzdGVyfHJvb3R8MzI3MXxpbWFnZS9qcGVnfGhiMy9oNDcvODgxNDE4MTgxMDIwNi5qcGd8MDliOThkNzA1ZDc2ZDE4MzZhYmUzYjI2MDMxZDk0NGU3OTVjYzBhYTA1MmMzMjAyZmE0Y2U4OTZlNTU3NDU2Zg"
                              alt="롯데카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">롯데카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b
                                    >롯데카드 5만원이상 결제시 2~3개월 무이자
                                    할부</b
                                  ><br />
                                  대상:롯데카드 전 회원<br />
                                  (법인,기프트,체크,선불카드 제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                      </ul>
                      <h3 class="tit_txt mt">부분 무이자 할부 행사</h3>
                      <ul class="card_list">
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/shinhan.jpg?context=bWFzdGVyfHJvb3R8MjY1N3xpbWFnZS9qcGVnfGhkZS9oMmIvODgxNDE4MTUxNTI5NC5qcGd8NTAwMDYxM2ZmZmRlZGFhZDQ0ODNmODJjZTg2OTE3MGI3OWQ2ZmE3YzI0ZjA3MDY3NzIxYWVhNmY3NDQyYWUzMA"
                              alt="신한카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">신한카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>10개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4회차 고객부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/shinhan.jpg?context=bWFzdGVyfHJvb3R8MjY1N3xpbWFnZS9qcGVnfGhkZS9oMmIvODgxNDE4MTUxNTI5NC5qcGd8NTAwMDYxM2ZmZmRlZGFhZDQ0ODNmODJjZTg2OTE3MGI3OWQ2ZmE3YzI0ZjA3MDY3NzIxYWVhNmY3NDQyYWUzMA"
                              alt="신한카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">신한카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>12개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4,5회차 고객부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/SAMSUNG.jpg?context=bWFzdGVyfHJvb3R8MzIxOXxpbWFnZS9qcGVnfGgzZC9oNGQvODgxNDE4MTYxMzU5OC5qcGd8ZGY1NDJiM2U1YWNmNGE5MTJkOTA0MTAxMDliMDc4ZjRlNTJmZjJlOTkxOTQzZTEwMDcxZWU2NGU2MjJmMWE2Mw"
                              alt="삼성카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">삼성카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>6개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3회차 고객 부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/SAMSUNG.jpg?context=bWFzdGVyfHJvb3R8MzIxOXxpbWFnZS9qcGVnfGgzZC9oNGQvODgxNDE4MTYxMzU5OC5qcGd8ZGY1NDJiM2U1YWNmNGE5MTJkOTA0MTAxMDliMDc4ZjRlNTJmZjJlOTkxOTQzZTEwMDcxZWU2NGU2MjJmMWE2Mw"
                              alt="삼성카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">삼성카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>10개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4회차 고객 부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/SAMSUNG.jpg?context=bWFzdGVyfHJvb3R8MzIxOXxpbWFnZS9qcGVnfGgzZC9oNGQvODgxNDE4MTYxMzU5OC5qcGd8ZGY1NDJiM2U1YWNmNGE5MTJkOTA0MTAxMDliMDc4ZjRlNTJmZjJlOTkxOTQzZTEwMDcxZWU2NGU2MjJmMWE2Mw"
                              alt="삼성카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">삼성카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>12개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4,5회차 고객 부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)
                                </span>
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/BC.jpg?context=bWFzdGVyfHJvb3R8MjQ1OHxpbWFnZS9qcGVnfGhmMi9oMGQvODgxNDE4MTIyMDM4Mi5qcGd8MjZlZGU2ZGQyNDBkYzU5YmY2NWY0MDU3NDc1OTA0YWI5NmM4NDJjMDFiYjBiYjBjY2FhZjhmMzg3ZmE5NGU5Yw"
                              alt="비씨카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">비씨카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>우리BC 12개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4회차 고객부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)
                                </span>
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/BC.jpg?context=bWFzdGVyfHJvb3R8MjQ1OHxpbWFnZS9qcGVnfGhmMi9oMGQvODgxNDE4MTIyMDM4Mi5qcGd8MjZlZGU2ZGQyNDBkYzU5YmY2NWY0MDU3NDc1OTA0YWI5NmM4NDJjMDFiYjBiYjBjY2FhZjhmMzg3ZmE5NGU5Yw"
                              alt="비씨카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">비씨카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b> 우리BC 10개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3회차 고객부담, 잔여할부
                                  수수료 면제/법인,체크,기프트카드 제외)
                                </span>
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2022.12.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/kucmin.jpg?context=bWFzdGVyfHJvb3R8MzMwM3xpbWFnZS9qcGVnfGgyZS9oMzQvODgxNDE4MTAyMzc3NC5qcGd8MjM1YjEyN2I4OTljMGIxYzY3MjhjNDhkZWMyOTE5ODZjYmRiYWExNDdhOWZmNDQ3ZWNhNGIxZjYwYzk2MDA4Zg"
                              alt="국민카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">국민카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>6개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3회차 고객부담, 잔여할부
                                  수수료 면제/법인,체크,기프트카드 제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/kucmin.jpg?context=bWFzdGVyfHJvb3R8MzMwM3xpbWFnZS9qcGVnfGgyZS9oMzQvODgxNDE4MTAyMzc3NC5qcGd8MjM1YjEyN2I4OTljMGIxYzY3MjhjNDhkZWMyOTE5ODZjYmRiYWExNDdhOWZmNDQ3ZWNhNGIxZjYwYzk2MDA4Zg"
                              alt="국민카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">국민카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>10개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4 회차 고객부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/kucmin.jpg?context=bWFzdGVyfHJvb3R8MzMwM3xpbWFnZS9qcGVnfGgyZS9oMzQvODgxNDE4MTAyMzc3NC5qcGd8MjM1YjEyN2I4OTljMGIxYzY3MjhjNDhkZWMyOTE5ODZjYmRiYWExNDdhOWZmNDQ3ZWNhNGIxZjYwYzk2MDA4Zg"
                              alt="국민카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">국민카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>12개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4,5 회차 고객부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/hanacard.gif?context=bWFzdGVyfHJvb3R8MTkzNXxpbWFnZS9naWZ8aDYwL2hmYi84ODE0MDU0OTY1Mjc4LmdpZnxhMGM5OWY0MDdhNDhjYzkwOTdiMzhkM2VmMDQ2YTI0NTAyNDBjZTljNTdiYzk4YWRhZmI0NjBhOWRhNzRiMGYw"
                              alt="하나카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">하나카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>10개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3회차 고객부담, 잔여할부
                                  수수료 면제/법인,체크,기프트카드 제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="card_logo">
                            <img
                              src="/medias/hanacard.gif?context=bWFzdGVyfHJvb3R8MTkzNXxpbWFnZS9naWZ8aDYwL2hmYi84ODE0MDU0OTY1Mjc4LmdpZnxhMGM5OWY0MDdhNDhjYzkwOTdiMzhkM2VmMDQ2YTI0NTAyNDBjZTljNTdiYzk4YWRhZmI0NjBhOWRhNzRiMGYw"
                              alt="하나카드" />
                          </div>
                          <div class="card_cont">
                            <p class="name">하나카드</p>
                            <div class="cont_area">
                              <!-- 												<p class="tit">5만원 이상 결제 시 2~6개월 무이자 할부</p> -->
                              <p class="text">
                                <span
                                  ><b>12개월 부분무이자</b><br />
                                  (5만원이상 결제시/1,2,3,4회차 고객부담,
                                  잔여할부 수수료 면제/법인,체크,기프트카드
                                  제외)</span
                                >
                                <!-- 													<span>(신한BC 제외 / 법인, 기프트, 체크, 선불카드 제외)</span> -->
                                <span>2023.01.01 ~ 2023.01.31</span>
                              </p>
                            </div>
                          </div>
                        </li>
                      </ul>
                      <ul class="hs_bul_list btm">
                        <li class="dot">
                          ARS 무이자 할부는 해당 카드사 ARS 번호로 사전 신청을
                          하신 경우에 한하여<br />무이자 혜택이 적용됩니다.(ARS
                          부문 무이자 할부 포함)
                        </li>
                        <li class="dot">
                          상기 부분 무이자 할부는 5만원 이상 결제 시 자동
                          적용되며, 결제창에는 무이자 표시가 되지 않을 수
                          있습니다.
                        </li>
                        <li class="dot">
                          법인 / 체크 / 선불 / 기프트 / 은행 계열 카드는
                          제외됩니다.
                        </li>
                        <li class="dot">
                          고객 부담 수수료는 해당 카드사로 문의 바랍니다.
                        </li>
                        <li class="dot">
                          본 행사는 카드사 사정에 따라 일부 내용이 변경 또는
                          중단될 수 있습니다.
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="cont" id="card_tab02">
                    <div class="card_list_wrap">
                      <ul class="card_list">
                        <p class="no_data">카드행사가 없습니다.</p>
                        <!-- 180615_카드행사 없음 케이스 추가 -->
                      </ul>
                      <ul class="hs_bul_list btm">
                        <li class="dot">
                          법인 / 체크 / 선불 / 기프트 / 은행 계열 카드는
                          제외됩니다.
                        </li>
                        <li class="dot">
                          본 행사는 카드사 사정에 따라 일부 내용이 변경 또는
                          중단될 수 있습니다.
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="cont" id="card_tab03">
                    <div class="card_list_wrap">
                      <ul class="card_list">
                        <p class="no_data">카드행사가 없습니다.</p>
                        <!-- 180615_카드행사 없음 케이스 추가 -->
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <a href="javascript:;" class="pop-comm-cls">닫기</a>
              <!-- </div> -->
              <!--// 카드사 혜택 -->
            </div>
            <!-- df_box : 결제수단선택 e -->

            <input type="hidden" name="mode" value="KO001" />
            <input type="hidden" name="bankCardCode" value="" />
            <input type="hidden" name="wpayToken" value="" />
            <input type="hidden" name="cardQuota" value="" />
            <input type="hidden" name="cardInterest" value="" />

            <input
              type="hidden"
              id="discInfo_coupon"
              name="couponCode"
              value="" />
            <script type="text/javascript">
              var inicisCookieFlag = true;
              var inicisMethod = '';
              var authData = '';

              var uagentLow = navigator.userAgent.toLocaleLowerCase();
              if (uagentLow.search('android') > -1) {
              } else if (uagentLow.search('iphone') > -1) {
                var isSafari =
                  navigator.userAgent.toLowerCase().indexOf('safari') > -1;
                var isChrome =
                  navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
                if (isSafari) {
                  if (isChrome) {
                    isSafari = false;
                  } else {
                    if (
                      navigator.userAgent.toLowerCase().indexOf('crios') > -1
                    ) {
                      isSafari = false;
                    }
                    inicisCookieFlag = false;
                  }
                }
              }

              var WPAY = {
                FORMID: 'frmWpayHspay',
                IFRAMEID: 'ifrmWpayHspayLayer',
                loading: false,
                startLoading: function () {
                  WPAY.loading = true;
                  showLoadingLp();
                },
                stopLoading: function () {
                  setTimeout(function () {
                    WPAY.loading = false;
                    hideLoadingLp();
                  }, 300);
                },

                addForm: function () {
                  if ($('#' + WPAY.FORMID).length > 0) {
                    $('#' + WPAY.FORMID).remove();
                  }
                  return $('<form/>', {
                    id: WPAY.FORMID,
                    enctype: 'application/x-www-form-urlencodeed',
                  }).appendTo($('body'));
                },

                open: function (callback) {
                  var depthIndex = layerNextActiveIndex();
                  $('.hsome_layerpop_contents').removeClass('hspay-layer');

                  callLayerPopupShow('depth' + depthIndex, function (obj) {
                    $(obj).addClass('hspay-layer');
                    var wpayTag = '';
                    var wpayStyleTag =
                      'width: 100%; height: 99%; margin-top: 0; z-index: 100001;display: block !important; top: 0px; left: 0; -webkit-overflow-scrolling: touch; background: #fff';
                    wpayTag += '<div class="layerpop_wrap lp_loading_wrap">';
                    wpayTag += '	<div class="lyrpp_top">';
                    wpayTag +=
                      '		<a href="javascript:;" class="lyrpp_close lyrpp_close_stl1 btn_lyrpp_close"><span>닫기<!-- 닫기 --></span></a>';
                    wpayTag += '	</div>';
                    wpayTag += '	<div class="lyrpp_mid" id="wpayLoadingImage">';
                    wpayTag += '		<div class="loading_box">';
                    wpayTag += '			<p class="guide_box">처리중입니다</p>';
                    wpayTag += '		</div>';
                    wpayTag += '	</div>';
                    wpayTag +=
                      '<iframe id="' +
                      WPAY.IFRAMEID +
                      '" name="' +
                      WPAY.IFRAMEID +
                      '" src="about:blank" width="100%" height="100%" style="' +
                      wpayStyleTag +
                      '" frameborder="0" border="0"></iframe>';

                    wpayTag += '</div>';
                    $(obj).html(wpayTag);

                    callback();
                    setTimeout(function () {
                      WPAY.loadingHide();
                    }, 500);
                  });
                },

                loadingShow: function () {
                  $('#wpayLoadingImage').show();
                },

                loadingHide: function () {
                  $('#wpayLoadingImage').fadeOut();
                },

                close: function () {
                  var $obj = $('.hsome_layerpop_contents.hspay-layer');
                  $obj.removeClass('visible');
                  $obj.removeClass('active');
                  $obj.removeClass('hspay-layer');
                  $('.hsome_layerpop_contents .fcs').hide();
                  holdBodyHide();
                  hs_allCon.css({ marginTop: curScrollPosition * -1 });
                  setTimeout(function () {
                    hs_allCon.css({ marginTop: 0 });
                    $(window).scrollTop(curScrollPosition);
                    $obj.empty();
                  }, 200);
                  return false;
                },

                convertFormToJSON: function convertFormToJSON(_form) {
                  var obj = {};
                  try {
                    if (
                      _form[0].tagName &&
                      _form[0].tagName.toUpperCase() == 'FORM'
                    ) {
                      var arr = _form.serializeArray();
                      if (arr != null) {
                        $.each(arr, function () {
                          obj[this.name] = this.value;
                        });
                      }
                    }
                  } catch (e) {
                  } finally {
                  }
                  return obj;
                },

                wpaylayerConfirm: function (msg, confirmMsg, cancleMsg) {
                  var layer = new layerConfirm(msg, confirmMsg, cancleMsg);
                  $('#confirmCloseDiv').click(function () {
                    WPAY.stopLoading();
                  });
                  return layer;
                },
              };

              WPAY.cardRegistSubmit = function (data) {
                var $frmWpayHspay = WPAY.addForm();
                $frmWpayHspay.empty();
                addHidden($frmWpayHspay, 'mid', data.mid);
                addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
                addHidden($frmWpayHspay, 'ci', data.ci);
                addHidden($frmWpayHspay, 'payMethod', data.payMethod);
                addHidden($frmWpayHspay, 'bankCardCode', data.bankCardCode);
                addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
                addHidden($frmWpayHspay, 'signature', data.signature);

                $frmWpayHspay.attr({
                  method: 'POST',
                  action: data.url,
                  //'target': WPAY.IFRAMEID
                });
                $frmWpayHspay.submit();
              };

              WPAY.memberRegistSubmit = function (data) {
                var $frmWpayHspay = WPAY.addForm();
                $frmWpayHspay.empty();
                addHidden($frmWpayHspay, 'mid', data.mid);
                addHidden($frmWpayHspay, 'userId', data.userId);
                addHidden($frmWpayHspay, 'ci', data.ci);
                addHidden($frmWpayHspay, 'reqType', data.reqType);
                addHidden($frmWpayHspay, 'userNm', data.userNm);
                addHidden($frmWpayHspay, 'hNum', data.hNum);
                addHidden($frmWpayHspay, 'hCorp', data.hCorp);
                addHidden($frmWpayHspay, 'birthDay', data.birthDay);
                addHidden($frmWpayHspay, 'socialNo2', data.socialNo2);
                addHidden($frmWpayHspay, 'frnrYn', data.frnrYn);
                addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
                addHidden($frmWpayHspay, 'payUrl', data.payUrl);
                addHidden($frmWpayHspay, 'signature', data.signature);

                $frmWpayHspay.attr({
                  method: 'POST',
                  action: data.url,
                  //'target': WPAY.IFRAMEID
                });
                $frmWpayHspay.submit();
              };

              WPAY.memberUnRegistSubmit = function (data) {
                var $frmWpayHspay = WPAY.addForm();
                $frmWpayHspay.empty();
                addHidden($frmWpayHspay, 'mid', data.mid);
                addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
                addHidden($frmWpayHspay, 'ci', data.ci);
                addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
                addHidden($frmWpayHspay, 'signature', data.signature);

                $frmWpayHspay.attr({
                  method: 'POST',
                  action: data.url,
                  //'target': WPAY.IFRAMEID
                });
                $frmWpayHspay.submit();
              };

              WPAY.passwordChangeSubmit = function (data) {
                var $frmWpayHspay = WPAY.addForm();
                $frmWpayHspay.empty();
                addHidden($frmWpayHspay, 'mid', data.mid);
                addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
                addHidden($frmWpayHspay, 'ci', data.ci);
                addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
                addHidden($frmWpayHspay, 'signature', data.signature);

                $frmWpayHspay.attr({
                  method: 'POST',
                  action: data.url,
                  //'target': WPAY.IFRAMEID
                });
                $frmWpayHspay.submit();
              };

              WPAY.paymentAuthSubmit = function (data) {
                var $frmWpayHspay = WPAY.addForm();
                $frmWpayHspay.empty();

                inicisMethod = 'paymentAuthSubmit';
                authData = data;

                addHidden($frmWpayHspay, 'mid', data.mid);
                addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
                addHidden($frmWpayHspay, 'wpayToken', data.wpayToken);
                addHidden($frmWpayHspay, 'ci', data.ci);
                addHidden($frmWpayHspay, 'payMethod', data.payMethod);
                addHidden($frmWpayHspay, 'bankCardCode', data.bankCardCode);
                addHidden($frmWpayHspay, 'oid', data.oid);
                addHidden($frmWpayHspay, 'goodsName', data.goodsName);
                addHidden($frmWpayHspay, 'goodsPrice', data.goodsPrice);
                addHidden($frmWpayHspay, 'buyerName', data.buyerName);
                addHidden($frmWpayHspay, 'buyerTel', data.buyerTel);
                addHidden($frmWpayHspay, 'buyerEmail', data.buyerEmail);
                addHidden($frmWpayHspay, 'cardQuota', data.cardQuota);
                addHidden($frmWpayHspay, 'cardInterest', data.cardInterest);
                addHidden($frmWpayHspay, 'couponCode', data.couponCode);
                addHidden($frmWpayHspay, 'flagPin', data.flagPin);
                addHidden($frmWpayHspay, 'flagPinMsg', data.flagPinMsg);
                addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
                addHidden($frmWpayHspay, 'flagCardPoint', data.flagCardPoint);
                addHidden($frmWpayHspay, 'signature', data.signature);

                $frmWpayHspay.attr({
                  method: 'POST',
                  action: data.url,
                  //'target': WPAY.IFRAMEID
                });
                $frmWpayHspay.submit();
              };

              WPAY.accesstermsSubmit = function (data) {
                var $frmWpayHspay = WPAY.addForm();
                $frmWpayHspay.empty();
                addHidden($frmWpayHspay, 'mid', data.mid);
                addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
                addHidden($frmWpayHspay, 'signature', data.signature);
                $frmWpayHspay.attr({
                  method: 'POST',
                  action: data.url,
                  //'target': WPAY.IFRAMEID
                });
                $frmWpayHspay.submit();
              };

              var checkoutWpay = (function () {
                var btnCardRegist = function () {
                  //if (WPAY.loading == true) return;
                  //WPAY.startLoading();

                  $.get(
                    '/ko/wpay/cardRegist?fncallback=checkoutCardRegistCallback&wpayReferUrl=' +
                      referUrl,
                    function (data) {
                      if (data.resultCode == 'NOT_WPAY_MEMBER') {
                        var layer = WPAY.wpaylayerConfirm(
                          '간편결제 회원으로 등록되어 있지 않습니다.<br/>간편결제 가입 및 결제수단 등록을 진행하시겠습니까?',
                          '확인',
                          '취소'
                        );
                        layer.confirmAction = function () {
                          //WPAY.open(function () {
                          inicisMethod = 'memberRegist';
                          wpayMemberRegist();
                          //});
                        };
                        layer.cancleAction = function () {
                          //WPAY.stopLoading();
                        };
                        return;
                      }

                      WPAY.open(function () {
                        inicisMethod = 'cardRegist';
                        WPAY.cardRegistSubmit(data);
                        //WPAY.stopLoading();
                      });
                    }
                  ).fail(function () {
                    //WPAY.stopLoading();
                  });
                };

                $('#card_easy_pay').on('click', 'li.swiper-slide', function () {
                  if ($(this).hasClass('last')) {
                    checkoutWpay.resetEasyPay();
                    checkoutWpay.resetGeneralPay();

                    $('input[name=wpayToken]').val('');
                    $('input[name=cardQuota]').val('00');
                    $('input[name=cardInterest]').val('N');
                  } else {
                    var $cardCode = $(this).find('input[name=card_choice]'),
                      selectCardCode = $('input[name=bankCardCode]').val();

                    $('input[name=mode]').val(
                      $cardCode.val() == '' ? '' : 'KO001-3'
                    );
                    $('input[name=bankCardCode]').val($cardCode.val());
                    $('input[name=wpayToken]').val($cardCode.data('token'));
                    $('input[name=cardQuota]').val('00');
                    $('input[name=cardInterest]').val('N');
                    if ($cardCode.val() != selectCardCode)
                      checkoutWpay.drawInstallment($cardCode.val());
                  }

                  if (typeof onclickButtonTextChange === 'function') {
                    onclickButtonTextChange();
                  }
                });

                var drawCardList = function drawCardList() {
                  var drawEasyPayTag = function (data) {
                    var $card_easy_pay = $('#card_easy_pay'),
                      easyPay = '';

                    easyPay += '	<ul class="swiper-wrapper">';

                    if (data.resultCode == '0000') {
                      $card_easy_pay.data('nointlist', data.noIntCardList);
                      $.each(data.cardList, function (index, item) {
                        var wpayCardInfo = WPAY_CARD_INFO[item.bankCardCode];

                        easyPay += '		<li class="swiper-slide">';
                        easyPay +=
                          '			<div class="card_item ' + wpayCardInfo.cls + '">';
                        if (
                          item.discinfo != null &&
                          item.discinfo.applYn == 'Y'
                        ) {
                          easyPay += '	<div class="sale_now_box1910">';
                          easyPay += '		<span class="sale_type1">즉시할인</span>';
                          easyPay += '	</div>';
                        }
                        easyPay += '				<div class="radio_stl">';
                        easyPay +=
                          '					<input type="radio" id="card_choice_' +
                          item.bankCardNo +
                          '" name="card_choice" value="' +
                          item.bankCardCode +
                          '" data-token="' +
                          item.wpayToken +
                          '" />';
                        easyPay += '					<label for="card_choice_' + index + '">';
                        easyPay +=
                          '						<div class="card_name">' +
                          decodeURIComponent(item.cardName) +
                          '</div>';
                        easyPay += '					</label>';
                        easyPay +=
                          '                    <input type="hidden" class="discInfo_applYn" value="' +
                          item.discinfo.applYn +
                          '"/>';
                        easyPay +=
                          '                    <input type="hidden" class="discInfo_couponCode" value="' +
                          item.discinfo.couponCode +
                          '"/>';
                        easyPay +=
                          '                    <input type="hidden" class="discInfo_discAmt" value="' +
                          item.discinfo.discAmt +
                          '"/>';
                        easyPay +=
                          '                    <input type="hidden" class="discInfo_minAmt" value="' +
                          item.discinfo.minAmt +
                          '"/>';
                        easyPay +=
                          '                    <input type="hidden" class="discInfo_maxAmt" value="' +
                          item.discinfo.maxAmt +
                          '"/>';
                        easyPay += '				</div>';
                        easyPay +=
                          '				<div class="card_num">' +
                          $.trim(item.bankCardNo).replace(/-/g, ' ') +
                          '</div>';
                        easyPay +=
                          '				<select name="card_pay_term_' +
                          item.bankCardCode +
                          '" id="card_pay_term_' +
                          item.bankCardCode +
                          '" class="sodsb" data-custom-class="card_pay_term">';
                        easyPay += '					<option value="00">일시불</option>';
                        easyPay += '				</select>';
                        easyPay += '			</div>';
                        easyPay += '		</li>';
                      });
                    }

                    easyPay += '		<li class="swiper-slide last">';
                    easyPay += '			<div class="card_item cd_kind_add_guide">';
                    easyPay +=
                      '				<p class="desc_box"><span class="under" id="linkOneBuySetting">마이페이지>정보>등록한 카드 정보</span>에서<br>신규카드를 등록하실 수 있습니다.</p>';
                    easyPay += '			</div>';
                    easyPay += '			<div style="hidden">';
                    easyPay +=
                      '				<input type="radio" id="card_choice_" name="card_choice" value=""/>';
                    easyPay += '			</div>';
                    easyPay += '		</li>';
                    easyPay += '	</ul>';
                    $('#card_easy_pay').html(easyPay);
                    $('#card_easy_pay select.sodsb').selectOrDie();

                    var easyPaySwiper = $('#card_easy_pay')[0].swiper;
                    if (easyPaySwiper != null) easyPaySwiper.destroy();
                    swiperCardActive('swiper_card_easy_pay');

                    if ($card_easy_pay.find('li.swiper-slide').length > 1) {
                      $card_easy_pay
                        .find('[name="card_choice"]:eq(0)')
                        .trigger('click');
                    }
                    if (typeof fn_updateDiscInfo === 'function') {
                      $('#oneClickCardLoadYn').val('Y');
                      fn_updateDiscInfo();
                    }
                  };

                  return $.get('/ko/wpay/cardListForPayment')
                    .done(drawEasyPayTag)
                    .fail(drawEasyPayTag);
                };

                var drawInstallment = function drawInstallment(cardCode) {
                  var noIntList = $('#card_easy_pay').data('nointlist');
                  var paymentPrice = parseInt($('#total').val(), 0) || 0;
                  var MAX_INSTALLMENT = 12,
                    MAX_NOINTSTALLMENT_PRICE = 0,
                    MAX_NOINTSTALLMENT_MONTH = ['0'];
                  var $selectInstallment = $(
                      "select[id='card_pay_term_" + cardCode + "']"
                    ),
                    selectTag = '';

                  if ($("[name='mode']").val() != 'KO001-3') return;

                  selectTag = '<option value="00">일시불</option>';

                  if (paymentPrice >= 50000) {
                    if (noIntList != null) {
                      $.each(noIntList, function (idx, item) {
                        if (item.cardCode != cardCode) return true;

                        $.each(item.cardEventList, function (i, cardEvent) {
                          if (
                            paymentPrice >= cardEvent.amount * 10000 &&
                            cardEvent.amount * 10000 > MAX_NOINTSTALLMENT_PRICE
                          ) {
                            MAX_NOINTSTALLMENT_PRICE = cardEvent.amount * 10000;
                            MAX_NOINTSTALLMENT_MONTH = cardEvent.month;
                          }
                        });
                      });
                    }

                    for (var i = 2; i <= MAX_INSTALLMENT; i++) {
                      if (i < 10) {
                        month = '0' + i;
                      } else {
                        month = i;
                      }
                      if (
                        $.inArray(i.toString(), MAX_NOINTSTALLMENT_MONTH) > -1
                      ) {
                        selectTag +=
                          '<option value="' +
                          month +
                          '" data-nointstallment="Y">' +
                          i.toString() +
                          '개월 무이자</option>';
                      } else {
                        selectTag +=
                          '<option value="' +
                          month +
                          '">' +
                          i.toString() +
                          '개월</option>';
                      }
                    }
                  }

                  $selectInstallment.html(selectTag);
                  $selectInstallment.selectOrDie('update');
                };
                var drawCardListForCheckout = function () {
                  return this.drawCardList().always(function () {
                    var $lastSlide =
                        $('#card_easy_pay').find('.swiper-slide.last'),
                      $cardItem = $lastSlide.find('.card_item');
                    $cardItem
                      .addClass('cd_kind_add')
                      .removeClass('cd_kind_add_guide');
                    $cardItem.html(
                      '<a href="javascript:;" class="card_add_btn" onclick="checkoutWpay.btnCardRegist()">카드등록</a>'
                    );
                  });
                };
                var drawCardListForOneclick = function () {
                  return this.drawCardList().always(function () {
                    var $lastSlide =
                        $('#card_easy_pay').find('.swiper-slide.last'),
                      $cardItem = $lastSlide.find('.card_item');
                    $cardItem
                      .addClass('cd_kind_add_guide')
                      .removeClass('cd_kind_add');
                    $cardItem.html(
                      '<p class="desc_box"><span class="under" id="linkOneBuySetting">마이페이지>정보>등록한 카드 정보</span>에서<br>신규카드를 등록하실 수 있습니다.</p>'
                    );
                  });
                };
                return {
                  drawCardList: drawCardList,

                  drawCardListForCheckout: drawCardListForCheckout,

                  drawCardListForOneclick: drawCardListForOneclick,

                  drawInstallment: drawInstallment,

                  btnCardRegist: btnCardRegist,

                  resetEasyPay: function resetEasyPay() {
                    $('input[name=mode]').val('');
                    $('input[name=bankCardCode]').val('');
                    $('input[name=card_choice]').attr('checked', false);
                  },

                  resetGeneralPay: function resetGeneralPay() {
                    $('input[name=mode]').val('');
                    $('#general_pay li').removeClass();
                  },
                };
              })();

              var wpayStartMemberRegist = function () {
                if (WPAY.loading == true) return;
                WPAY.startLoading();

                wpayMemberRegist();
              };

              var wpayMemberRegist = function () {
                $.get(
                  '/ko/wpay/memberRegist?fncallback=checkoutMemberRegistCallback&wpayReferUrl=' +
                    referUrl,
                  function (memberData) {
                    setTimeout(function () {
                      if ($.trim(memberData.mid) == '') {
                        layerAlert(
                          decodeURIComponent(memberData.resultMsg) ||
                            '간편결제 회원등록을 실패하였습니다.'
                        );
                        WPAY.close();
                        return;
                      }

                      WPAY.memberRegistSubmit(memberData);
                    }, 300);
                  }
                ).always(function () {
                  WPAY.stopLoading();
                });
              };

              var wpayStartCardRegist = function () {
                if (WPAY.loading == true) return;
                WPAY.startLoading();

                WPAY.open(function () {
                  wpayCardRegist();
                });
              };

              var wpayCardRegist = function () {
                $.get(
                  '/ko/wpay/cardRegist?fncallback=cardRegistCallback&wpayReferUrl=' +
                    referUrl,
                  function (data) {
                    switch (data.resultCode) {
                      case '0000':
                        WPAY.cardRegistSubmit(data);
                        break;
                      case 'NOT_WPAY_MEMBER':
                        wpayMemberRegistConfirm();
                        break;
                      case 'IS_ANONYMOUS':
                        location.href = '/ko/member/login';
                        break;
                      default:
                        new layerAlert(
                          decodeURIComponent(
                            data.resultMsg ||
                              '신규카드등록중 오류가 발생하였습니다.'
                          )
                        );
                    }
                  }
                );
              };

              var checkoutMemberRegistCallback = function (
                resultCode,
                resultMsg
              ) {
                switch (resultCode) {
                  case '2406':
                    if (
                      inicisCookieFlag == false &&
                      inicisMethod == 'memberRegist'
                    ) {
                      inicisCookieFlag = true;
                      inicisIosCookieSetting();

                      wpayStartMemberRegist();
                    } else {
                      layerWpayCookieSettingView();
                      WPAY.close();
                    }
                    break;
                  case '0000':
                    $.get(
                      '/ko/wpay/cardRegist?fncallback=checkoutCardRegistCallback',
                      function (data) {
                        WPAY.cardRegistSubmit(data);
                      }
                    );
                    break;
                  default:
                    new layerAlert(resultMsg);
                    WPAY.close();
                    break;
                }
              };

              var checkoutCardRegistCallback = function (
                resultCode,
                resultMsg,
                result
              ) {
                switch (resultCode) {
                  case '2406':
                    if (
                      inicisCookieFlag == false &&
                      inicisMethod == 'cardRegist'
                    ) {
                      inicisCookieFlag = true;
                      inicisIosCookieSetting();

                      wpayStartCardRegist();
                    } else {
                      layerWpayCookieSettingView();
                      WPAY.close();
                    }
                    break;
                  case '0000':
                    checkoutWpay.drawCardListForCheckout();
                    layerWpayCardDetailView(result);
                    break;
                  default:
                    new layerAlert(resultMsg);
                    WPAY.close();
                    break;
                }
              };

              /*
* iframe -> 페이지 전환 방식으로 변경하게 되어 미사용
* wpayResult.jsp 페이지로 이전
var checkoutPaymentAuthCallback = function (resultCode, resultMsg, result) {
switch(resultCode) {
case "2406": 
  if(inicisCookieFlag == false && inicisMethod == "paymentAuthSubmit"){
      inicisCookieFlag = true;
      inicisIosCookieSetting();
      
          WPAY.open(function () {
            WPAY.paymentAuthSubmit(authData);
          });
        
  }else{
      layerWpayCookieSettingView();
    WPAY.close();
  }
  break;
case "0000":
  WPAY.loadingShow();
  var $PAY_FORM = $("#PAY_FORM");
  addHidden($PAY_FORM, 'wtid'	, result.wtid);
  
  if (window.parent == self) {
    
    setTimeout(function () {
      $PAY_FORM.attr({
        'method': 'POST',
        'action': '/ko/inicis/inipaywpay/sop/response',
        'target': '_top'
      });
      $PAY_FORM.submit();
    }, 200);
  } else {
    
    var formData = WPAY.convertFormToJSON($PAY_FORM);
    window.parent.postMessage({ func: 'oneclickPostSubmit', data: formData }, '*');
  }
  break;
default:
  new layerAlert(resultMsg);
  WPAY.close();
  break;
}
}

*/

              var layerWpayCardDetailView = function (data) {
                var cardDetailTag = '';
                var card = WPAY_CARD_INFO[data.bankCardCode];
                cardDetailTag +=
                  '<div class="layerpop_wrap lp_simple_pay_wrap">';
                cardDetailTag += '	<div class="lyrpp_top">';
                cardDetailTag +=
                  '		<a href="javascript:;" onclick="WPAY.close()" class="lyrpp_close lyrpp_close_stl1 btn_lyrpp_close"><span>닫기</span></a>';
                cardDetailTag += '		<h2>등록 완료</h2>';
                cardDetailTag += '	</div>';
                cardDetailTag += '	<div class="lyrpp_mid">';
                cardDetailTag += '		<div class="card_preview_wrap">';
                cardDetailTag += '			<div class="card_item ' + card.cls + '">';
                cardDetailTag +=
                  '				<div class="card_name">' +
                  decodeURIComponent(card.name) +
                  '</div>';
                cardDetailTag +=
                  '				<div class="card_num">' +
                  $.trim(data.bankCardNo).replace(/-/g, ' ') +
                  '</div>';
                cardDetailTag += '			</div>';
                cardDetailTag +=
                  '			<p class="msg_box">카드등록이 완료되었습니다.</p>';
                cardDetailTag += '		</div>';
                cardDetailTag += '		<ul class="btn_wrap btn_wrap_div1">';
                cardDetailTag +=
                  '			<li><a href="javascript:;" onclick="WPAY.close()" class="btnstl3 solid_btn_blk">';
                cardDetailTag +=
                  '				<span>간편결제를 등록해 주셔서 감사합니다</span></a>';
                cardDetailTag += '			</li>';
                cardDetailTag += '		</ul>';
                cardDetailTag += '	</div>';
                cardDetailTag += '</div>';

                var $wpayLayer = $('.hsome_layerpop_contents.hspay-layer');
                $wpayLayer.html(cardDetailTag);
              };

              var layerWpayCookieSettingView = function () {
                $('#btnWpayCookieSetting').click();
              };

              $(document).on('click', '#linkOneBuySetting', function () {
                window.parent.postMessage(
                  {
                    func: 'oneclickPostMovePage',
                    data: {
                      url: '/ko/mypage/oneBuy',
                    },
                  },
                  '*'
                );
              });

              var WPAY_CARD_INFO = [];
              WPAY_CARD_INFO['03'] = { name: '롯데카드', cls: 'cd_kind_lotte' };
              WPAY_CARD_INFO['04'] = {
                name: '현대카드',
                cls: 'cd_kind_hyundai',
              };
              WPAY_CARD_INFO['06'] = { name: '국민카드', cls: 'cd_kind_kb' };
              WPAY_CARD_INFO['11'] = { name: 'BC카드', cls: 'cd_kind_bc' };
              WPAY_CARD_INFO['12'] = {
                name: '삼성카드',
                cls: 'cd_kind_samsung',
              };
              WPAY_CARD_INFO['14'] = {
                name: '신한카드',
                cls: 'cd_kind_shinhan',
              };
              WPAY_CARD_INFO['16'] = { name: 'NH카드', cls: 'cd_kind_nh' };
              WPAY_CARD_INFO['01'] = { name: '하나카드', cls: 'cd_kind_hana' };
              WPAY_CARD_INFO['17'] = { name: '하나카드', cls: 'cd_kind_hana' };

              function inicisIosCookieSetting() {
                WPAY.close();
                var uagentLow = navigator.userAgent.toLocaleLowerCase();
                if (uagentLow.search('android') > -1) {
                } else if (uagentLow.search('iphone') > -1) {
                  var isSafari =
                    navigator.userAgent.toLowerCase().indexOf('safari') > -1;
                  var isChrome =
                    navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
                  if (isSafari) {
                    if (isChrome) {
                      isSafari = false;
                    } else {
                      if (
                        navigator.userAgent.toLowerCase().indexOf('crios') > -1
                      ) {
                        isSafari = false;
                      }
                      iniWin = window.open(
                        'https://wpay.inicis.com/hspay/error/cookieErr',
                        'iniErr',
                        'top=10, left=100, width500, height=500'
                      );
                      iniWin.blur();
                    }
                  }
                }
              }
            </script>

            <div style="display: none">
              <a
                href="javascript:;"
                id="btnWpayCookieSetting"
                class="btn_plusbox btn_popup"
                data-poptarget="pop_wpay_cookie_info"
                ><span></span
              ></a>
              <div class="divpop_wrap dvp_style_2 pop_wpay_cookie_info">
                <div class="dvp_container">
                  <div class="dvp_close_btn b-close">
                    <span>닫기</span>
                  </div>
                  <h1 class="dvp_header">
                    등록 및 결제창이 잘 안 열릴 경우,<br />
                    <span class="point_fc">[브라우저 쿠키 설정]</span>을
                    <span class="point_fc">‘항상허용’</span
                    >으로<br />변경해주세요.
                  </h1>
                  <div class="dvp_content">
                    <div class="dvp_tit">iOS</div>
                    <ul class="ul_dot_blk">
                      <li>홈 화면의 [설정] 메뉴 실행</li>
                      <li>
                        설정의 Safari 선택<br />
                        <ul>
                          <li>
                            ① [방문기록 및 웹사이트 데이터 지우기]&gt;[방문기록
                            및 데이터 지우기] 선택
                          </li>
                          <li>② [쿠키차단] 항목을 항상 허용으로 선택</li>
                          <li>③ [사이트간 추적방지]를 미허용으로 선택</li>
                          <li>
                            ④ [고급] 메뉴의 [javascript] 항목을 허용으로 설정
                          </li>
                        </ul>
                      </li>
                      <li>Safari 실행 후 [개인정보 브라우징] 미허용</li>
                      <li>브라우저 새로 고침</li>
                    </ul>
                    <div class="dvp_tit">Android(갤럭시 기준)</div>
                    <ul class="ul_dot_blk">
                      <li>홈 화면의 [인터넷] 실행</li>
                      <li>
                        우측상단(또는 좌측상단) 목록 버튼&gt;[설정] 선택<br />
                        <ul>
                          <li>① 개인정보보호&gt;[쿠키허용] 항목 선택</li>
                          <li>
                            ② 개인정보보호&gt;개인데이터삭제&gt;[방문기록, 캐시,
                            쿠키 및 사이트데이터] 삭제
                          </li>
                          <li>
                            ③ 고급&gt;자바스크립트 사용, 팝업차단 해제 선택
                            브라우저 새로 고침
                          </li>
                        </ul>
                      </li>
                      <li>인터넷 실행 후 [개인정보 브라우징] 미허용</li>
                      <li>브라우저 새로 고침</li>
                    </ul>
                    <div class="btn_wrap btn_wrap_div1">
                      <a href="#none" class="btnstl3 solid_btn_blk b-close"
                        ><span>확인</span></a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <script>
              $(document).ready(function () {
                // GA URL 적용
                /*
  ga_url = decodeURI(document.URL);
  if(ga_url.indexOf('?') > -1){
      ga_url = ga_url.substring(0,ga_url.indexOf('?'));
  }
 
  ga_page_name = "주문서";
  */

                paymentMethodTab();

                // 간편 결제 OR 일반 결제 탭 선택
                $('.payment_choice_wrap .red_border_tab li').on(
                  'click',
                  function () {
                    if ($(this).index() == 0) {
                      checkoutWpay.resetGeneralPay();

                      var easyPaySwiper = $('#card_easy_pay')[0].swiper;
                      if (easyPaySwiper != null) {
                        easyPaySwiper.destroy();
                        $('#tabCardEasyPay').addClass('on');

                        swiperCardActive('swiper_card_easy_pay');

                        easyPaySwiper = $('#card_easy_pay')[0].swiper;
                        easyPaySwiper.slideTo(0, 10, function () {});
                        $(
                          "#card_easy_pay input[name='card_choice']:eq(0)"
                        ).trigger('click');
                      }
                      if ($('#paytype').val() == 'LGCNS') {
                        $('#paytype').val('Inicis');
                      }

                      // 20.05.20 이벤트 배너 비활성화
                      $('#redVoucherBenefit').hide(); // 레드 바우처 NOTICE
                      $('.hyRed_banner_wrap').hide(); // 레드 바우처 이벤트 배너
                      $('.smilepay_banner_wrap').hide(); // 스마일페이 이벤트 배너
                      $('.tosspay_banner_wrap').hide(); // 토스페이 이벤트 배너
                      $('.hympoint_banner_wrap').hide(); // 현대 M포인트 이벤트 배너
                      $('#cardBenefit').show(); // 카드 행사 혜택
                      $('.general_pay_desc').removeClass('on'); // 계좌이체, 가상계좌 안내, 에스크로 안내
                    } else {
                      checkoutWpay.resetEasyPay();

                      $('input[name=mode]').val('KO001');
                      $(
                        '.payment_choice_wrap .general_pay_list li:eq(0)'
                      ).addClass('on');

                      // 20.05.20 기본 이벤트 배너 (레드바우처 이벤트 배너 -> MPoint 이벤트 배너
                      //$(".hyRed_banner_wrap").show();
                      $('.hympoint_banner_wrap').show(); // 현대 M포인트 이벤트 배너
                      $('#cardBenefit').show(); // 카드 행사 혜택
                    }
                  }
                );

                $('#general_pay').on(
                  'click',
                  '.general_pay_list li',
                  function () {
                    var tempVal = $(this).find('a').data('g-pay-kind');
                    if (tempVal == 'redvoucher') {
                      var hasClass = $(this).find('a').hasClass('disable');
                      if (hasClass) {
                        return false;
                      }
                    }

                    $('input[name=mode]').val(
                      $(this).find('a').attr('data-g-pay-mode')
                    );
                    if ($(this).find('a').attr('data-g-pay-mode') == 'KO006') {
                      $('#paytype').val('LGCNS');
                    } else {
                      $('#paytype').val('Inicis');
                    }
                  }
                );

                checkRedVoucher();
              });

              function checkRedVoucher() {
                var total = $.trim($('#total').val());
                if (total == '') {
                  total = 0;
                }

                var redVoucherYn = false;
                if (parseInt(total) >= parseInt('300000')) {
                  $('.gpd_a_hyundaiRed').removeClass('disable');
                  redVoucherYn = true;
                } else {
                  // 레드 바우처 결제 수단 숨기기
                  // 20.05.20 결제 금액 상관 없이 레드 바우처 무조건 노출로 변경 되어 주석 처리
                  // $(".gpd_a_hyundaiRed").parent().hide();

                  // 레드 바우처 결제 수단 비활성화
                  // 20.05.20 결제 금액 30만원 이하이면 레드 바우처 결제 수단 비활성화
                  var mode = $("[name='mode']").val();
                  if (mode == 'KO001-4') {
                    $('.general_pay_list > li a').get(0).click();
                  }
                  $('.gpd_a_hyundaiRed').addClass('disable');
                }
              }

              function paymentMethodTab() {
                if ($('#card_easy_pay').length > 0) {
                  checkoutWpay.drawCardListForCheckout();
                }
                $(
                  '.payment_choice_wrap .red_border_tab li:first-child'
                ).addClass('on');
              }
            </script>
            <!-- 최종 결제금액 -->
            <div id="checkoutCartTotalPrice">
              <!-- df_box : ìµì¢ê²°ì ê¸ì¡ s -->
              <div class="df_box total_price_wrap">
                <h3 class="df_box_tit">
                  최종 결제금액
                  <div class="pay_price">₩1,490,000</div>
                </h3>

                <ul class="total_price_detail">
                  <li id="subtotal" class="sub_total190816">
                    <div class="ttpd_tit">상품 합계</div>
                    <div class="ttpd_con">₩1,490,000</div>
                  </li>

                  <li>
                    <div class="ttpd_tit">
                      배송비<!-- tootip s -->
                      <span class="dpIB"
                        ><div
                          class="icon_help btn_tooltip"
                          data-tooltip-target="tooltip_buy_delivery_charge"></div
                      ></span>
                      <!-- tootip : contents_area s -->
                      <div class="tooltip_contens">
                        <div class="tooltip_wrap tooltip_buy_delivery_charge">
                          <div class="tltp_close_btn btn_tltp_close">
                            <span>닫기</span>
                          </div>
                          <h1 class="tltp_header">배송비</h1>
                          <div class="tltp_content">
                            <ul class="ul_dot_blk">
                              <li>
                                쿠폰/바우처 할인금액 및 한섬마일리지/H.Point
                                사용을 제외한 실 결제금액 기준
                                <strong
                                  >3만원 미만 결제 시 2,500원 배송비가
                                  부과</strong
                                >됩니다. (3만원 이상 구매 시 무료배송)
                              </li>
                              <li>
                                도서산간 지역은 배송비가 추가 될 수 있습니다.
                              </li>
                              <li>
                                한섬마일리지, H.Point, e-money로 배송비 결제가
                                불가합니다.
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                      <!-- tootip : contents_area e -->
                      <!-- tootip e -->
                    </div>

                    <div class="ttpd_con">₩ 0</div>
                  </li>
                </ul>
              </div>
              <input type="hidden" name="total" id="total" value="1490000.0" />
              <input
                type="hidden"
                name="cartDeliveryCost"
                id="cartDeliveryCost"
                value="0.0" />
              <input
                type="hidden"
                name="voucherRateCheck"
                id="voucherRateCheck"
                value="" />
              <input type="hidden" id="customDueAmount" value="0.0" />
              <!-- df_box : ìµì¢ê²°ì ê¸ì¡ e -->
            </div>
            <!-- 구매 시 지급 포인트 -->
            <!-- lang : ko -->
            <!--known Member-->
            <!-- ê°í¸íìì¼ ë s -->
            <!-- ê°í¸íìë¿ë§ ìëë¼ ì ííìì¼ ë ëì -->
            <!-- df_box : ì ë¦½ìì í¬ì¸í¸ s -->
            <div class="df_box">
              <h3 class="df_box_tit">
                통합회원 전환 시 지급예정 포인트
                <div class="df_box_tit_sub">
                  (상품 수령완료 10일 후 적립, 간편회원은 미적립)
                </div>
              </h3>

              <ul class="ul_dot point_back_wrap">
                <li>
                  <div class="udot_tit">한섬마일리지</div>
                  <div class="udot_con">
                    <span id="txtAccumulationPoint">74,500</span> M
                  </div>
                </li>
                <li>
                  <div class="udot_tit">H.Point</div>
                  <div class="udot_con">
                    <span id="txtAccumulationHPoint">1,490</span> P
                  </div>
                </li>
              </ul>
              <!-- 20200303 íµí©íì ì í -->
              <div class="allmem_200303">
                <p><span>통합회원</span>으로 전환하시겠습니까?</p>
                <a href="https://www.h-point.co.kr/cu/join/start.nhd">
                  전환가입</a
                >
              </div>
              <!-- // 20200303 íµí©íì ì í -->
            </div>
            <!-- df_box : ì ë¦½ìì í¬ì¸í¸ e -->
            <!-- ê°í¸íìì¼ ë e -->
            <!--known Member-->

            <!--Unknown Member-->
            <input
              type="hidden"
              name="accumulationPoint"
              id="accumulationPoint"
              value="74500" />
            <input
              type="hidden"
              name="accumulationHPoint"
              id="accumulationHPoint"
              value="1490" />
            <!--unknown Member-->
            <!-- lang : ko --><!-- 구매자 동의 -->
            <!-- df_box : êµ¬ë§¤ìëì s -->
            <div class="df_box df_box_slide agree_buyer_wrap">
              <div class="check_stl df_box_tit">
                <input type="checkbox" id="agree" value="" />
                <label for="agree"
                  ><h3 class="df_box_tit">[필수] 구매자 동의</h3></label
                >
              </div>
              <div class="df_box_slide_con desc_box">
                주문할 상품의 상품명, 가격, 배송정보 등을 확인하였으며,
                <br />구매 진행에 동의합니다. (전자상거래법 제 8조 2항)
              </div>
            </div>
            <!-- df_box : êµ¬ë§¤ìëì e -->
            <div>
              <input
                type="hidden"
                name="CSRFToken"
                value="13c48883-1706-4f5a-810b-2f670f464334" />
            </div>
          </form>
          <!-- 결제처리 -->
          <!-- Smile Pay 연동 스크립트 포함 Start -->
          <script
            src="https://pg.cnspay.co.kr/dlp/scripts/smilepay.js"
            charset="euc-kr"></script>
          <!-- Smile Pay 연동 스크립트 포함 End -->
          <!-- payment_btn s -->
          <!-- 수정(47489) : 20180807 s -->
          <div class="df_box payment_btn_wrap last_box fs1904">
            <div class="btn_desc_oera">
              <p>
                먼저 준비된 상품부터 순차적으로 발송하므로, <br />부분 배송될 수
                있습니다.
              </p>
            </div>
            <ul class="btn_wrap btn_wrap_div1">
              <li class="pymt_call_pg">
                <a href="#none" class="btnstl6 solid_btn_point" id="doOrderBtn"
                  ><span><b>1,490,000</b> 원&nbsp;주문하기</span></a
                >
              </li>
            </ul>
          </div>
          <!-- 수정(47489) : 20180807 e -->
          <!-- payment_btn e -->

          <div id="payinfo">
            <form id="PAY_FORM" method="post" accept-charset="euc-kr"></form>
          </div>

          <script>
            var referUrl = window.location.pathname;
            var quickDeliveryCostAlert = true;
            function showExchangeRate() {
              var sumPrice = parseFloat($('#total').val());

              var addHtml = '';

              var currecy = 'CNY';
              var rate = '182';
              var simbol = '¥';

              var exchangeAmt =
                Math.round((parseFloat(sumPrice) / parseFloat(rate)) * 100) /
                100;

              addHtml +=
                '<span class="frgn_price_1">' +
                simbol +
                addComma(exchangeAmt) +
                '</span>';

              var currecy = 'USD';
              var rate = '1231.4';
              var simbol = '$';

              var exchangeAmt =
                Math.round((parseFloat(sumPrice) / parseFloat(rate)) * 100) /
                100;

              addHtml +=
                '<span class="frgn_price_2">' +
                simbol +
                addComma(exchangeAmt) +
                '</span>';

              $('#exchangeDiv').html(
                addHtml +
                  '<br>이것은 예상 가격이며 환율 및 수수료로 인해 실제 가격과 다를 수 있습니다.'
              );
              $('#exchangeDiv').show();
            }

            $(document).ready(function () {
              $.cookie('handsomeappreturnurl', location.href, { path: '/' });

              $('#doOrderBtn').on('click', function (e) {
                if (orderProcessing == true) {
                  new layerAlert('처리중입니다.');
                  return;
                }

                doOrder();
              });

              $('#point_useall').click(function () {
                if ($('#point_useall').is(':checked') && parseInt(0) > 0) {
                  var usepoint =
                    $('#total').val() - $('#cartDeliveryCost').val();
                  if (parseInt(0) > usepoint) {
                    $('#pointpay').val(usepoint);
                    $('#pointpay').prop('readonly', true);
                  } else {
                    $('#pointpay').val('0');
                    $('#pointpay').prop('readonly', true);
                  }
                } else {
                  $('#pointpay').val('');
                  $('#pointpay').prop('readonly', false);
                  $('#point_useall').prop('checked', false);
                }

                var point = '0';
                if ($.trim(point)) {
                  point = 0;
                }

                if (point < 1) {
                  $('#pointpay').prop('readonly', true);
                }
              });

              $('#pointpay').blur(function () {
                if (parseInt(0) > 0 && $('#pointpay').val() >= parseInt(0)) {
                  $('#pointpay').val('0');
                  if ($('#pointpay').val() > 0) {
                    $('#point_useall').prop('checked', true);
                  }
                }
              });

              // H.Point Start  ##########################################################
              $('#hpoint_useall').click(function () {
                if ($('#hpoint_useall').is(':checked') && parseInt(0) > 0) {
                  var usehpoint =
                    $('#total').val() - $('#cartDeliveryCost').val();
                  if (parseInt(0) > usehpoint) {
                    $('#hpointpay').val(usehpoint);
                    $('#hpointpay').prop('readonly', true);
                  } else {
                    $('#hpointpay').val('0');
                    $('#hpointpay').prop('readonly', true);
                  }
                } else {
                  $('#hpointpay').val('');
                  $('#hpointpay').prop('readonly', false);
                  $('#hpoint_useall').prop('checked', false);
                }

                var point = '0';
                if ($.trim(point)) {
                  point = 0;
                }

                if (point < 1) {
                  $('#hpointpay').prop('readonly', true);
                }
              });
              $('#hpointpay').blur(function () {
                if (parseInt(0) > 0 && $('#hpointpay').val() >= parseInt(0)) {
                  $('#hpointpay').val('0');
                  if ($('#hpointpay').val() > 0) {
                    $('#hpoint_useall').prop('checked', true);
                  }
                }
              });
              // H.Point End ##############################################################

              $('#voucherCode').on('input', function () {
                this.value = this.value.toUpperCase();
              });

              $('#gc_useall').click(function () {
                if ($('#gc_useall').is(':checked') && parseInt(0) > 0) {
                  var usegift =
                    $('#total').val() - $('#cartDeliveryCost').val();
                  if (parseInt(0) > usegift) {
                    $('#giftpay').val(usegift);
                    $('#giftpay').prop('readonly', true);
                  } else {
                    $('#giftpay').val('0');
                    $('#giftpay').prop('readonly', true);
                  }
                } else {
                  $('#giftpay').val('');
                  $('#giftpay').prop('readonly', false);
                  $('#gc_useall').prop('checked', false);
                }

                var giftpay = '0';
                if ($.trim(giftpay)) {
                  giftpay = 0;
                }

                if (giftpay < 1) {
                  $('#giftpay').prop('readonly', true);
                }
              });

              $('#giftpay').blur(function () {
                if (parseInt(0) > 0 && $('#giftpay').val() >= parseInt(0)) {
                  $('#giftpay').val('0');
                  if ($('#giftpay').val() > 0) {
                    $('#gc_useall').prop('checked', true);
                  }
                }
              });

              $('#adress').change(function () {
                setDeliveryMode();
              });

              $('.pop_cls').on('click', function () {
                hideShowLayer();
                $('.popwrap').hide();
              });

              // 국내 주문: 배송비/총결제금액 등 셋팅

              setDeliveryMode();

              // 해외 주문 배송지 입력시 영어/숫자만 입력 가능하도록 제한 2016.09.12 simgoon
            });
            var orderProcessing = false;
            function doOrder() {
              if ($('#agree02').is(':checked')) {
                var commissionAgreeYN =
                  "<input type=hidden name='commissionAgree' value='Y'>";
                $('#orderForm').append(commissionAgreeYN);
              } else {
                var commissionAgreeYN =
                  "<input type=hidden name='commissionAgree' value='N'>";
                $('#orderForm').append(commissionAgreeYN);
              }

              var inputNumberchk = /^[0-9]+$/;

              if (parseInt($('#total').val()) == 0) {
                orderProcessing = true;
              }

              //
              //
              //
              if (
                $('#chk_giftAmount').val().length > 0 &&
                $('#chk_pointAmount').val().length > 0
              ) {
                layerAlert(
                  '한섬마일리지와 기프트카드는 함께 사용할 수 없습니다.'
                );
                $('#chk_giftAmount').focus();
                return;
              }

              if ($('#adress').val() == '') {
                layerAlert('배송지 주소 우편번호를 입력해 주세요.');
                $('#adress').focus();
                return;
              }

              if ($('#line1').val() == '') {
                layerAlert('배송지 주소 첫번째 주소를 입력해 주세요.');
                $('#line1').focus();
                return;
              }

              // 2018.03.28 egeg92 매장수령추가
              if ($.trim($('#line2').val()) == '') {
                layerAlert('나머지 주소를 입력해 주세요.');
                $('#line2').focus();
                return;
              }

              if ($.trim($('#rcpt_name').val()) == '') {
                layerAlert('수령인을 입력해 주세요.');
                $('#rcpt_name').focus();
                return;
              }

              // 2018.03.28 egeg92 매장수령추가

              if ($('#rcpt_name').length > 0) {
                if ($('#rcpt_name').val().length > 10) {
                  layerAlert('수령인은 10자리 이하로 입력해주세요.');
                  $('#rcpt_name').focus();
                  return;
                }
              }

              if (
                $('#hp').val() == '' ||
                $('#hp_num2').val() == '' ||
                $('#hp_num3').val() == ''
              ) {
                layerAlert('배송지 주소 휴대폰 번호를 입력해 주세요.');
                $('#hp').focus();
                return;
              }

              //현관출입 hyunbae

              var selectedMessage = $(
                'input[name=frontDoorSelectMessage]:checked'
              );
              if ($.trim($('#orderr').val()) === '부재 시 문 앞에 놓아주세요') {
                if (typeof selectedMessage.val() === 'undefined') {
                  layerAlert('공동현관 출입방법을 선택해주세요.');
                  return;
                } else if (selectedMessage.val() === '자유 출입 가능') {
                  $('#frontDoorMessage').val('자유출입가능');
                } else {
                  var message = selectedMessage.find('~ input').val();
                  $('#frontDoorMessage').val(message);
                  if ($.trim($('#frontDoorMessage').val()) == '') {
                    layerAlert('공동현관 출입방법을 입력해 주세요');
                    return;
                  }
                }
              } else if (
                $.trim($('#orderr').val()) !== '부재 시 문 앞에 놓아주세요' &&
                $.trim($('#orderr').val()) !== '직접입력'
              ) {
                if (selectedMessage.val() === '자유 출입 가능') {
                  $('#frontDoorMessage').val('자유출입가능');
                } else {
                  var message = selectedMessage.find('~ input').val();
                  $('#frontDoorMessage').val(message);
                }
              }
              // # => 특수문자 치환
              if ($('#frontDoorMessage').val()) {
                $('#frontDoorMessage').val(
                  $('#frontDoorMessage').val().replace(/#/gi, '＃')
                );
              }

              if (!$('#agree').is(':checked')) {
                layerAlert('구매자 동의 항목을 체크하여 주세요.');
                $('#agree').focus();
                return;
              }

              if (
                $('#hp0').val() == '' ||
                $('#hp1').val() == '' ||
                $('#hp2').val() == ''
              ) {
                layerAlert('주문자 정보 휴대폰 번호를 입력해 주세요.');
                return;
              }

              var hp = $('#hp0').val();
              var hpNum2 = $('#hp1').val();
              var hpNum3 = $('#hp2').val();

              for (i = 0; i < hpNum2.length; i++) {
                var str = hpNum2.substr(i, 1);
                if (!inputNumberchk.test(str)) {
                  var la = new layerAlert('전화번호는 숫자만 입력가능 합니다.');
                  la.confirmAction = function () {
                    $('#hp1').focus();
                  };
                  return;
                }
              }
              for (i = 0; i < hpNum3.length; i++) {
                var str = hpNum3.substr(i, 1);
                if (!inputNumberchk.test(str)) {
                  var la = new layerAlert('전화번호는 숫자만 입력가능 합니다.');
                  la.confirmAction = function () {
                    $('#hp2').focus();
                  };
                  return;
                }
              }

              if ($('#hp1').val() != null && $('#hp1').val().length > 0) {
                var phNum2 = $('#hp1').val();
                for (i = 0; i < phNum2.length; i++) {
                  var str = phNum2.substr(i, 1);
                  if (!inputNumberchk.test(str)) {
                    var la = new layerAlert(
                      '전화번호는 숫자만 입력가능 합니다.'
                    );
                    la.confirmAction = function () {
                      $('#hp1').focus();
                    };
                    return;
                  }
                }
              }

              if ($('#hp2').val() != null && $('#hp2').val().length > 0) {
                var phNum3 = $('#hp2').val();
                for (i = 0; i < phNum3.length; i++) {
                  var str = phNum3.substr(i, 1);
                  if (!inputNumberchk.test(str)) {
                    var la = new layerAlert(
                      '전화번호는 숫자만 입력가능 합니다.'
                    );
                    la.confirmAction = function () {
                      $('#hp2').focus();
                    };
                    return;
                  }
                }
              }

              if (
                $.trim($('#hp0').val()) != '' &&
                $.trim($('#hp1').val()) != '' &&
                $.trim($('#hp2').val()) != ''
              ) {
                $('#ordererMobilePhone').val(
                  $.trim($('#hp0').val()) +
                    '-' +
                    $.trim($('#hp1').val()) +
                    '-' +
                    $.trim($('#hp2').val())
                );
              }

              // 2017.01.31 - 이현승, 휴대폰번호 데이터 검증 (숫자만입력가능.) >>>> START

              var hp = $('#hp').val();
              var hpNum2 = $('#hp_num2').val();
              var hpNum3 = $('#hp_num3').val();

              // 휴대폰 앞자리 체크
              if (hp == null || hp == '') {
                var la = new layerAlert(' <b>*</b> 표시는 필수항목입니다.');
                la.confirmAction = function () {
                  $('#deliveryInfo').show();
                  $('#hp').focus();
                };
                return;
              } else {
                for (i = 0; i < hp.length; i++) {
                  var str = hp.substr(i, 1);
                  if (!inputNumberchk.test(str)) {
                    var la = new layerAlert(
                      '전화번호는 숫자만 입력가능 합니다.'
                    );
                    la.confirmAction = function () {
                      $('#deliveryInfo').show();
                      $('#hp').focus();
                    };
                    return;
                  }
                }
              }

              for (i = 0; i < hpNum2.length; i++) {
                var str = hpNum2.substr(i, 1);
                if (!inputNumberchk.test(str)) {
                  var la = new layerAlert('전화번호는 숫자만 입력가능 합니다.');
                  la.confirmAction = function () {
                    $('#deliveryInfo').show();
                    $('#hp_num2').focus();
                  };
                  return;
                }
              }
              for (i = 0; i < hpNum3.length; i++) {
                var str = hpNum3.substr(i, 1);
                if (!inputNumberchk.test(str)) {
                  var la = new layerAlert('전화번호는 숫자만 입력가능 합니다.');
                  la.confirmAction = function () {
                    $('#deliveryInfo').show();
                    $('#hp_num3').focus();
                  };
                  return;
                }
              }

              if (
                $('#ph_num2').val() != null &&
                $('#ph_num2').val().length > 0
              ) {
                var phNum2 = $('#ph_num2').val();
                for (i = 0; i < phNum2.length; i++) {
                  var str = phNum2.substr(i, 1);
                  if (!inputNumberchk.test(str)) {
                    var la = new layerAlert(
                      '전화번호는 숫자만 입력가능 합니다.'
                    );
                    la.confirmAction = function () {
                      $('#ph_num2').focus();
                    };
                    return;
                  }
                }
              }

              if (
                $('#ph_num3').val() != null &&
                $('#ph_num3').val().length > 0
              ) {
                var phNum3 = $('#ph_num3').val();
                for (i = 0; i < phNum3.length; i++) {
                  var str = phNum3.substr(i, 1);
                  if (!inputNumberchk.test(str)) {
                    var la = new layerAlert(
                      '전화번호는 숫자만 입력가능 합니다.'
                    );
                    la.confirmAction = function () {
                      $('#ph_num3').focus();
                    };
                    return;
                  }
                }
              }

              // 2017.01.31 - 이현승, 휴대폰번호 데이터 검증 (숫자만입력가능.) >>>> END

              //delivery address email
              if (
                $.trim($('#mail').val()) != '' &&
                $.trim($('#emailDely').val()) != ''
              ) {
                $('#email').val(
                  $.trim($('#mail').val()) + '@' + $('#emailDely').val()
                );
              }

              if (parseInt($('#total').val()) == 0) {
                //결제금액이 0원이지만, 결제수단이 '원클릭결제'일 경우 유지 (20200319 GA전자상거래 사용)
                if ($('input[name="mode"]').val() == 'KO001-3') {
                } else {
                  $('input[name="mode"]').val('KO001');
                }
              }
              if ($('input[name="mode"]').val() == '') {
                layerAlert('결제수단을 선택해 주세요.');
                return;
              }

              if (
                $('#pointpay').length > 1 &&
                $('#pointpay').val() != '' &&
                $('#pointpay').val() > parseInt(0)
              ) {
                layerAlert(
                  '한섬마일리지 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                );
                return;
              }

              if (
                $('#hpointpay').length > 1 &&
                $('#hpointpay').val() != '' &&
                $('#hpointpay').val() > parseInt(0)
              ) {
                layerAlert(
                  'H.Point 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                );
                return;
              }

              if (
                $('#giftpay').length > 1 &&
                $('#giftpay').val() != '' &&
                $('#giftpay').val() > parseInt(0)
              ) {
                layerAlert(
                  '기프트카드 사용액은 결제할 금액보다 같거나 작아야 합니다.'
                );
                return;
              }

              if ($('#pointpay').length > 0) {
                if ($('#pointpay').val() == '') {
                  $('#pointpay').val('0');
                }
                $('#pointpay').val(
                  $('#pointpay')
                    .val()
                    .replace(/[^0-9]/g, '')
                );
              } else {
                addHiddenInput($('#orderForm'), 'pointpay', '0');
              }
              if ($('#hpointpay').length > 0) {
                if ($('#hpointpay').val() == '') {
                  $('#hpointpay').val('0');
                }
                $('#hpointpay').val(
                  $('#hpointpay')
                    .val()
                    .replace(/[^0-9]/g, '')
                );
              } else {
                addHiddenInput($('#orderForm'), 'hpointpay', '0');
              }
              if ($('#giftpay').length > 0) {
                if ($('#giftpay').val() == '') {
                  $('#giftpay').val('0');
                }
                $('#giftpay').val(
                  $('#giftpay')
                    .val()
                    .replace(/[^0-9]/g, '')
                );
              } else {
                addHiddenInput($('#orderForm'), 'giftpay', '0');
              }

              if ($('input[name="mode"]').val() == 'KO001-3') {
                var $wpayCardCode = $('input[name=card_choice]:checked');
                var $wpayInstallment = $wpayCardCode
                  .parent()
                  .parent()
                  .find('#card_pay_term_' + $wpayCardCode.val());
                //var $wpayInstallment = $("#card_pay_term_" + $wpayCardCode.val());

                $('input[name=wpayToken]').val($wpayCardCode.data('token'));
                $('input[name=cardQuota]').val($wpayInstallment.val());
                $('input[name=cardInterest]').val(
                  $wpayInstallment
                    .find('option:selected')
                    .data('nointstallment') || 'N'
                );
              }

              $.ajax({
                type: 'GET',
                url: '/ko/checkout/checkOnlineStock',
                dataType: 'json',
                success: function (data) {
                  if (data == '') {
                    setEcommerceData('Checkout2(바로주문)');
                    if (parseInt($('#total').val()) == 0) {
                      showLoadingOrderProcessing();
                      $('#orderForm').prop('action', '/ko/checkout/placepoint');
                      $('#orderForm').submit();
                    } else {
                      placeorder();
                    }
                  } else {
                    var lc = '';
                    if (data == 'entrySite') {
                      lc = new layerAlert(
                        '일시적인 오류가 발생하였습니다. <br/> 쇼핑백으로 이동합니다. '
                      );
                    } else if (data == 'mileage_shortage') {
                      lc = new layerAlert('한섬마일리지가 부족합니다.');
                    } else if (data == 'egiftcard_shortage') {
                      lc = new layerAlert('e-money가 부족합니다.');
                    } else if (data == 'giftcard_shortage') {
                      lc = new layerAlert('기프트카드가 부족합니다.');
                    } else if (data == 'hpoint_shortage') {
                      lc = new layerAlert('H.Point가 부족합니다.');
                    } else if (data == 'storePickupOnlineStock') {
                      lc = new layerAlert(
                        '수량 미달로 인해 일반배송으로 변경됩니다.'
                      );
                    } else if (data == 'cartError') {
                      lc = new layerAlert(
                        '일시적인 오류가 발생하였습니다. <br/> 브라우저를 닫고 다시 주문해 주시기 바라며, 계속 주문이 안되신다면 다른 컴퓨터 또는 다른 모바일기기에서 주문을 시도해 주시기 바랍니다.'
                      );
                    } else {
                      if (data != '' && data.indexOf('redirect') > -1) {
                        lc = new layerAlert('재고가 부족합니다.');
                      } else {
                        lc = new layerAlert(data + '상품의 재고가 부족합니다.');
                      }
                    }

                    lc.confirmAction = function () {
                      location.href = '/ko/shoppingbag';
                    };
                  }
                }, //,
                //error: function(xhr,  Status, error) {
                //alert('sendRequest error : ' + xhr.status + " ( " + error + " ) " );
                //}
              });
            }

            function placeorder() {
              showLoadingOrderProcessing();

              var referUrlTag =
                "<input type=hidden name='wpayReferUrl' id='wpayReferUrl' value='" +
                window.location.pathname +
                "'>";
              $('#orderForm').append(referUrlTag);

              $.ajax({
                type: 'POST',
                url: '/ko/checkout/placeorder',
                dataType: 'json',
                data: $('#orderForm').serialize(),
                success: function (data) {
                  if (data.errorMsg != null && data.errorMsg.length > 0) {
                    var error = data.errorMsg;
                    if (
                      error == 'VoucherUseError' ||
                      error == 'PaymentAmountCheckError'
                    ) {
                      var message = '';
                      if (error == 'VoucherUseError') {
                        message =
                          '일시적인 오류가 발생하였습니다. <br/> 쇼핑백으로 이동합니다. ';
                        var lc = new layerAlert(message);
                        lc.confirmAction = function () {
                          location.href = '/ko/shoppingbag';
                        };
                      } else {
                        location.href = '/ko/shoppingbag';
                      }
                    } else if (error == 'CellPhoneIsEmptyError') {
                      var lc = new layerAlert(
                        '배송지 주소/수령인/휴대폰번호를 입력하여 주십시오'
                      );
                      lc.confirmAction = function () {
                        $('#deliveryInfo').show();
                        $('#hp_num2').focus();
                      };
                      return;
                    } else if (
                      error == 'CellPhoneIsNumericError_KO' ||
                      error == 'CellPhoneIsNumericError'
                    ) {
                      var alertMsg =
                        error.indexOf('_KO') > 0
                          ? '전화번호는 숫자만 입력가능 합니다.'
                          : 'checkout.shipto.phone.msg';
                      var lc = new layerAlert(alertMsg);
                      lc.confirmAction = function () {
                        $('#deliveryInfo').show();
                        $('#hp_num2').focus();
                      };
                      return;
                    } else if (error == 'PhoneIsNumericError') {
                      var lc = new layerAlert(
                        '전화번호는 숫자만 입력가능 합니다.'
                      );
                      lc.confirmAction = function () {
                        $('#deliveryInfo').show();
                        $('#ph_num2').focus();
                      };
                      return;
                    } else if (error == 'OrderMobilePhoneIsNumericError') {
                      var lc = new layerAlert(
                        '전화번호는 숫자만 입력가능 합니다.'
                      );
                      lc.confirmAction = function () {
                        $('#hp1').focus();
                      };
                      return;
                    } else if (error == 'VirtualAccountStopCustomer') {
                      var lc = new layerAlert(
                        '고객님은 [가상계좌 주문] 이용불가 대상입니다<br>다른 결제수단 이용 부탁드립니다. 감사합니다.'
                      );
                      lc.confirmAction = function () {};
                      return;
                    } else {
                      $('#agree').prop('checked', false);
                      $('#payinfo').html(data.errorMsg);
                      layerAlert(
                        $(
                          '일시적인 오류가 발생하였습니다. <br/> 브라우저를 닫고 다시 주문해 주시기 바라며, 계속 주문이 안되신다면 다른 컴퓨터 또는 다른 모바일기기에서 주문을 시도해 주시기 바랍니다.'
                        ).val()
                      );
                      return;
                    }
                  } else {
                    if ($('#paytype').val() == 'LGCNS') {
                      $('#PAY_FORM').html(data.smilePayinfo);
                      getTxnId();
                    } else {
                      $('#paytype').val('Inicis');
                      $('#PAY_FORM').html(data.inicisPayinfo);

                      if ($("[name='mode']").val() == 'KO001-3') {
                        var wpayData = WPAY.convertFormToJSON($('#PAY_FORM'));
                        //WPAY.open(function () {
                        WPAY.paymentAuthSubmit(wpayData);
                        //});
                      } else {
                        goIniPay();
                      }
                    }
                  }
                },
                error: function (xhr, Status, error) {
                  console.debug(error);
                  layerAlert(
                    '일시적인 오류가 발생하였습니다. <br/> 브라우저를 닫고 다시 주문해 주시기 바라며, 계속 주문이 안되신다면 다른 컴퓨터 또는 다른 모바일기기에서 주문을 시도해 주시기 바랍니다.'
                  );
                  return;
                },
              }).always(function () {
                hideLoadingOrderProcessing();
              });
            }

            var launchIniPayAlipay = function () {
              var $this = this;

              /**
               * form submit
               */
              var $inipayForm = $('#PAY_FORM');
              $inipayForm.attr({
                action: $inipayForm.find('[id="pgpaymenturl"]').val(),
                target: '_self',
              });
              $inipayForm.submit();
            };

            function validationOrderchk() {
              var inputTextchk = /^[0-9a-zA-Z\s]+$/;
              var inputadresschk = /^[0-9a-zA-Z-\s/-]+$/;
              var inputNumberchk = /^[0-9]+$/;

              if (
                !inputTextchk.test($('#rcpt_name').val()) &&
                $('#rcpt_name').val().length > 0
              ) {
                var lc = new layerAlert(
                  'Contact Name : ' + 'checkout.shipto.onlyeng.msg'
                );
                lc.confirmAction = function () {
                  $('#rcpt_name').focus();
                };
                return false;
              }
              //     if (!inputadresschk.test($("#line1").val()) && ($("#line1").val().length > 0) ) {
              //         var lc = new layerAlert("Street address : "+"checkout.shipto.onlyeng.msg" );
              //         lc.confirmAction = function(){$("#line1").focus();};
              //         return false;
              //     }
              //     if (!inputadresschk.test($("#line2").val()) && ($("#line2").val().length > 0) ) {
              //         var lc = new layerAlert("Street address2 : "+"checkout.shipto.onlyeng.msg" );
              //         lc.confirmAction = function(){$("#line2").focus();};
              //         return false;
              //     }
              //     if (!inputTextchk.test($("#City").val()) && ($("#City").val().length > 0) ) {
              //         var lc = new layerAlert("City : "+"checkout.shipto.onlyeng.msg" );
              //         lc.confirmAction = function(){$("#City").focus();};
              //         return false;
              //     }
              //     if (!inputTextchk.test($("#State").val()) && ($("#State").val().length > 0) ) {
              //         var lc = new layerAlert("State : "+"checkout.shipto.onlyeng.msg" );
              //         lc.confirmAction = function(){$("#State").focus();};
              //         return false;
              //     }
              //     if (!inputTextchk.test($("#adress").val()) && ($("#adress").val().length > 0) ) {
              //         var lc = new layerAlert("Zip/Postal Code : "+"checkout.shipto.zipcode.msg" );
              //         lc.confirmAction = function(){$("#adress").focus();};
              //         return false;
              //     }
              if (
                !inputNumberchk.test($('#Phone').val()) &&
                $('#Phone').val().length > 0
              ) {
                var lc = new layerAlert(
                  'Phone number : ' + 'checkout.shipto.phone.msg'
                );
                lc.confirmAction = function () {
                  $('#Phone').focus();
                };
                return false;
              }
            }

            function setDeliveryMode() {
              var island = false;
              if ($('#adress').val() >= 63000 && $('#adress').val() <= 63644) {
                island = true;
              }

              var isQuick = false;

              $.ajax({
                type: 'GET',
                url: '/ko/checkout/deliveryMode',
                dataType: 'json',
                data: { island: island, isQuick: isQuick },
                success: function (data) {
                  $('#checkoutCartTotalPrice').html(data.totalPricePage);
                  changeOrderButtonText();
                  if (typeof fn_updateDiscInfo === 'function') {
                    fn_updateDiscInfo();
                  }
                  if (
                    Number($('#cartDeliveryCost').val()) > 0 &&
                    quickDeliveryCostAlert == true
                  ) {
                    quickDeliveryCostAlert = false;
                  }
                },
              });
            }

            function f_guestAddress() {
              $('input[name=lastName]').val($('#ordererName').val());

              //var hp_num = $('#order_hp').text().split("-");
              $('#hp').val($('#hp0').val()).prop('selected', 'selected');
              $('input[name=hp_num2]').val($('#hp1').val());
              $('input[name=hp_num3]').val($('#hp2').val());

              $('input[name=mail]').val($('#order_email').val());
              if ($('#emailDomainSel').val() == '') {
                $('input[name=emailDely]').val($('#emailDomain').val());
              } else {
                $('#emailDelySel')
                  .val($('#emailDomainSel').val())
                  .prop('selected', 'selected');
                $('input[name=emailDely]').hide();
              }
            }

            function chkword(targetID, lengthID, maxLength) {
              var strValue = $('#' + targetID).val();
              var strLen = strValue.length;
              var maxByte = parseInt(maxLength);
              var str2 = '';

              if (strLen > maxByte) {
                layerAlert(maxByte + '자를 초과 입력 할 수 없습니다.');
                str2 = strValue.substr(0, maxByte);
                $('#' + targetID).val(str2);
                strLen = str2.length;
              }

              $('#' + lengthID).text(strLen);
            }

            function changeOrderButtonText() {
              var $doOrderBtn = $('#doOrderBtn');
              var totalPrice = parseInt($('#total').val(), 10);
              var buttnHtml = '';
              buttnHtml += '<span>';
              buttnHtml += '<b>' + addComma(totalPrice) + '</b> ';
              buttnHtml += '원&nbsp;주문하기';
              buttnHtml += '</span>';
              $doOrderBtn.html(buttnHtml);
            }

            window.onpageshow = function (event) {
              if (event.persisted) {
                document.location.reload();
              }
            };

            function setEcommerceData(action) {
              var mode = $('input[name="mode"]').val();
              var paymentType = '';
              if (typeof mode != undefined && mode !== null && mode !== '') {
                if (mode == 'KO001-3') {
                  paymentType = '1CLICK 결제';
                } else if (mode == 'KO001') {
                  paymentType = '신용카드';
                } else if (mode == 'KO002') {
                  paymentType = '실시간 계좌이체';
                } else if (mode == 'INIKakao') {
                  paymentType = '카카오페이';
                } else if (mode == 'KO003') {
                  paymentType = '가상계좌';
                } else if (mode == 'KO006') {
                  paymentType = '스마일페이';
                } else if (mode == 'KO001-4') {
                  paymentType = '현대카드 레드쇼핑바우처';
                }
              }

              var stepLevel = '1';
              var actionField = { step: stepLevel }; //결제단계
              if (action == 'Checkout2(바로주문)') {
                stepLevel = '2';
                actionField = { step: stepLevel, option: paymentType }; //결제단계 및 결제수단;
              }

              dataLayer.push({
                event: 'ga_event',
                layerCategory: 'Ecommerce',
                layerAction: 'Checkout',
                layerLabel: '바로주문',
                ecommerce: {
                  currencyCode: 'KRW', //통화
                  checkout: {
                    actionField: actionField,
                    products: [
                      /* 변형 제품(옵션) */

                      /* 상품 정상이월세일 */

                      {
                        id: 'CM2D1WOT105W', //상품코드
                        name: '린넨 블렌드 오버사이즈 재킷', //상품명
                        brand: 'the CASHMERE', //상품 브랜드

                        category:
                          decodeURIComponent('WOMEN') +
                          '/' +
                          decodeURIComponent('OUTER') +
                          '/' +
                          decodeURIComponent('JACKET'), //상품 카테고리
                        variant: 'BEIGE_88', //변형 제품(옵션)
                        quantity: '1', //상품 수량
                        dimension19: '정상상품_정상가', //상품 정상이월세일
                      },
                      /* 변형 제품(옵션) */

                      /* 상품 정상이월세일 */

                      {
                        id: 'CM2D1WOT105W', //상품코드
                        name: '린넨 블렌드 오버사이즈 재킷', //상품명
                        brand: 'the CASHMERE', //상품 브랜드

                        category:
                          decodeURIComponent('WOMEN') +
                          '/' +
                          decodeURIComponent('OUTER') +
                          '/' +
                          decodeURIComponent('JACKET'), //상품 카테고리
                        variant: 'BEIGE_82', //변형 제품(옵션)
                        quantity: '1', //상품 수량
                        dimension19: '정상상품_정상가', //상품 정상이월세일
                      },
                    ],
                  },
                },
              });
              dataLayer.push({
                layerCategory: undefined,
                layerAction: undefined,
                layerLabel: undefined,
                nonInteraction: false,
                ecommerce: undefined,
              });
            }
          </script>
          <!-- hsome_divpop_list | í´íëª©ë¡ s -->
          <div class="hsome_tooltip_list">
            <!-- í´í : ì¼íë°±ì¶ê° s -->
            <div class="tooltip_html">
              <div class="tooltip_wrap tooltip_shoppingbag_add">
                <div class="tltp_close_btn btn_tltp_close">
                  <span>닫기</span>
                </div>
                <h1 class="tltp_header">쇼핑백추가</h1>
                <div class="tltp_content">
                  <div class="shoppingbag_img">
                    <img
                      src="http://www.thehandsome.com/_ui/handsomemobile/images/order/img_shoppingbag.jpg"
                      alt="쇼핑백" />
                  </div>
                  <ul class="ul_dot_blk">
                    <li>
                      선물용이나 이동 시, 편리하게 사용할 수 있는 쇼핑백에
                      포장해 드립니다.
                    </li>
                    <li>
                      브랜드 쇼핑백 또는 더한섬닷컴 전용 쇼핑백 중 1개로 무작위
                      발송되며, 고객님의 요청사항이 반영되지는 않습니다.
                    </li>
                    <li>
                      쇼핑백 선택 시, 기본 포장에 포함된 페이퍼 백은 동봉되지
                      않습니다.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- í´í : ì¼íë°±ì¶ê° e -->
            <div class="tooltip_html">
              <div class="tooltip_wrap tooltip_buy_delivery_charge">
                <div class="tltp_close_btn btn_tltp_close">
                  <span>닫기</span>
                </div>
                <h1 class="tltp_header">배송비</h1>
                <div class="tltp_content">
                  <ul class="ul_dot_blk">
                    <li>
                      쿠폰/바우처 할인금액 및 한섬마일리지/H.Point 사용을 제외한
                      실 결제금액 기준
                      <strong>3만원 미만 결제 시 2,500원 배송비가 부과</strong
                      >됩니다. (3만원 이상 구매 시 무료배송)
                    </li>
                    <li>도서산간 지역은 배송비가 추가 될 수 있습니다.</li>
                    <li>
                      한섬마일리지, H.Point, e-money로 배송비 결제가 불가합니다.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- í´í : í¬ì¸í¸ì¬ì© s -->
            <div class="tooltip_html">
              <div class="tooltip_wrap tooltip_discout_info">
                <div class="tltp_close_btn btn_tltp_close">
                  <span>닫기</span>
                </div>
                <h1 class="tltp_header">포인트 사용</h1>
                <div class="tltp_content">
                  <div class="desc_box">
                    보유 한섬마일리지 / H.Point / 기프트카드 금액을 확인하시고
                    사용하실 금액을 입력 후 [사용]을 선택하세요.
                  </div>
                </div>
              </div>
            </div>
            <!-- í´í : í¬ì¸í¸ì¬ì© e -->

            <!-- í´í : ì ë¦½ìì í¬ì¸í¸ s -->
            <div class="tooltip_html">
              <div class="tooltip_wrap tooltip_buy_point_guide">
                <div class="tltp_close_btn btn_tltp_close">
                  <span>닫기</span>
                </div>
                <h1 class="tltp_header">적립 예정 포인트</h1>
                <div class="tltp_content">
                  <ul class="ul_dot_blk">
                    <li>
                      기존 마이너스 포인트를 보유하고 있는 고객은 포인트가
                      차감되어 적립됩니다. 적립 예정 포인트가 상이할 수
                      있습니다.
                    </li>
                    <li>
                      통합 멤버쉽으로 가입하시면, H.Point 적립 및 사용이
                      가능합니다.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- í´í : ì ë¦½ìì í¬ì¸í¸ e -->
          </div>
          <!-- hsome_divpop_list | í´íëª©ë¡ e -->
        </div>
        <div class="m_popModalBg_ldg" style="display: none"></div>
        <div
          class="divpop_wrap dvp_style_3 privacy_info_popwrap_01"
          style="display: none">
          <div class="dvp_container">
            <div class="dvp_close_btn b-close">
              <span>닫기</span>
            </div>
            <h1 class="dvp_header">개인정보 제3자 제공 동의</h1>
            <div class="dvp_content">
              <div class="desc_box" style="font-size: 3.2vw; line-height: 1.5">
                ‘아워레가시’ 브랜드 정보 공유 및 마케팅 활용 목적으로 동의하신
                고객님에 한하여 최소한의 개인정보가 제 3자에게 제공됩니다.
                <br />
                고객님께서는 개인정보 제 3자 제공에 대해 ‘동의’ 또는 ‘거부’를
                선택할 수 있으며, 선택에 관계없이 제품 구매가 가능합니다.
                개인정보 제공 관련 구체적인 내용은 아래와 같습니다.
                <ol style="padding: 3.4vw 0 0 3.4vw">
                  <li style="list-style: inherit">
                    <strong>제공받는 자</strong> : 국내 소재 OUR LEGACY의 대리인
                    <br />(한섬과 OUR LEGACY 독점 계약 종료 시 사업을 이어받을
                    국내 신규 사업자)
                  </li>
                  <li style="list-style: inherit">
                    <strong>제공 항목</strong> : 성명 및 이메일 주소
                  </li>
                  <li style="list-style: inherit">
                    <strong>이용 목적</strong> : 마케팅 활용 및 브랜드 정보 공유
                  </li>
                  <li style="list-style: inherit">
                    <strong>보유 및 이용기간</strong> : 회원탈퇴시 또는 동의
                    철회시까지
                  </li>
                </ol>
              </div>
              <div class="btn_wrap btn_wrap_div1">
                <a href="#none" class="btnstl3 solid_btn_blk b-close"
                  ><span>확인</span></a
                >
              </div>
            </div>
          </div>
        </div>

        <script type="text/javascript">
          //<![CDATA[
          var height = 20;
          var num = 0;
          var max = height * num;
          var move = 0;
          var lastChild;
          var notiCnt = 0;
          var curTabId = 0;

          $(document).ready(function () {
            //자동로그인

            $('.chatbotlink').click(function () {
              callChatbot();
            });

            // 2022.03.29 푸터 공지사항 추가
            getFooterNotices('/ko/svcenter');
          });

          function moveDesktop() {
            location.href =
              location.href.replace('?uiel=Mobile', '') + '?uiel=Desktop';
          }

          $(function () {
            var pcVersionButtons = null;
            if (getCookie('app') != 'android' && getCookie('app') != 'ios') {
              pcVersionButtons =
                '<a href="javascript:moveDesktop();">PC버전</a>';
              $('#pcVersion').html(pcVersionButtons);
            } else {
              $('#footerMenu').prop('class', 'menu m3');
            }

            // 	if(getCookie("app") == "ios"){
            // 	    $(".f_policy .language").hide(); //ios 메인 처음 진입시 language 노출되는 오류 수정
            // 	}
          });

          function hpAutoLogin(data) {
            if (data.succYn == 'Y') {
              $.ajax({
                type: 'GET',
                url: '/ko/hpoint/simpleJoinMember',
                data: { mcustNo: data.mcustNo },
                success: function (data) {
                  if (data.resultCode == 'L') {
                    $('#hcid').val(data.uid);
                    $('#autologinForm').submit();
                  }
                },
                error: function (e) {},
              });
            }
          }

          function familySiteSelect() {
            $('.fixed_dim_layer').stop().show();
            $('.family_site_popup_191108').stop().slideDown();
          }
          function familySiteSelectClosed() {
            $('.family_site_popup_191108').stop().slideUp();
            $('.fixed_dim_layer').stop().fadeOut(500);
          }

          //app 언어설정창 추가
          function selectLangChg(obj) {}

          //외부 브라우저로 링크 열기
          function callWebBrowser() {
            var appYn = 'N';
            if (getCookie('app') == null || getCookie('app') == '') {
              //
            } else {
              // 앱 접속일 경우 앱 여부 Y
              appYn = 'Y';
            }
            var appOs = '';

            if (appYn == 'Y') {
              if (appOs == 'ios') {
                webkit.messageHandlers.callWebBrowser.postMessage(
                  'http://www.naver.com'
                );
              } else {
                Android.callWebBrowser('http://www.naver.com');
              }
            }
          }

          /************************Footer Notice Start*********************/
          function getFooterNotices(moveUrl) {
            to_date = new Date();
            $.ajax({
              type: 'get',
              url: moveUrl + '/getFooterNotices?now=' + to_date.getTime(),
              dataType: 'json',
              error: function (request, status, error) {
                console.log(error);
              },
              success: function (data) {
                notiCnt = data.length;
                var noticeContent = '';
                //var viewCnt = 0;
                $.each(data, function () {
                  //if(viewCnt < 4){
                  var listTag = '<li>';
                  listTag +=
                    '<a href="' +
                    moveUrl +
                    '/mobilenotice?noticeCode=' +
                    this.pk +
                    '">' +
                    this.subject +
                    '</a>';
                  listTag += '</li>';

                  noticeContent += listTag;
                  //viewCnt++;
                  //}
                });

                $('.notice-wrap').html(noticeContent);
              },
            });
          }
          /**********************Footer Notice End****************************/
          //]]>
        </script>
        <script>
          $(window).load(function () {
            function noticeRolling() {
              if (notiCnt > 1) {
                height = 20;
                num = notiCnt;
                max = height * num;
                move += height;

                //메인여부 체크(메인진입시 1개, 메인탭별 푸터 진입시 1개씩 추가)
                if ($('.notice-wrap').length > 1) {
                  $('#topNav1909 li').each(function (index) {
                    if ($(this).hasClass('on')) {
                      curTabId = index;
                    }
                  });
                  $('footer#footer' + curTabId + ' .notice-wrap').animate(
                    { top: -move },
                    600,
                    function () {
                      if (move >= max) {
                        $(this).css('top', 0);
                        move = 0;
                      }
                    }
                  );
                } else {
                  $('.notice-wrap').animate({ top: -move }, 600, function () {
                    if (move >= max) {
                      $(this).css('top', 0);
                      move = 0;
                    }
                  });
                }
              }
            }
            noticeRollingOff = setInterval(noticeRolling, 3000);

            //메인여부 체크(메인진입시 1개, 메인탭별 푸터 진입시 1개씩 추가)
            if ($('.notice-wrap').length > 1) {
              $('#topNav1909 li').each(function (index) {
                if ($(this).hasClass('on')) {
                  curTabId = index;
                }
              });
              $('footer#footer' + curTabId + ' .notice-wrap').append(
                $('footer#footer' + curTabId + ' .notice-wrap li')
                  .first()
                  .clone()
              );
            } else {
              $('.notice-wrap').append($('.notice-wrap li').first().clone());
            }
          });
        </script>
        <form
          id="autologinForm"
          name="autologinForm"
          action="/ko/hp/autologin"
          method="get">
          <input type="hidden" name="hcid" id="hcid" value="e2gaf@naver.com" />
        </form>
        <!-- ################## footer ################## -->
        <!-- 푸터 공지 추가 220404 -->
        <footer id="footer" class="hsome_footer new181127 footer_kr">
          <div class="main-notice">
            <div class="tit-notice">공지</div>
            <div class="list-notice">
              <ul class="notice-wrap" style="top: -0.522316px">
                <li>
                  <a href="/ko/svcenter/mobilenotice?noticeCode=8804711092144"
                    >[당첨자 발표] 2023 신년 기프트 향수 이벤트 당첨자 발표</a
                  >
                </li>
                <li>
                  <a href="/ko/svcenter/mobilenotice?noticeCode=8804547317680"
                    >[당첨자 발표] 1월 뷰티 릴레이 체험단 당첨</a
                  >
                </li>
                <li>
                  <a href="/ko/svcenter/mobilenotice?noticeCode=8804678520752"
                    >[당첨자 발표] 핸썸TV 더한섬닷컴 설선물 라이브 방송(1/17)
                    사은품 및 스페셜 마일리지 당첨자 발표</a
                  >
                </li>
                <li>
                  <a href="/ko/svcenter/mobilenotice?noticeCode=8804678487984"
                    >결제완료(주문완료) 페이지 오류 안내</a
                  >
                </li>
                <li>
                  <a href="/ko/svcenter/mobilenotice?noticeCode=8804711092144"
                    >[당첨자 발표] 2023 신년 기프트 향수 이벤트 당첨자 발표</a
                  >
                </li>
              </ul>
            </div>
            <div class="btn-more">
              <a href="/ko/svcenter/mobilenotice"
                ><img
                  src="http://cdn.thehandsome.com/_ui/handsomemobile/images/main/btn_arr_notice.png"
                  alt=""
              /></a>
            </div>
          </div>
          <div class="f_wrap">
            <div class="f_menu re1911">
              <!-- 수정 190207 -->
              <ul class="top_line">
                <li><a href="#"></a></li>
                <li>
                  <a
                    href="javascript:ftLogout();"
                    class="login"
                    style="float: left"
                    onclick="GA_Event('공통', '푸터_메뉴', '로그아웃');"
                    >로그아웃<!-- 로그아웃 --></a
                  >
                </li>
                <li>
                  <a
                    href="/ko/svcenter/mobilemain?uiel=Mobile"
                    class="customer"
                    style="float: left; width: 32%"
                    onclick="GA_Event('공통', '푸터_메뉴', '고객센터');"
                    >고객센터<!--고객센터--></a
                  >
                </li>
                <li>
                  <a
                    href="/ko/store-finder/storeInformation?uiel=Mobile"
                    class="storeinfo"
                    style="float: left"
                    onclick="GA_Event('공통', '푸터_메뉴', '매장안내');"
                    >매장안내</a
                  >
                </li>
              </ul>
              <ul class="btm_line1911">
                <li>
                  <a
                    href="/ko/svcenter/theClubInfo?uiel=Mobile"
                    class="memberBenefit"
                    style="float: left; letter-spacing: -1px"
                    onclick="GA_Event('공통', '푸터_메뉴', '한섬 회원 혜택');"
                    >한섬 회원 혜택<!-- 한섬 회원 혜택 --></a
                  >
                </li>
                <li>
                  <a
                    href="http://www.handsome.co.kr/ko/company/aboutHandsome.do?leng=ko"
                    target="_blank"
                    style="float: left; letter-spacing: -1px"
                    onclick="GA_Event('공통', '푸터_메뉴', '회사소개');"
                    >회사소개</a
                  >
                </li>
                <li id="family_site">
                  <span
                    class="language family_site1911 for_iph_css1911"
                    onclick="familySiteSelect();GA_Event('공통', '푸터_CNT', 'FAMILYSITE');"
                    >FAMILY SITE&nbsp;</span
                  >
                </li>
              </ul>
              <!-- 챗봇 테스트 -->
            </div>

            <div class="f_sns">
              <a
                href="javascript:noLink();"
                onclick="GA_Event('공통', '푸터_SNS', 'INSTAGRAM');window.open('https://instagram.com/thehandsome_official/','instagram');return false"
                class="ist"
                >인스타그램</a
              >
              <a
                href="javascript:noLink();"
                onclick="GA_Event('공통', '푸터_SNS', 'YOUTUBE');window.open('https://www.youtube.com/channel/UC0fmjgbVA8iZrPbIR3dppUQ','youtube');return false"
                class="ytb"
                >유튜브</a
              >
            </div>
            <div class="f_policy">
              <a href="/ko/footer/footerTermBusiness?uiel=Mobile"
                >서비스이용약관</a
              >
              <a
                href="/ko/footer/footerPrivacy?uiel=Mobile"
                style="font-weight: bold"
                >개인정보처리방침</a
              >

              <!-- web -->
              <!-- 180706 추가// -->
              <span class="language">
                <select
                  id="footerSelectLang"
                  onchange="if(this.value) language(this.value);"
                  onclick="GA_Event('공통', '푸터_CNT', 'LANGUAGE');">
                  <option value="" selected="selected" disabled="" hidden="">
                    LANGUAGE
                  </option>
                  <option value="ko">한국어</option>
                  <option value="en">ENGLISH</option>
                  <option value="zh">中文</option>
                </select>
              </span>
              <!-- //180706 추가 -->
            </div>

            <div class="f_copyright">
              COPYRIGHT © 2018 HANDSOME. ALL RIGHT RESERVED
            </div>

            <a
              href="javascript:noLink();"
              class="f_info_viewer"
              onclick="GA_Event('공통', '푸터_CNT', 'INFO');">
              <span class="f-txt">(주) 한섬 </span>
              <span class="f-logo"
                ><img
                  src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/mob-footer-handsome-logo.png"
                  alt=""
              /></span>
            </a>

            <div class="f_info">
              <div class="corp">
                대표이사 : 김민덕 | 서울시 강남구 도산대로 523 한섬빌딩<br />TEL
                : 1800-5700 (유료) | FAX : 02-6078-2856 <br />개인정보보호책임자
                : 윤인수 | 호스팅서비스 : (주) 한섬<br />사업자등록번호 :
                120-81-26337<br />통신판매업신고번호 : 제 2009-서울강남-00826호
              </div>
              <div class="link">
                <a
                  href="https://recruit.ehyundai.com/recruit-info/announcement/list.nhd?pageNo=1&amp;hireGb=01&amp;coCd=HDHAN"
                  target="_blank"
                  onclick="GA_Event('공통', '푸터_CNT', 'INFO_채용정보');"
                  >채용정보</a
                >
                <a
                  href="http://www.handsome.co.kr/ko/sustainability/sharedGrowth01.do"
                  target="_blank"
                  onclick="GA_Event('공통', '푸터_CNT', 'INFO_동반성장');"
                  >동반성장</a
                >
                <a
                  href="http://www.handsome.co.kr/ko/sustainability/ecoFriendly01.do"
                  target="_blank"
                  onclick="GA_Event('공통', '푸터_CNT', 'INFO_환경경영');"
                  >환경경영</a
                >
              </div>
            </div>
          </div>
        </footer>
        <!-- // 푸터 공지 추가 220404 -->
        <!-- //################## footer ################## -->
      </div>
    </div>
    <!-- ################## //hsome_allContents_wrapper | ë³¸ë¬¸ ì»¨íì¸  ìì­ ################## -->
    <script type="text/javascript">
      var inicisCookieFlag = true;
      var inicisMethod = '';
      var authData = '';

      var uagentLow = navigator.userAgent.toLocaleLowerCase();
      if (uagentLow.search('android') > -1) {
      } else if (uagentLow.search('iphone') > -1) {
        var isSafari = navigator.userAgent.toLowerCase().indexOf('safari') > -1;
        var isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
        if (isSafari) {
          if (isChrome) {
            isSafari = false;
          } else {
            if (navigator.userAgent.toLowerCase().indexOf('crios') > -1) {
              isSafari = false;
            }
            inicisCookieFlag = false;
          }
        }
      }

      var WPAY = {
        FORMID: 'frmWpayHspay',
        IFRAMEID: 'ifrmWpayHspayLayer',
        loading: false,
        startLoading: function () {
          WPAY.loading = true;
          showLoadingLp();
        },
        stopLoading: function () {
          setTimeout(function () {
            WPAY.loading = false;
            hideLoadingLp();
          }, 300);
        },

        addForm: function () {
          if ($('#' + WPAY.FORMID).length > 0) {
            $('#' + WPAY.FORMID).remove();
          }
          return $('<form/>', {
            id: WPAY.FORMID,
            enctype: 'application/x-www-form-urlencodeed',
          }).appendTo($('body'));
        },

        open: function (callback) {
          var depthIndex = layerNextActiveIndex();
          $('.hsome_layerpop_contents').removeClass('hspay-layer');

          callLayerPopupShow('depth' + depthIndex, function (obj) {
            $(obj).addClass('hspay-layer');
            var wpayTag = '';
            var wpayStyleTag =
              'width: 100%; height: 99%; margin-top: 0; z-index: 100001;display: block !important; top: 0px; left: 0; -webkit-overflow-scrolling: touch; background: #fff';
            wpayTag += '<div class="layerpop_wrap lp_loading_wrap">';
            wpayTag += '	<div class="lyrpp_top">';
            wpayTag +=
              '		<a href="javascript:;" class="lyrpp_close lyrpp_close_stl1 btn_lyrpp_close"><span>닫기<!-- 닫기 --></span></a>';
            wpayTag += '	</div>';
            wpayTag += '	<div class="lyrpp_mid" id="wpayLoadingImage">';
            wpayTag += '		<div class="loading_box">';
            wpayTag += '			<p class="guide_box">처리중입니다</p>';
            wpayTag += '		</div>';
            wpayTag += '	</div>';
            wpayTag +=
              '<iframe id="' +
              WPAY.IFRAMEID +
              '" name="' +
              WPAY.IFRAMEID +
              '" src="about:blank" width="100%" height="100%" style="' +
              wpayStyleTag +
              '" frameborder="0" border="0"></iframe>';

            wpayTag += '</div>';
            $(obj).html(wpayTag);

            callback();
            setTimeout(function () {
              WPAY.loadingHide();
            }, 500);
          });
        },

        loadingShow: function () {
          $('#wpayLoadingImage').show();
        },

        loadingHide: function () {
          $('#wpayLoadingImage').fadeOut();
        },

        close: function () {
          var $obj = $('.hsome_layerpop_contents.hspay-layer');
          $obj.removeClass('visible');
          $obj.removeClass('active');
          $obj.removeClass('hspay-layer');
          $('.hsome_layerpop_contents .fcs').hide();
          holdBodyHide();
          hs_allCon.css({ marginTop: curScrollPosition * -1 });
          setTimeout(function () {
            hs_allCon.css({ marginTop: 0 });
            $(window).scrollTop(curScrollPosition);
            $obj.empty();
          }, 200);
          return false;
        },

        convertFormToJSON: function convertFormToJSON(_form) {
          var obj = {};
          try {
            if (_form[0].tagName && _form[0].tagName.toUpperCase() == 'FORM') {
              var arr = _form.serializeArray();
              if (arr != null) {
                $.each(arr, function () {
                  obj[this.name] = this.value;
                });
              }
            }
          } catch (e) {
          } finally {
          }
          return obj;
        },

        wpaylayerConfirm: function (msg, confirmMsg, cancleMsg) {
          var layer = new layerConfirm(msg, confirmMsg, cancleMsg);
          $('#confirmCloseDiv').click(function () {
            WPAY.stopLoading();
          });
          return layer;
        },
      };

      WPAY.cardRegistSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, 'mid', data.mid);
        addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
        addHidden($frmWpayHspay, 'ci', data.ci);
        addHidden($frmWpayHspay, 'payMethod', data.payMethod);
        addHidden($frmWpayHspay, 'bankCardCode', data.bankCardCode);
        addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
        addHidden($frmWpayHspay, 'signature', data.signature);

        $frmWpayHspay.attr({
          method: 'POST',
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.memberRegistSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, 'mid', data.mid);
        addHidden($frmWpayHspay, 'userId', data.userId);
        addHidden($frmWpayHspay, 'ci', data.ci);
        addHidden($frmWpayHspay, 'reqType', data.reqType);
        addHidden($frmWpayHspay, 'userNm', data.userNm);
        addHidden($frmWpayHspay, 'hNum', data.hNum);
        addHidden($frmWpayHspay, 'hCorp', data.hCorp);
        addHidden($frmWpayHspay, 'birthDay', data.birthDay);
        addHidden($frmWpayHspay, 'socialNo2', data.socialNo2);
        addHidden($frmWpayHspay, 'frnrYn', data.frnrYn);
        addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
        addHidden($frmWpayHspay, 'payUrl', data.payUrl);
        addHidden($frmWpayHspay, 'signature', data.signature);

        $frmWpayHspay.attr({
          method: 'POST',
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.memberUnRegistSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, 'mid', data.mid);
        addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
        addHidden($frmWpayHspay, 'ci', data.ci);
        addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
        addHidden($frmWpayHspay, 'signature', data.signature);

        $frmWpayHspay.attr({
          method: 'POST',
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.passwordChangeSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, 'mid', data.mid);
        addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
        addHidden($frmWpayHspay, 'ci', data.ci);
        addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
        addHidden($frmWpayHspay, 'signature', data.signature);

        $frmWpayHspay.attr({
          method: 'POST',
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.paymentAuthSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();

        inicisMethod = 'paymentAuthSubmit';
        authData = data;

        addHidden($frmWpayHspay, 'mid', data.mid);
        addHidden($frmWpayHspay, 'wpayUserKey', data.wpayUserKey);
        addHidden($frmWpayHspay, 'wpayToken', data.wpayToken);
        addHidden($frmWpayHspay, 'ci', data.ci);
        addHidden($frmWpayHspay, 'payMethod', data.payMethod);
        addHidden($frmWpayHspay, 'bankCardCode', data.bankCardCode);
        addHidden($frmWpayHspay, 'oid', data.oid);
        addHidden($frmWpayHspay, 'goodsName', data.goodsName);
        addHidden($frmWpayHspay, 'goodsPrice', data.goodsPrice);
        addHidden($frmWpayHspay, 'buyerName', data.buyerName);
        addHidden($frmWpayHspay, 'buyerTel', data.buyerTel);
        addHidden($frmWpayHspay, 'buyerEmail', data.buyerEmail);
        addHidden($frmWpayHspay, 'cardQuota', data.cardQuota);
        addHidden($frmWpayHspay, 'cardInterest', data.cardInterest);
        addHidden($frmWpayHspay, 'couponCode', data.couponCode);
        addHidden($frmWpayHspay, 'flagPin', data.flagPin);
        addHidden($frmWpayHspay, 'flagPinMsg', data.flagPinMsg);
        addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
        addHidden($frmWpayHspay, 'flagCardPoint', data.flagCardPoint);
        addHidden($frmWpayHspay, 'signature', data.signature);

        $frmWpayHspay.attr({
          method: 'POST',
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      WPAY.accesstermsSubmit = function (data) {
        var $frmWpayHspay = WPAY.addForm();
        $frmWpayHspay.empty();
        addHidden($frmWpayHspay, 'mid', data.mid);
        addHidden($frmWpayHspay, 'returnUrl', data.returnUrl);
        addHidden($frmWpayHspay, 'signature', data.signature);
        $frmWpayHspay.attr({
          method: 'POST',
          action: data.url,
          //'target': WPAY.IFRAMEID
        });
        $frmWpayHspay.submit();
      };

      var checkoutWpay = (function () {
        var btnCardRegist = function () {
          //if (WPAY.loading == true) return;
          //WPAY.startLoading();

          $.get(
            '/ko/wpay/cardRegist?fncallback=checkoutCardRegistCallback&wpayReferUrl=' +
              referUrl,
            function (data) {
              if (data.resultCode == 'NOT_WPAY_MEMBER') {
                var layer = WPAY.wpaylayerConfirm(
                  '간편결제 회원으로 등록되어 있지 않습니다.<br/>간편결제 가입 및 결제수단 등록을 진행하시겠습니까?',
                  '확인',
                  '취소'
                );
                layer.confirmAction = function () {
                  //WPAY.open(function () {
                  inicisMethod = 'memberRegist';
                  wpayMemberRegist();
                  //});
                };
                layer.cancleAction = function () {
                  //WPAY.stopLoading();
                };
                return;
              }

              WPAY.open(function () {
                inicisMethod = 'cardRegist';
                WPAY.cardRegistSubmit(data);
                //WPAY.stopLoading();
              });
            }
          ).fail(function () {
            //WPAY.stopLoading();
          });
        };

        $('#card_easy_pay').on('click', 'li.swiper-slide', function () {
          if ($(this).hasClass('last')) {
            checkoutWpay.resetEasyPay();
            checkoutWpay.resetGeneralPay();

            $('input[name=wpayToken]').val('');
            $('input[name=cardQuota]').val('00');
            $('input[name=cardInterest]').val('N');
          } else {
            var $cardCode = $(this).find('input[name=card_choice]'),
              selectCardCode = $('input[name=bankCardCode]').val();

            $('input[name=mode]').val($cardCode.val() == '' ? '' : 'KO001-3');
            $('input[name=bankCardCode]').val($cardCode.val());
            $('input[name=wpayToken]').val($cardCode.data('token'));
            $('input[name=cardQuota]').val('00');
            $('input[name=cardInterest]').val('N');
            if ($cardCode.val() != selectCardCode)
              checkoutWpay.drawInstallment($cardCode.val());
          }

          if (typeof onclickButtonTextChange === 'function') {
            onclickButtonTextChange();
          }
        });

        var drawCardList = function drawCardList() {
          var drawEasyPayTag = function (data) {
            var $card_easy_pay = $('#card_easy_pay'),
              easyPay = '';

            easyPay += '	<ul class="swiper-wrapper">';

            if (data.resultCode == '0000') {
              $card_easy_pay.data('nointlist', data.noIntCardList);
              $.each(data.cardList, function (index, item) {
                var wpayCardInfo = WPAY_CARD_INFO[item.bankCardCode];

                easyPay += '		<li class="swiper-slide">';
                easyPay += '			<div class="card_item ' + wpayCardInfo.cls + '">';
                if (item.discinfo != null && item.discinfo.applYn == 'Y') {
                  easyPay += '	<div class="sale_now_box1910">';
                  easyPay += '		<span class="sale_type1">즉시할인</span>';
                  easyPay += '	</div>';
                }
                easyPay += '				<div class="radio_stl">';
                easyPay +=
                  '					<input type="radio" id="card_choice_' +
                  item.bankCardNo +
                  '" name="card_choice" value="' +
                  item.bankCardCode +
                  '" data-token="' +
                  item.wpayToken +
                  '" />';
                easyPay += '					<label for="card_choice_' + index + '">';
                easyPay +=
                  '						<div class="card_name">' +
                  decodeURIComponent(item.cardName) +
                  '</div>';
                easyPay += '					</label>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_applYn" value="' +
                  item.discinfo.applYn +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_couponCode" value="' +
                  item.discinfo.couponCode +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_discAmt" value="' +
                  item.discinfo.discAmt +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_minAmt" value="' +
                  item.discinfo.minAmt +
                  '"/>';
                easyPay +=
                  '                    <input type="hidden" class="discInfo_maxAmt" value="' +
                  item.discinfo.maxAmt +
                  '"/>';
                easyPay += '				</div>';
                easyPay +=
                  '				<div class="card_num">' +
                  $.trim(item.bankCardNo).replace(/-/g, ' ') +
                  '</div>';
                easyPay +=
                  '				<select name="card_pay_term_' +
                  item.bankCardCode +
                  '" id="card_pay_term_' +
                  item.bankCardCode +
                  '" class="sodsb" data-custom-class="card_pay_term">';
                easyPay += '					<option value="00">일시불</option>';
                easyPay += '				</select>';
                easyPay += '			</div>';
                easyPay += '		</li>';
              });
            }

            easyPay += '		<li class="swiper-slide last">';
            easyPay += '			<div class="card_item cd_kind_add_guide">';
            easyPay +=
              '				<p class="desc_box"><span class="under" id="linkOneBuySetting">마이페이지>정보>등록한 카드 정보</span>에서<br>신규카드를 등록하실 수 있습니다.</p>';
            easyPay += '			</div>';
            easyPay += '			<div style="hidden">';
            easyPay +=
              '				<input type="radio" id="card_choice_" name="card_choice" value=""/>';
            easyPay += '			</div>';
            easyPay += '		</li>';
            easyPay += '	</ul>';
            $('#card_easy_pay').html(easyPay);
            $('#card_easy_pay select.sodsb').selectOrDie();

            var easyPaySwiper = $('#card_easy_pay')[0].swiper;
            if (easyPaySwiper != null) easyPaySwiper.destroy();
            swiperCardActive('swiper_card_easy_pay');

            if ($card_easy_pay.find('li.swiper-slide').length > 1) {
              $card_easy_pay
                .find('[name="card_choice"]:eq(0)')
                .trigger('click');
            }
            if (typeof fn_updateDiscInfo === 'function') {
              $('#oneClickCardLoadYn').val('Y');
              fn_updateDiscInfo();
            }
          };

          return $.get('/ko/wpay/cardListForPayment')
            .done(drawEasyPayTag)
            .fail(drawEasyPayTag);
        };

        var drawInstallment = function drawInstallment(cardCode) {
          var noIntList = $('#card_easy_pay').data('nointlist');
          var paymentPrice = parseInt($('#total').val(), 0) || 0;
          var MAX_INSTALLMENT = 12,
            MAX_NOINTSTALLMENT_PRICE = 0,
            MAX_NOINTSTALLMENT_MONTH = ['0'];
          var $selectInstallment = $(
              "select[id='card_pay_term_" + cardCode + "']"
            ),
            selectTag = '';

          if ($("[name='mode']").val() != 'KO001-3') return;

          selectTag = '<option value="00">일시불</option>';

          if (paymentPrice >= 50000) {
            if (noIntList != null) {
              $.each(noIntList, function (idx, item) {
                if (item.cardCode != cardCode) return true;

                $.each(item.cardEventList, function (i, cardEvent) {
                  if (
                    paymentPrice >= cardEvent.amount * 10000 &&
                    cardEvent.amount * 10000 > MAX_NOINTSTALLMENT_PRICE
                  ) {
                    MAX_NOINTSTALLMENT_PRICE = cardEvent.amount * 10000;
                    MAX_NOINTSTALLMENT_MONTH = cardEvent.month;
                  }
                });
              });
            }

            for (var i = 2; i <= MAX_INSTALLMENT; i++) {
              if (i < 10) {
                month = '0' + i;
              } else {
                month = i;
              }
              if ($.inArray(i.toString(), MAX_NOINTSTALLMENT_MONTH) > -1) {
                selectTag +=
                  '<option value="' +
                  month +
                  '" data-nointstallment="Y">' +
                  i.toString() +
                  '개월 무이자</option>';
              } else {
                selectTag +=
                  '<option value="' +
                  month +
                  '">' +
                  i.toString() +
                  '개월</option>';
              }
            }
          }

          $selectInstallment.html(selectTag);
          $selectInstallment.selectOrDie('update');
        };
        var drawCardListForCheckout = function () {
          return this.drawCardList().always(function () {
            var $lastSlide = $('#card_easy_pay').find('.swiper-slide.last'),
              $cardItem = $lastSlide.find('.card_item');
            $cardItem.addClass('cd_kind_add').removeClass('cd_kind_add_guide');
            $cardItem.html(
              '<a href="javascript:;" class="card_add_btn" onclick="checkoutWpay.btnCardRegist()">카드등록</a>'
            );
          });
        };
        var drawCardListForOneclick = function () {
          return this.drawCardList().always(function () {
            var $lastSlide = $('#card_easy_pay').find('.swiper-slide.last'),
              $cardItem = $lastSlide.find('.card_item');
            $cardItem.addClass('cd_kind_add_guide').removeClass('cd_kind_add');
            $cardItem.html(
              '<p class="desc_box"><span class="under" id="linkOneBuySetting">마이페이지>정보>등록한 카드 정보</span>에서<br>신규카드를 등록하실 수 있습니다.</p>'
            );
          });
        };
        return {
          drawCardList: drawCardList,

          drawCardListForCheckout: drawCardListForCheckout,

          drawCardListForOneclick: drawCardListForOneclick,

          drawInstallment: drawInstallment,

          btnCardRegist: btnCardRegist,

          resetEasyPay: function resetEasyPay() {
            $('input[name=mode]').val('');
            $('input[name=bankCardCode]').val('');
            $('input[name=card_choice]').attr('checked', false);
          },

          resetGeneralPay: function resetGeneralPay() {
            $('input[name=mode]').val('');
            $('#general_pay li').removeClass();
          },
        };
      })();

      var wpayStartMemberRegist = function () {
        if (WPAY.loading == true) return;
        WPAY.startLoading();

        wpayMemberRegist();
      };

      var wpayMemberRegist = function () {
        $.get(
          '/ko/wpay/memberRegist?fncallback=checkoutMemberRegistCallback&wpayReferUrl=' +
            referUrl,
          function (memberData) {
            setTimeout(function () {
              if ($.trim(memberData.mid) == '') {
                layerAlert(
                  decodeURIComponent(memberData.resultMsg) ||
                    '간편결제 회원등록을 실패하였습니다.'
                );
                WPAY.close();
                return;
              }

              WPAY.memberRegistSubmit(memberData);
            }, 300);
          }
        ).always(function () {
          WPAY.stopLoading();
        });
      };

      var wpayStartCardRegist = function () {
        if (WPAY.loading == true) return;
        WPAY.startLoading();

        WPAY.open(function () {
          wpayCardRegist();
        });
      };

      var wpayCardRegist = function () {
        $.get(
          '/ko/wpay/cardRegist?fncallback=cardRegistCallback&wpayReferUrl=' +
            referUrl,
          function (data) {
            switch (data.resultCode) {
              case '0000':
                WPAY.cardRegistSubmit(data);
                break;
              case 'NOT_WPAY_MEMBER':
                wpayMemberRegistConfirm();
                break;
              case 'IS_ANONYMOUS':
                location.href = '/ko/member/login';
                break;
              default:
                new layerAlert(
                  decodeURIComponent(
                    data.resultMsg || '신규카드등록중 오류가 발생하였습니다.'
                  )
                );
            }
          }
        );
      };

      var checkoutMemberRegistCallback = function (resultCode, resultMsg) {
        switch (resultCode) {
          case '2406':
            if (inicisCookieFlag == false && inicisMethod == 'memberRegist') {
              inicisCookieFlag = true;
              inicisIosCookieSetting();

              wpayStartMemberRegist();
            } else {
              layerWpayCookieSettingView();
              WPAY.close();
            }
            break;
          case '0000':
            $.get(
              '/ko/wpay/cardRegist?fncallback=checkoutCardRegistCallback',
              function (data) {
                WPAY.cardRegistSubmit(data);
              }
            );
            break;
          default:
            new layerAlert(resultMsg);
            WPAY.close();
            break;
        }
      };

      var checkoutCardRegistCallback = function (
        resultCode,
        resultMsg,
        result
      ) {
        switch (resultCode) {
          case '2406':
            if (inicisCookieFlag == false && inicisMethod == 'cardRegist') {
              inicisCookieFlag = true;
              inicisIosCookieSetting();

              wpayStartCardRegist();
            } else {
              layerWpayCookieSettingView();
              WPAY.close();
            }
            break;
          case '0000':
            checkoutWpay.drawCardListForCheckout();
            layerWpayCardDetailView(result);
            break;
          default:
            new layerAlert(resultMsg);
            WPAY.close();
            break;
        }
      };

      /*
* iframe -> 페이지 전환 방식으로 변경하게 되어 미사용
* wpayResult.jsp 페이지로 이전
var checkoutPaymentAuthCallback = function (resultCode, resultMsg, result) {
switch(resultCode) {
case "2406": 
  if(inicisCookieFlag == false && inicisMethod == "paymentAuthSubmit"){
      inicisCookieFlag = true;
      inicisIosCookieSetting();
      
          WPAY.open(function () {
            WPAY.paymentAuthSubmit(authData);
          });
        
  }else{
      layerWpayCookieSettingView();
    WPAY.close();
  }
  break;
case "0000":
  WPAY.loadingShow();
  var $PAY_FORM = $("#PAY_FORM");
  addHidden($PAY_FORM, 'wtid'	, result.wtid);
  
  if (window.parent == self) {
    
    setTimeout(function () {
      $PAY_FORM.attr({
        'method': 'POST',
        'action': '/ko/inicis/inipaywpay/sop/response',
        'target': '_top'
      });
      $PAY_FORM.submit();
    }, 200);
  } else {
    
    var formData = WPAY.convertFormToJSON($PAY_FORM);
    window.parent.postMessage({ func: 'oneclickPostSubmit', data: formData }, '*');
  }
  break;
default:
  new layerAlert(resultMsg);
  WPAY.close();
  break;
}
}

*/

      var layerWpayCardDetailView = function (data) {
        var cardDetailTag = '';
        var card = WPAY_CARD_INFO[data.bankCardCode];
        cardDetailTag += '<div class="layerpop_wrap lp_simple_pay_wrap">';
        cardDetailTag += '	<div class="lyrpp_top">';
        cardDetailTag +=
          '		<a href="javascript:;" onclick="WPAY.close()" class="lyrpp_close lyrpp_close_stl1 btn_lyrpp_close"><span>닫기</span></a>';
        cardDetailTag += '		<h2>등록 완료</h2>';
        cardDetailTag += '	</div>';
        cardDetailTag += '	<div class="lyrpp_mid">';
        cardDetailTag += '		<div class="card_preview_wrap">';
        cardDetailTag += '			<div class="card_item ' + card.cls + '">';
        cardDetailTag +=
          '				<div class="card_name">' + decodeURIComponent(card.name) + '</div>';
        cardDetailTag +=
          '				<div class="card_num">' +
          $.trim(data.bankCardNo).replace(/-/g, ' ') +
          '</div>';
        cardDetailTag += '			</div>';
        cardDetailTag += '			<p class="msg_box">카드등록이 완료되었습니다.</p>';
        cardDetailTag += '		</div>';
        cardDetailTag += '		<ul class="btn_wrap btn_wrap_div1">';
        cardDetailTag +=
          '			<li><a href="javascript:;" onclick="WPAY.close()" class="btnstl3 solid_btn_blk">';
        cardDetailTag += '				<span>간편결제를 등록해 주셔서 감사합니다</span></a>';
        cardDetailTag += '			</li>';
        cardDetailTag += '		</ul>';
        cardDetailTag += '	</div>';
        cardDetailTag += '</div>';

        var $wpayLayer = $('.hsome_layerpop_contents.hspay-layer');
        $wpayLayer.html(cardDetailTag);
      };

      var layerWpayCookieSettingView = function () {
        $('#btnWpayCookieSetting').click();
      };

      $(document).on('click', '#linkOneBuySetting', function () {
        window.parent.postMessage(
          {
            func: 'oneclickPostMovePage',
            data: {
              url: '/ko/mypage/oneBuy',
            },
          },
          '*'
        );
      });

      var WPAY_CARD_INFO = [];
      WPAY_CARD_INFO['03'] = { name: '롯데카드', cls: 'cd_kind_lotte' };
      WPAY_CARD_INFO['04'] = { name: '현대카드', cls: 'cd_kind_hyundai' };
      WPAY_CARD_INFO['06'] = { name: '국민카드', cls: 'cd_kind_kb' };
      WPAY_CARD_INFO['11'] = { name: 'BC카드', cls: 'cd_kind_bc' };
      WPAY_CARD_INFO['12'] = { name: '삼성카드', cls: 'cd_kind_samsung' };
      WPAY_CARD_INFO['14'] = { name: '신한카드', cls: 'cd_kind_shinhan' };
      WPAY_CARD_INFO['16'] = { name: 'NH카드', cls: 'cd_kind_nh' };
      WPAY_CARD_INFO['01'] = { name: '하나카드', cls: 'cd_kind_hana' };
      WPAY_CARD_INFO['17'] = { name: '하나카드', cls: 'cd_kind_hana' };

      function inicisIosCookieSetting() {
        WPAY.close();
        var uagentLow = navigator.userAgent.toLocaleLowerCase();
        if (uagentLow.search('android') > -1) {
        } else if (uagentLow.search('iphone') > -1) {
          var isSafari =
            navigator.userAgent.toLowerCase().indexOf('safari') > -1;
          var isChrome =
            navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
          if (isSafari) {
            if (isChrome) {
              isSafari = false;
            } else {
              if (navigator.userAgent.toLowerCase().indexOf('crios') > -1) {
                isSafari = false;
              }
              iniWin = window.open(
                'https://wpay.inicis.com/hspay/error/cookieErr',
                'iniErr',
                'top=10, left=100, width500, height=500'
              );
              iniWin.blur();
            }
          }
        }
      }
    </script>

    <div style="display: none">
      <a
        href="javascript:;"
        id="btnWpayCookieSetting"
        class="btn_plusbox btn_popup"
        data-poptarget="pop_wpay_cookie_info"
        ><span></span
      ></a>
      <div class="divpop_wrap dvp_style_2 pop_wpay_cookie_info">
        <div class="dvp_container">
          <div class="dvp_close_btn b-close">
            <span>닫기</span>
          </div>
          <h1 class="dvp_header">
            등록 및 결제창이 잘 안 열릴 경우,<br />
            <span class="point_fc">[브라우저 쿠키 설정]</span>을
            <span class="point_fc">‘항상허용’</span>으로<br />변경해주세요.
          </h1>
          <div class="dvp_content">
            <div class="dvp_tit">iOS</div>
            <ul class="ul_dot_blk">
              <li>홈 화면의 [설정] 메뉴 실행</li>
              <li>
                설정의 Safari 선택<br />
                <ul>
                  <li>
                    ① [방문기록 및 웹사이트 데이터 지우기]&gt;[방문기록 및
                    데이터 지우기] 선택
                  </li>
                  <li>② [쿠키차단] 항목을 항상 허용으로 선택</li>
                  <li>③ [사이트간 추적방지]를 미허용으로 선택</li>
                  <li>④ [고급] 메뉴의 [javascript] 항목을 허용으로 설정</li>
                </ul>
              </li>
              <li>Safari 실행 후 [개인정보 브라우징] 미허용</li>
              <li>브라우저 새로 고침</li>
            </ul>
            <div class="dvp_tit">Android(갤럭시 기준)</div>
            <ul class="ul_dot_blk">
              <li>홈 화면의 [인터넷] 실행</li>
              <li>
                우측상단(또는 좌측상단) 목록 버튼&gt;[설정] 선택<br />
                <ul>
                  <li>① 개인정보보호&gt;[쿠키허용] 항목 선택</li>
                  <li>
                    ② 개인정보보호&gt;개인데이터삭제&gt;[방문기록, 캐시, 쿠키 및
                    사이트데이터] 삭제
                  </li>
                  <li>
                    ③ 고급&gt;자바스크립트 사용, 팝업차단 해제 선택 브라우저
                    새로 고침
                  </li>
                </ul>
              </li>
              <li>인터넷 실행 후 [개인정보 브라우징] 미허용</li>
              <li>브라우저 새로 고침</li>
            </ul>
            <div class="btn_wrap btn_wrap_div1">
              <a href="#none" class="btnstl3 solid_btn_blk b-close"
                ><span>확인</span></a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      //if(handsomePageId == "productList" && getCookie("handsomeproductback") == "Y") {
      //window.history.back();
      //}

      $(document).ready(function () {
        var appVersionCheckOS = getCookie('app');
        var appVersionCheckVer = getCookie('appVer');
        if (
          (appVersionCheckOS == 'ios' && appVersionCheckVer.startsWith('1.')) ||
          (appVersionCheckOS == 'android' && appVersionCheckVer < 43)
        ) {
          location.href = '/ko/mobilecommon/appDownload';
          return;
        }

        var todayDate = new Date();

        if (getCookie('mainNoticeWrapKo') != todayDate.getDate()) {
          var innerHtml = '';
          innerHtml +=
            '<div class="notice_pop" id="mainNoticeWrap" style="z-index:100000;">                                                                              ';
          innerHtml +=
            '    <div class="popwrap_renewal1910" id="mainNoticeWrapKo">                                                                                       ';
          innerHtml +=
            '        <div class="pop_cnt">                                                                                                                     ';
          innerHtml +=
            '            <h3 class="pop_tlt" style="font-size:20px">                                                                                           ';
          innerHtml +=
            '            아이폰 APP <br>                                                                                                                       ';
          innerHtml +=
            '            카드결제 불가 안내                                                                                                                    ';
          innerHtml +=
            '            </h3>                                                                                                                                 ';
          innerHtml +=
            '            <p class="pop_txt">                                                                                                                   ';
          innerHtml +=
            '            아이폰 APP 2.2.2 버전에서<br/>일부 결제 오류가 발생하고 있습니다.<br/>(원클릭결제는 정상)<br/><br/>                                   ';
          innerHtml +=
            '            2.2.3 버전으로 업데이트 하시면<br/>정상 결제가 가능합니다.<br/>업데이트 후, 결제 진행 부탁드립니다.<br/><br/>                         ';
          innerHtml +=
            '            고객님께 불편을 드려 죄송합니다.                                                                                                      ';
          innerHtml +=
            '            </p>                                                                                                                                  ';
          innerHtml +=
            '        </div>                                                                                                                                    ';
          innerHtml +=
            '        <div class="btnwrap">                                                                                                                     ';
          innerHtml +=
            '            <input type="button" class="btn stoptoday closeLayerPopup" value="오늘은 그만보기 ">                                                  ';
          innerHtml +=
            '            <input type="button" class="btn close closeLayerPopup" value="닫기">                                                                  ';
          innerHtml +=
            '        </div>                                                                                                                                    ';
          innerHtml +=
            '        <a href="#" class="btn_close closeLayerPopup"></a>                                                                                        ';
          innerHtml +=
            '    </div>                                                                                                                                        ';
          innerHtml += '</div> ';
          innerHtml +=
            '<div style="position:absolute; top:0; left:0; width:100%; height:100%; z-index:9999;" id="notice_pop_layer"><div style="position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; opacity:0;"></div> </div> ';

          if (appVersionCheckOS == 'ios' && appVersionCheckVer == '2.2.2') {
            if ('ordersheet' == 'ordersheet' || 'ordersheet' == 'cartPage') {
              $('.hsome_contents').after(innerHtml);
              $('#notice_pop_layer').show();
            }
          }
        }

        $('.closeLayerPopup').on('click', function () {
          $('#notice_pop_layer').hide();
          if ($(this).hasClass('stoptoday')) {
            //오늘은 그만보기
            var todayDate = new Date();
            var cookieId = $(this).parents('.popwrap_renewal1910').attr('id');
            setOneDayCookie(cookieId, todayDate.getDate(), 1);
          }
          $(this).parents('.popwrap_renewal1910').css('display', 'none');
        });

        //        else if((appVersionCheckOS == "ios" && "2.0.1".indexOf(appVersionCheckVer)  < 0)
        //            ||   (appVersionCheckOS == "android" && "44".indexOf(appVersionCheckVer) < 0))

        //        {
        //            var la = new layerConfirm("새로운 기능이 추가되었습니다.<br>업데이트 하시겠습니까?", "확인", "취소");
        //            la.cancleAction = function(){//취소 호출 펑션
        //             };

        //             la.confirmAction = function(){//확인 호출 펑션
        //                 //location.href = '/ko/mobilecommon/appDownload';
        //                 goDownload1(appVersionCheckOS);
        //                 return;
        //             };
        //         }

        if (handsomePageId != 'mainIntro') {
          if ($.cookie('handsomecategorypagecnt') !== null) {
            $.removeCookie('handsomecategorypagecnt', { path: '/' });
          }
          if ($.cookie('handsomecategoryscroll') !== null) {
            $.removeCookie('handsomecategoryscroll', { path: '/' });
          }
          if ($.cookie('handsomelayerscroll') !== null) {
            $.removeCookie('handsomelayerscroll', { path: '/' });
          }
          if (
            $.cookie('handsomeproductback') !== null &&
            handsomePageId != 'productList'
          ) {
            $.removeCookie('handsomeproductback', { path: '/' });
          }
          if (
            $.cookie('handsomecategoryhash') !== null &&
            !(
              handsomePageId == 'productList' ||
              handsomePageId == 'hsProductDetailPage'
            )
          ) {
            $.removeCookie('handsomecategoryhash', { path: '/' });
          }
        }
        /* var la = new layerConfirm('메시지','확인 버튼 텍스트','취소 버튼 텍스트');
  la.cancleAction = function(){//취소 호출 펑션
  return;
  };

  la.confirmAction = function(){//확인 호출 펑션
  return;
  }; */

        $(document).on('click', '.set', function () {
          location.href = '/ko/mypage/configMain';
        });
      });

      // 쿠키 생성
      function setCookie(cName, cValue, cDay) {
        var expire = new Date();
        expire.setDate(expire.getDate() + cDay);
        cookies = cName + '=' + escape(cValue) + '; path=/ ';
        if (typeof cDay != 'undefined')
          cookies += ';expires=' + expire.toGMTString() + ';';
        document.cookie = cookies;
      }

      //쿠키 삭제
      function deletecookie(name, pram_searchwords) {
        var today = new Date();
        var path = '/ko/';
        var lastIndex = path.lastIndexOf('/');
        path = path.substring(0, lastIndex);
        today.setDate(today.getDate() + -1);
        document.cookie =
          name + '=; path=' + path + '; expires=' + today.toGMTString() + ';';
        $('.' + pram_searchwords).css('display', 'none');
      }

      function deletecookiePath(name, pram_searchwords, path) {
        var today = new Date();
        if (path == '') {
          path = '/';
        }
        today.setDate(today.getDate() + -1);
        document.cookie =
          name + '=; path=' + path + '; expires=' + today.toGMTString() + ';';
        if (pram_searchwords != '') {
          $('.' + pram_searchwords).css('display', 'none');
        }
      }

      //언어설정
      function language(isoCode) {
        //같은언어 선택시 문구 비노출
        if ('ko' == isoCode) {
          languageProcess(isoCode);
          $('#footerSelectLang').val('').change();
        } else {
          var la = new layerConfirm(
            '서비스 언어를 변경하시겠습니까?<br/>서비스 언어를 변경하시면 쇼핑백에 담은 상품이 삭제됩니다.',
            '확인',
            '취소'
          );
          la.confirmAction = function () {
            //확인 호출 펑션
            languageProcess(isoCode);
          };

          la.cancleAction = function () {
            $('#footerSelectLang').val('').change();
          };

          $('#confirmCloseDiv').on('click', function () {
            $('#footerSelectLang').val('').change();
          });
        }
      }
      function languageProcess(isoCode) {
        gaIsoCodeEncoding(isoCode);
        if (location.href.indexOf('/handsome/') > -1) {
          $.ajax({
            type: 'post',
            url: '/ko/logout?' + getCSRFToken(),
            error: function (request, status, error) {
              $.ajax({
                type: 'post',
                url: '/ko/_s/language' + '?' + 'code=' + isoCode,
                dataType: 'json',
                error: function (request, status, error) {
                  console.log(
                    'code:' +
                      request.status +
                      '\n' +
                      'message:' +
                      request.responseText +
                      '\n' +
                      'error:' +
                      error
                  );
                },
                success: function (result) {
                  location.href = '/ko/';
                },
              });
            },
            success: function (result) {
              $.ajax({
                type: 'post',
                url: '/ko/_s/language' + '?' + 'code=' + isoCode,
                dataType: 'json',
                error: function (request, status, error) {
                  console.log(
                    'code:' +
                      request.status +
                      '\n' +
                      'message:' +
                      request.responseText +
                      '\n' +
                      'error:' +
                      error
                  );
                },
                success: function (result) {
                  location.href = '/ko/';
                },
              });
            },
          });
        } else {
          location.href = '/' + isoCode;
        }
      }

      function getCSRFToken() {
        return 'CSRFToken=' + $("#CSRFForm [name='CSRFToken']").first().val();
      }

      function slideOnMain() {
        var autocom_swiper = new Swiper('#autocompleteImg', {
          slidesPerView: 3.333,
          paginationClickable: false,
          spaceBetween: '1.5625%',
          freeMode: true,
        });
      }

      //재입고 알림 오픈
      function getWarehousingPage(productcode, layer) {
        $.ajax({
          url: '/ko/p/checkRewareHousing',
          type: 'GET',
          dataType: 'json',
          data: { code: productcode },
          success: function (data) {
            if ('N' == data.loginYn) {
              var la = new layerConfirm(
                '장시간 사용하지 않아 로그아웃 되었습니다.',
                '확인',
                '취소'
              );
              la.confirmAction = function () {
                location.href = '/ko/member/login';
              };
            }
            if (data.rewareHousingUserYn == 'Y') {
              var lc = new layerAlert(
                '' +
                  data.userID +
                  '(ID) 로<br/>이미 재입고 알림 신청 이력이 있습니다.<br/>(동일 e-mail)'
              );
            } else if (data.rewareHousingYn == 'Y') {
              var cla = new layerAlert('이미 신청을 완료하였습니다.');
            } else {
              if (data.rewareHouseOtherProductYn == 'Y') {
                var lc = new layerConfirm(
                  '동일상품의 재입고 알림 신청내역이 있습니다.<br/>다른 옵션으로 재입고 알림 신청을<br/>추가하시겠습니까?',
                  '확인',
                  '취소'
                );
                lc.confirmAction = function () {
                  layerPopupOpen(
                    '/ko/product/rewarehousing?productcode=' +
                      productcode +
                      '&layer=' +
                      layer,
                    layer,
                    '.hsome_layer_popup.product_warehousing_pop'
                  );
                };
              } else {
                layerPopupOpen(
                  '/ko/product/rewarehousing?productcode=' +
                    productcode +
                    '&layer=' +
                    layer,
                  layer,
                  '.hsome_layer_popup.product_warehousing_pop'
                );
              }
            }
          },
        });
      }
      //재입고 알림 닫기
      function warehousingPageClose(layer) {
        layerPopupClose2(layer, '.hsome_layer_popup.product_warehousing_pop');
      }

      //상품 검색 오픈
      function getProductSearchPage() {
        layerPopupOpen(
          '/ko/mobilecommon/productsearch',
          '.hsome_layerpop_contents.lp_depth1',
          '.layerpop_wrap.lp_cs_qna_search_wrap'
        );
      }

      //상품 검색 닫기
      function productSearchPageClose() {
        $('.layerpop_wrap.lp_cs_qna_search_wrap .ui_tab').find('.fcs').remove();
        layerPopupClose(
          '.hsome_layerpop_contents.lp_depth1',
          '.layerpop_wrap.lp_cs_qna_search_wrap'
        );
        // SNS 댓글의 경우 검색창 닫기 후 댓글창 active
        if (window.isSnsReplySearchPop) {
          $('.sns_comment_ipt_pop .sns-comment-ipt').addClass('active');
        }
      }

      //상품 검색 오픈
      function getProductSearchPage2() {
        layerPopupOpen(
          '/ko/mobilecommon/productsearch?type=manto',
          '.hsome_layerpop_contents.lp_depth1',
          '.layerpop_wrap.lp_cs_qna_search_wrap2'
        );
      }

      //상품 검색 닫기
      function productSearchPageClose2() {
        layerPopupClose(
          '.hsome_layerpop_contents.lp_depth1',
          '.layerpop_wrap.lp_cs_qna_search_wrap2'
        );
        // SNS 댓글의 경우 검색창 닫기 후 댓글창 active
        if (window.isSnsReplySearchPop) {
          $('.sns_comment_ipt_pop .sns-comment-ipt').addClass('active');
        }
      }

      //상품상세 > 상품 검색 오픈
      function getProductSearchPageOnProductDetail() {
        layerPopupOpen(
          '/ko/mobilecommon/productsearch',
          '.hsome_layerpop_contents.lp_depth2',
          '.layerpop_wrap.lp_cs_qna_search_wrap'
        );
        setTimeout(function () {
          $(
            '.hsome_layerpop_contents.lp_depth2 .lyrpp_close.lyrpp_close_stl1'
          ).attr('onclick', 'productSearchPageOnProductDetailClose();');
        }, 400);
      }

      //상품 검색 닫기
      function productSearchPageOnProductDetailClose() {
        $('.layerpop_wrap.lp_cs_qna_search_wrap .ui_tab').find('.fcs').remove();
        layerPopupClose(
          '.hsome_layerpop_contents.lp_depth2',
          '.layerpop_wrap.lp_cs_qna_search_wrap'
        );
        // SNS 댓글의 경우 검색창 닫기 후 댓글창 active
        if (window.isSnsReplySearchPop) {
          $('.sns_comment_ipt_pop .sns-comment-ipt').addClass('active');
        }
      }

      //레이어 팝업 오픈
      function layerPopupOpen(url, layer, pop) {
        $.cookie('handsomelayerscroll', $(document).scrollTop(), { path: '/' });
        $(layer).addClass('active');

        setTimeout(function () {
          $('.hsome_allContents').addClass('disabled');
        }, 300);
        setTimeout(function () {
          $(layer).addClass('visible');
        }, 400);

        //$(layer).html('<img src="http://www.thehandsome.com/_ui/handsomemobile/images/common/ico_loader.gif" alt="loading" class="hsome_quickMenu_loader" />');
        $(layer).html(
          '<img src="http://www.thehandsome.com/_ui/handsomemobile/images/common/Spinner-1s-200px.png" alt="loading" class="hsome_quickMenu_loader" />'
        );

        jQuery.ajax({
          url: url,
          data: '',
          type: 'get',
          success: function (data) {
            setTimeout(function () {
              $(layer).html(data);
              $(pop).addClass('visible');
            }, 0);
            setTimeout(function () {
              $(pop).addClass('active');
            }, 0);
            setTimeout(function () {
              $(pop).addClass('activated');
            }, 400);
          },
        });
      }

      //레이어 팝업 닫기
      function layerPopupClose(layer, pop) {
        var $popup = $(this).closest(pop);
        $popup.removeClass('activated');
        $popup.removeClass('active');
        setTimeout(function () {
          $popup.removeClass('visible');
          $('.hsome_allContents').removeClass('disabled');
          $(layer).removeClass('active');
          $(layer).removeClass('visible');
          if ($.cookie('handsomelayerscroll') !== null) {
            $(document).scrollTop(getCookie('handsomelayerscroll'));
          }
        }, 400);
        return false;
      }

      //레이어 팝업 닫기
      function layerPopupClose2(layer, pop) {
        $(pop).removeClass('activated');
        $(pop).removeClass('active');
        setTimeout(function () {
          $(pop).removeClass('visible');
          $('.hsome_allContents').removeClass('disabled');
          $(layer).removeClass('active');
          $(layer).removeClass('visible');
          if ($.cookie('handsomelayerscroll') !== null) {
            $(document).scrollTop(getCookie('handsomelayerscroll'));
          }
        }, 400);
        return false;
      }

      function saveWishContents(
        contentType,
        templateType,
        contentPK,
        contentSubject
      ) {
        $.ajax({
          url: '/ko/magazine/saveMyWishContents',
          type: 'POST',
          datatype: 'json',
          data: {
            contentType: contentType,
            templateType: templateType,
            contentPK: contentPK,
            contentSubject: contentSubject,
            CSRFToken: $("#CSRFForm [name='CSRFToken']").first().val(),
          },
          success: function (data) {
            //alert(data);
          },
        });
      }

      function ftLogout() {
        deletecookie('UID');
        deletecookie('criteoEmail');
        deletecookie('memberGb');

        location.href = '/ko/logout';
      }

      var oneclick = {
        isEvent: false,
        depthIndex: 0,
        open: function (products, vipDeliAvail) {
          var broadcastIndex = '';
          var inflowTime = '';
          var broadcastDate = '';
          if (broadcastIndex != '') {
            inflowTime = '20230128220341';
          }

          if (this.isEvent) return;

          this.depthIndex = layerNextActiveIndex();
          $('.hsome_layerpop_contents.lp_depth' + this.depthIndex).css(
            'bottom',
            '-1000px'
          );
          $('.hsome_layerpop_contents.lp_depth' + this.depthIndex).load(
            '/ko/checkout/oneclick?products=' +
              products +
              '&vipDeliAvail=' +
              vipDeliAvail +
              '&broadcastIndex=' +
              broadcastIndex +
              '&inflowTime=' +
              inflowTime +
              '&broadcastDate=' +
              broadcastDate,
            function () {
              $(this)
                .removeClass('lp_stl_black')
                .removeClass('lp_stl_trans')
                .removeClass('dir_w')
                .removeClass('dir_h');
              $(this).addClass(
                'dir_h lp_stl_black lp_stl_trans visible active'
              );
              oneclick.isEvent = true;
            }
          );
        },
        calliFramePopup: function (depth) {
          $('.iframe_popup_wrap')
            .removeClass('lp_stl_black')
            .removeClass('lp_stl_trans')
            .removeClass('dir_w')
            .removeClass('dir_h'); //초기화
          curScrollPosition = $(window).scrollTop();
          holdBodyShow();
          $('.iframe_popup_wrap').addClass('dir_h'); //슬라이드방향

          // showLoadingLpIdx("2001");
          return false;
        },
        init: function () {
          if (this.isEvent) return;

          if (window.addEventListener) {
            window.addEventListener('message', oneclickPostMessage, false);
          } else if (window.attachEvent) {
            window.attachEvent('onmessage', oneclickPostMessage, false);
          }

          this.isEvent = true;
        },
      };

      function oneclickPostLoaded() {
        $('.iframe_popup_wrap').addClass('lp_stl_trans'); //black 배경 활성화
        $('.iframe_popup_wrap').addClass('visible');
        $('.iframe_popup_wrap').addClass('active');
      }

      function oneclickPostSubmit(data) {
        var payForm = data,
          formName = 'oneclickPayForm';

        if ($('#' + formName).length > 0) {
          $('#' + formName).remove();
        }
        var $oneclickPayForm = $('<form/>', {
          id: formName,
          enctype: 'application/x-www-form-urlencodeed',
        }).appendTo($('body'));
        $oneclickPayForm.empty();

        $.each(payForm, function (name, value) {
          addHidden($oneclickPayForm, name, value);
        });

        $oneclickPayForm.attr({
          method: 'POST',
          action:
            'https://www.thehandsome.com/ko/inicis/inipaywpay/sop/response',
          target: '_top',
        });

        $oneclickPayForm.submit();
      }

      function oneclickPostPointSubmit(data) {
        var payForm = data,
          formName = 'oneclickPayForm';

        if ($('#' + formName).length > 0) {
          $('#' + formName).remove();
        }

        var $oneclickPayForm = $('<form/>', {
          id: formName,
        }).appendTo($('body'));
        $oneclickPayForm.empty();

        $.each(payForm, function (name, value) {
          addHidden($oneclickPayForm, name, value);
        });
        $oneclickPayForm.attr({
          method: 'POST',
          action: 'https://www.thehandsome.com/ko/checkout/placepoint',
          target: '_top',
        });
        $oneclickPayForm.submit();
      }

      function payFormData(data) {
        var payForm = data,
          formName = 'PAY_FORM';

        if ($('#' + formName).length > 0) {
          $('#' + formName).remove();
        }
        var $oneclickPayForm = $('<form/>', {
          id: formName,
        }).appendTo($('body'));
        $oneclickPayForm.empty();

        $.each(payForm, function (name, value) {
          addHidden($oneclickPayForm, name, value);
        });
      }

      function requestPaymentSubmit(data) {
        WPAY.paymentAuthSubmit(data);
      }

      function oneclickPostClose() {
        $.get('/ko/shoppingbag/oneclickCancel');
        holdBodyHide();
        if (oneclick.depthIndex > 0) {
          $('.lp_oneclick_buy_pay_wrap').removeClass('visible');
          $('.lp_oneclick_buy_pay_wrap').removeClass('active');
        } else {
          $('.iframe_popup_wrap').removeClass('visible');
          $('.iframe_popup_wrap').removeClass('active');
        }

        $('.hs_pro_view_floating .floating_box').removeClass('active');
        $('.hs_pro_view_floating .floating_box').eq(1).addClass('active');

        $('#onclickLodingArea').hide();
        $('#lpOrderApplyBtns').show();
        $('#lyrppTopColseArea').show();

        $('body').css({ marginTop: curScrollPosition * -1 });
        setTimeout(function () {
          $('body').css({ marginTop: 0 });
          $('body').scrollTop(curScrollPosition);

          if (oneclick.depthIndex > 0) {
            $(
              '.hsome_layerpop_contents.lp_depth' + oneclick.depthIndex
            ).empty();
            $(
              '.hsome_layerpop_contents.lp_depth' + oneclick.depthIndex
            ).removeClass('dir_h lp_stl_black lp_stl_trans visible active');
            oneclick.isEvent = false;
          } else {
            $('.iframe_popup_wrap').remove();
          }
        }, 400);
      }

      function oneclickPostMovePage(data) {
        location.href = data.url;
      }

      function oneclickPostMessage(event) {
        if ('https://www.thehandsome.com/ko'.indexOf(event.origin) == -1)
          return;

        var data = event.data;

        if (typeof window[data.func] == 'function') {
          window[data.func].call(null, data.data);
        }
      }

      function callSaveAppPush(pushMsg) {
        var obj = JSON.parse($.trim(pushMsg).replace(/(?:\r\n|\r|\n)/g, ''));
        var notiTitle = obj.notiTitle; // 제목
        var notiMsg = obj.notiMsg; // 메세지 텍스트
        var notiImg = obj.notiImg; // 이미지 링크
        var message = obj.message; // html 전달
        var msgLink = obj.msgLink; // link
        var msgType = obj.msgType; // 메시지 유형 ('T' - Text, 'H' - Html, 'L' - Link)

        if (obj.notiTitle != '[스타일라이브♥]') {
          $.ajax({
            type: 'POST',
            url: '/ko/mobilecommon/saveMarketPush',
            datatype: 'json',
            data: {
              CSRFToken: $("#CSRFForm [name='CSRFToken']").first().val(),
              msg: notiMsg,
              title: notiTitle,
              img: notiImg,
              html: encodeURIComponent(message),
              msgLink: msgLink,
              msgType: msgType,
            },
            error: function (request, status, error) {
              //    	       console.log( "code:" + request.status+"\n\n\n\n" + "message:" + request.responseText+"\n\n\n\n" + "error:" + error );
            },
            success: function (result) {
              if (result == 'SUCCESS') {
              }
            },
          });
        }
      }

      //쿠키 생성
      function setOneDayCookie(cName, cValue, cDay) {
        var currentDate = new Date();
        var expire = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth(),
          currentDate.getDate() + cDay,
          0,
          0,
          0
        );
        cookies = cName + '=' + escape(cValue) + '; path=/ ';
        if (typeof cDay != 'undefined')
          cookies += ';expires=' + expire.toGMTString() + ';';
        document.cookie = cookies;
      }
    </script>
    <div id="iframepopuparea"></div>
    <!-- 네이버 애널리틱스 전환페이지 설정 : s -->
    <!-- 네이버 애널리틱스 전환페이지 설정 : e -->

    <script type="text/javascript">
      /*
layer popup 형식의 alert 창

========================[example code]===========================
layerAlert('메세지를 입력하세요');

var lc = new layerAlert('입력하신 정보가 변경완료 되었습니다.');
lc.confirmAction = function(){
  //alert화면 실행후 후속 처리 부분 추가
  location.href="/ko/mypage/order/myorders";
};
=============================================================
*/

      var btnConfirmText = '확인';
      var btnCancleText = '취소';
      var btnCloseText = '닫기';
      var layerAlert = function (msg, refresh) {
        btnConfirmText = '확인';
        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        var alertTag = '';
        alertTag += '<div class="dvp_container">';
        alertTag +=
          '	<div class="dvp_close_btn b-close" id="alertCloseDiv"><span>' +
          btnCloseText +
          '</span></div>';
        alertTag += '	<h1 class="dvp_header"></h1>';
        alertTag += '	<div class="dvp_content">';
        alertTag += '		<div class="desc_box">' + msg + '</div>';
        alertTag += '	</div>';
        alertTag += '	<div class="btn_wrap">';
        alertTag +=
          '		<button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          '</button>';
        alertTag += '	</div>';
        alertTag += '</div>';

        $('#popAlertConfirmDiv').html(alertTag);

        $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: 'fixed',
          onClose: function () {
            holdBodyHide();
            $('#popAlertConfirmDiv').html('');
          },
        });
        holdBodyShow();

        $('#popAlertConfirmDiv')
          .find('.btn-alert-confirm')
          .click(function () {
            if (refresh == true) location.reload();
            $('#alertCloseDiv').click();
            t.confirmAction();
          });
      };

      /*
layer popup 형식의 alert 창 변형 -> 팝업창에서의 팝업창일 때 확인 누르거나 X 눌렀을 때 holdBodyHide();를 타면서 Gnb가 나타나는 현상 때문에 layerAlertGnb로 하나 추가하여
refresh 변수 제거, onClose function 제거

========================[example code]===========================
layerAlertGnb('메세지를 입력하세요');

var la = new layerAlertGnb('입력하신 정보가 변경완료 되었습니다.');

=============================================================
*/
      var layerAlertGnb = function (msg) {
        btnConfirmText = '확인';
        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        var alertTag = '';
        alertTag += '<div class="dvp_container">';
        alertTag +=
          '	<div class="dvp_close_btn b-close" id="alertCloseDiv"><span>' +
          btnCloseText +
          '</span></div>';
        alertTag += '	<h1 class="dvp_header"></h1>';
        alertTag += '	<div class="dvp_content">';
        alertTag += '		<div class="desc_box">' + msg + '</div>';
        alertTag += '	</div>';
        alertTag += '	<div class="btn_wrap">';
        alertTag +=
          '		<button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          '</button>';
        alertTag += '	</div>';
        alertTag += '</div>';

        $('#popAlertConfirmDiv').html(alertTag);

        $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: 'fixed',
          /* onClose: function() { 
        holdBodyHide();
        $("#popAlertConfirmDiv").html("");
      } */ //body 클래스 scroll 상태 유지
        });
        holdBodyShow();

        $('#popAlertConfirmDiv')
          .find('.btn-alert-confirm')
          .click(function () {
            //if(refresh==true) location.reload(); //refresh check 제거
            $('#alertCloseDiv').click();
            t.confirmAction();
          });
      };

      /*
layer popup 형식의 confirm 창



========================[example code]===========================

var lc = new layerConfirm('메세지를 입력하세요', '확인버튼', '취소버튼');
lc.confirmAction = function(){
  console.log('재정의한 함수입니다.');
};

=============================================================

*/
      var layerConfirm = function (msg, confirmMsg, cancleMsg) {
        var t = this;

        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };
        this.cancleAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        if (confirmMsg != '') {
          btnConfirmText = confirmMsg;
        } else {
          btnConfirmText = '확인';
        }
        if (cancleMsg != '') {
          btnCancleText = cancleMsg;
        } else {
          btnCancleText = '취소';
        }

        var confirmTag = '';
        confirmTag += '<div class="dvp_container">';
        confirmTag +=
          '	<div class="dvp_close_btn b-close" id="confirmCloseDiv"><span>' +
          btnCloseText +
          '</span></div>';
        confirmTag += '	<div class="dvp_content">';
        confirmTag += '		<div class="desc_box">' + msg + '</div>';
        confirmTag += '	</div>';
        confirmTag += '	<div class="btn_wrap btns">';
        confirmTag +=
          '		<button class="btn btn_bd_g btn-alert-close">' +
          btnCancleText +
          '</button>';
        confirmTag +=
          '		<button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          '</button>';
        confirmTag += '	</div>';
        confirmTag += '</div>';

        $('#popAlertConfirmDiv').html(confirmTag);

        $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: 'fixed',
          onClose: function () {
            holdBodyHide();
            $('#popAlertConfirmDiv').html('');
          },
        });
        holdBodyShow();

        $('#popAlertConfirmDiv')
          .find('.btn-alert-close')
          .click(function () {
            $('#confirmCloseDiv').click();
            t.cancleAction();
          });

        $('#popAlertConfirmDiv')
          .find('.btn-alert-confirm')
          .click(function () {
            $('#confirmCloseDiv').click();
            t.confirmAction();
          });
      };

      /*
layer popup 형식의 confirm 창
특정 ios 기종에서 하단 버튼부분이 짤려나오는 현상이 있어서 ios용으로 별도 생성
*/
      var layerConfirmIos = function (msg, confirmMsg, cancleMsg) {
        var t = this;

        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };
        this.cancleAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        if (confirmMsg != '') {
          btnConfirmText = confirmMsg;
        } else {
          btnConfirmText = '확인';
        }
        if (cancleMsg != '') {
          btnCancleText = cancleMsg;
        } else {
          btnCancleText = '취소';
        }

        var confirmTag = '';
        confirmTag += '<div class="dvp_container">';
        confirmTag +=
          ' <div class="dvp_close_btn b-close" id="confirmCloseDiv"><span>' +
          btnCloseText +
          '</span></div>';
        confirmTag += ' <div class="dvp_content">';
        confirmTag += ' <div class="desc_box">' + msg + '</div>';
        confirmTag += ' </div>';
        confirmTag += ' <div class="btn_wrap btns">';
        confirmTag +=
          ' <button class="btn btn_bd_g btn-alert-close">' +
          btnCancleText +
          '</button>';
        confirmTag +=
          ' <button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          '</button>';
        confirmTag += ' </div>';
        confirmTag += '</div>';

        $('#popAlertConfirmDiv').html(confirmTag);

        $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: 'fixed',
          onClose: function () {
            holdBodyHide();
            $('#popAlertConfirmDiv').html('');
          },
        });
        $('.divpop_wrap_dev.pop_alert_confirm').css({
          top: '50%',
          margin: '0',
          transform: 'translate3d(0, -50%, 0)',
        });
        holdBodyShow();

        $('#popAlertConfirmDiv')
          .find('.btn-alert-close')
          .click(function () {
            $('#confirmCloseDiv').click();
            t.cancleAction();
          });

        $('#popAlertConfirmDiv')
          .find('.btn-alert-confirm')
          .click(function () {
            $('#confirmCloseDiv').click();
            t.confirmAction();
          });
      };

      /*
       * var lc = new layerConfirm2('메세지를 입력하세요', '취소버튼', '확인버튼');
       */
      var layerConfirm2 = function (msg, confirmMsg, cancleMsg) {
        var t = this;

        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };
        this.cancleAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        if (confirmMsg != '') {
          btnConfirmText = confirmMsg;
        } else {
          btnConfirmText = '확인';
        }
        if (cancleMsg != '') {
          btnCancleText = cancleMsg;
        } else {
          btnCancleText = '취소';
        }

        var confirmTag = '';
        confirmTag += '<div class="dvp_container">';
        confirmTag +=
          ' <div class="dvp_close_btn b-close" id="confirmCloseDiv"><span>' +
          btnCloseText +
          '</span></div>';
        confirmTag += ' <div class="dvp_content">';
        confirmTag += '     <div class="desc_box">' + msg + '</div>';
        confirmTag += ' </div>';
        confirmTag += ' <div class="btn_wrap btns">';
        confirmTag +=
          '     <button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          '</button>';
        confirmTag +=
          '     <button class="btn btn_bd_g btn-alert-close">' +
          btnCancleText +
          '</button>';
        confirmTag += ' </div>';
        confirmTag += '</div>';

        $('#popAlertConfirmDiv').html(confirmTag);

        $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: 'fixed',
          onClose: function () {
            holdBodyHide();
            $('#popAlertConfirmDiv').html('');
          },
        });
        holdBodyShow();

        $('#popAlertConfirmDiv')
          .find('.btn-alert-close')
          .click(function () {
            $('#confirmCloseDiv').click();
            t.cancleAction();
          });

        $('#popAlertConfirmDiv')
          .find('.btn-alert-confirm')
          .click(function () {
            $('#confirmCloseDiv').click();
            t.confirmAction();
          });
      };

      var editableLayer = function (msg, style, refresh) {
        btnConfirmText = '확인';
        var t = this;
        this.confirmAction = function () {
          //console.log('함수를 재정의 해주세요!');
        };

        var alertTag = '';
        alertTag += '<div class="dvp_container" style="' + style + '">';
        alertTag +=
          '   <div class="dvp_close_btn b-close" id="alertCloseDiv"><span>' +
          btnCloseText +
          '</span></div>';
        alertTag += '   <h1 class="dvp_header"></h1>';
        alertTag += '   <div class="dvp_content" style="margin-top: -21px;">';
        alertTag += '       <div class="desc_box">' + msg + '</div>';
        alertTag += '   </div>';
        alertTag += '   <div class="btn_wrap" style="margin-top: 0px;">';
        alertTag +=
          '       <button class="btn btn_bg_b btn-alert-confirm">' +
          btnConfirmText +
          '</button>';
        alertTag += '   </div>';
        alertTag += '</div>';

        $('#popAlertConfirmDiv').html(alertTag);

        $('.divpop_wrap_dev.pop_alert_confirm').bPopup({
          follow: [false, false],
          escClose: false,
          modalClose: false,
          opacity: 0.3,
          positionStyle: 'fixed',
          onClose: function () {
            holdBodyHide();
            $('#popAlertConfirmDiv').html('');
          },
        });
        holdBodyShow();

        $('#popAlertConfirmDiv')
          .find('.btn-alert-confirm')
          .click(function () {
            if (refresh == true) location.reload();
            $('#alertCloseDiv').click();
          });
        $('#alertCloseDiv').click(function () {
          t.confirmAction();
        });
      };

      /*
       * 챗봇 관련 스크립트
       */
      // 앱이 백그라운도 들어 갈 때에
      //function  appWillEnterBackground() {
      //    alert("enter background");
      //
      //}
      // 앱이 포어그라운드로 들어갈 때에
      //function appDidEnterForground() {
      //    alert("enter foreground");
      //
      //}
      // 챗봇의 푸시링크를 클릭했을 때
      function openChatView(token, talkId) {
        callChatbot(token, talkId);
      }

      function callChatbot(token, talkId) {
        if (token == null) {
          $.ajax({
            type: 'POST',
            url: '/ko/chatbot/token',
            data: { CSRFToken: '13c48883-1706-4f5a-810b-2f670f464334' },
            async: false,
            success: function (data) {
              if (data.result == 'SHOULD_LOGIN') {
                var la = new layerAlert('로그인이 필요합니다');
                la.confirmAction = function () {
                  //확인 버튼 클릭시 추가 호출 펑션
                  location.href = '/ko/member/login';
                };
              } else if (data.result == 'NOT_VIP') {
                var la = new layerAlert('VVIP 회원님만 이용 가능하십니다');
                la.confirmAction = function () {
                  //확인 버튼 클릭시 추가 호출 펑션
                };
              } else if (data.result == 'OFF-HOURS') {
                //일반 : CREW, FRIEND, 간편회원일경우, 평일 오전 9시 30분 ~ 오후 6시 30분만 사용가능
                var la = new layerAlert(
                  '채팅상담 서비스는 평일 오전 9시 ~ 오후 6시에 이용 가능하십니다.'
                );
                la.confirmAction = function () {
                  //확인 버튼 클릭시 추가 호출 펑션
                };
              } else {
                if (data.token != '') {
                  token = data.token;
                }
              }
            },
            error: function (e) {},
          });
        }

        if (token != null && token != '') {
          try {
            ga('gp.send', 'pageview', {
              title: '하니톡_채팅서비스', //가상페이지 화면명
              location: 'http://www.thehandsome.com/ko/hanitalk', //가상페이지URL
            });
          } catch (e) {
            console.log(e);
          }
          $('#chatbot_token').val(token);
          $('#chatbot_talkId').val(talkId);

          var targetTalkUrl = '';
          if (location.href.indexOf('www.thehandsome.com') > -1) {
            //운영
            //운영 챗봇 url
            targetTalkUrl =
              'https://talk.thehandsome.com/front/v1/jsp/view/chat.jsp';
          } else {
            //그외
            //개발 챗봇 url
            targetTalkUrl =
              'https://handsome-dev.enomix.co.kr/front/v1/jsp/view/chat.jsp';
          }

          $('#chatbotForm').attr('action', targetTalkUrl);

          $('#chatbotForm').submit();
        }
        return false;
      }
      /*
       * // 챗봇 관련 스크립트
       */

      function updateLocation() {
        $.ajax({
          type: 'POST',
          url: '/ko/mobilecommon/updateLocation',
          datatype: 'json',
          data: {
            CSRFToken: '13c48883-1706-4f5a-810b-2f670f464334',
            provideLocationYN: $('#isChcked').val(),
          },
          error: function (request, status, error) {
            // 			console.log( "code:" + request.status+"\n\n\n\n" + "message:" + request.responseText+"\n\n\n\n" + "error:" + error );
          },
          success: function (result) {
            if (result == 'SUCCESS') {
            }
          },
        });
      }

      function updatePush() {
        $.ajax({
          type: 'POST',
          url: '/ko/mobilecommon/updatePush',
          datatype: 'json',
          data: {
            CSRFToken: '13c48883-1706-4f5a-810b-2f670f464334',
            pushCd: $('#pushCd').val(),
            pushVal: $('#pushVal').val(),
          },
          error: function (request, status, error) {
            // 			console.log( "code:" + request.status+"\n\n\n\n" + "message:" + request.responseText+"\n\n\n\n" + "error:" + error );
          },
          success: function (result) {
            if (result == 'SUCCESS') {
            }
          },
        });
      }

      function AppCallLocation(result) {
        $('#isChcked').val(result);
        updateLocation();
      }

      function AppCallPushAll(result) {
        $('#pushCd').val('all');
        $('#pushVal').val(result);
        updatePush();
      }

      function AppCallPushOrder(result) {
        $('#pushCd').val('order');
        $('#pushVal').val(result);
        updatePush();
      }

      function AppCallPushEvent(result) {
        $('#pushCd').val('event');
        $('#pushVal').val(result);
        updatePush();
      }

      function AppCallPushBenefit(result) {
        $('#pushCd').val('benefit');
        $('#pushVal').val(result);
        updatePush();
      }

      function AppCallPushSilent(result) {
        $('#pushCd').val('silent');
        $('#pushVal').val(result);
        updatePush();
      }

      function gpsAllowAndroid() {
        // 가까운 매장순 탭 이동 및 리스트 호출
        if ('ordersheet' == 'hsProductDetailPage') {
          if (appYn == 'Y') {
            Android.getLocation();

            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(0).addClass('on');
            setTimeout(function () {
              searchStore(1);
            }, 500);
          }
        } else if ('ordersheet' == 'content1Page') {
          if (appYn == 'Y') {
            Android.getLocation();

            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(0).addClass('on');
            setTimeout(function () {
              searchStore(1);
            }, 500);
          }
        }
      }

      function gpsAlertExitAndroid() {
        // 재고 많은순 탭 선택
        if ('ordersheet' == 'hsProductDetailPage') {
          if (appYn == 'Y') {
            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(1).addClass('on');
          }
        } else if ('ordersheet' == 'content1Page') {
          if (appYn == 'Y') {
            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(1).addClass('on');
          }
        }
      }

      function gpsAlertOkAndroid() {
        // 재고 많은순 탭 선택
        if ('ordersheet' == 'hsProductDetailPage') {
          if (appYn == 'Y') {
            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(1).addClass('on');
          }
        } else if ('ordersheet' == 'content1Page') {
          if (appYn == 'Y') {
            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(1).addClass('on');
          }
        }
      }

      function gpsAlertExitIOS() {
        // 재고 많은순 탭 선택
        if ('ordersheet' == 'hsProductDetailPage') {
          if (appYn == 'Y') {
            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(1).addClass('on');
          }
        } else if ('ordersheet' == 'content1Page') {
          if (appYn == 'Y') {
            $('.sort_tab li').removeClass('on');
            $('.sort_tab li').eq(1).addClass('on');
          }
        }
      }

      function gpsSetOkIOS() {
        // 위치동의 여부 확인 후 (Y : 가까운 매장순 탭 이동 및 리스트 호출, N : 재고 많은순 탭 선택)
        if ('ordersheet' == 'hsProductDetailPage') {
          if (appYn == 'Y') {
            webkit.messageHandlers.getLocation.postMessage('');

            setTimeout(function () {
              if (lat != 0 && lng != 0) {
                $('.sort_tab li').removeClass('on');
                $('.sort_tab li').eq(0).addClass('on');

                searchStore(1);
              }
            }, 500);
          }
        } else if ('ordersheet' == 'content1Page') {
          if (appYn == 'Y') {
            webkit.messageHandlers.getLocation.postMessage('');

            setTimeout(function () {
              if (lat != 0 && lng != 0) {
                $('.sort_tab li').removeClass('on');
                $('.sort_tab li').eq(0).addClass('on');

                searchStore(1);
              }
            }, 500);
          }
        }
      }
    </script>

    <div
      class="divpop_wrap_dev pop_mbr pop_alert_confirm"
      id="popAlertConfirmDiv"></div>

    <!-- layerpopupContent s -->
    <!-- hsome_layer_menu_contents | 레이어팝업메뉴 컨텐츠 영역 s -->
    <!-- depth1 s -->
    <div class="hsome_layerpop_contents lp_depth1"></div>
    <!-- depth1 e -->
    <!-- depth2 s -->
    <div class="hsome_layerpop_contents lp_depth2"></div>
    <!-- depth2 e -->
    <!-- depth3 s -->
    <div class="hsome_layerpop_contents lp_depth3"></div>
    <!-- depth3 e -->
    <!-- depth4 s -->
    <div class="hsome_layerpop_contents lp_depth4"></div>
    <!-- depth4 e -->
    <!-- depth5 s -->
    <div class="hsome_layerpop_contents lp_depth5"></div>
    <!-- depth5 e -->
    <!-- depth6 s -->
    <div class="hsome_layerpop_contents lp_depth6"></div>
    <!-- depth6 e -->
    <!-- depth7 s -->
    <div class="hsome_layerpop_contents lp_depth7"></div>
    <!-- depth7 e -->
    <!-- depth8 s -->
    <div class="hsome_layerpop_contents lp_depth8"></div>
    <!-- depth8 e -->
    <script>
      $('html').on(
        'scroll touchmove mousewheel',
        '.hold_body .sns_comment_ipt_pop .sns-comment-op',
        function (e) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      );

      $(document).ready(function () {
        $('.write_form_area .reply-write-line #comment').keyup(function (e) {
          var content = $(this).val();
          $('.reply_write_box #counter').html(content.length);
        });

        $('.sns_comment_pop #sns_commont_close').on('click', function () {
          $('.sns_comment_ipt_pop .reply-call-btn').removeClass('on');
          //         $('.sns_comment_ipt_pop .sns-comment-ipt').removeClass('active');
          $('.hsome_allContents_wrapper').css('display', 'block');
          scrollHeightHistory(); //$(window).scrollTop(win_Scroll);
          $('.sns_comment_pop').scrollTop(0);

          $('body').removeClass('hidden');
        });

        $('.reply_write_box').on('focus', 'textarea', putBlur);

        // 20200706 댓글 버튼 active 액션
        $('.sns_comment_ipt_pop').on(
          'click',
          '.reply-call-btn > button',
          function () {
            $('.sns_comment_ipt_pop .sns-comment-ipt').addClass('active');
            $('.reply-call-btn').removeClass('on');
            $('.sns-comment-ipt .reply_write_box #counter').html(0);
          }
        );

        $('.sns_comment_ipt_pop').on(
          'click',
          '.reply-close-btn  a',
          function (e) {
            var replu_None = $(
              '.sns_comment_ipt_pop .sns-comment-ipt .ipt-re-uploaded'
            ).hasClass('is-active');
            e.preventDefault();

            $('.sns_comment_ipt_pop .sns-comment-ipt').removeClass('active');
            $('.sns_comment_ipt_pop .reply-call-btn').addClass('on');

            if (replu_None == true) {
              $(
                '.sns_comment_ipt_pop .sns-comment-ipt .ipt-re-uploaded'
              ).removeClass('is-active');
            }
          }
        );

        function putBlur() {
          var $thisTextarea = $(this);
          $('.hsome_layer_popup').on('touchstart', function (e) {
            $thisTextarea.blur();
          });
        }
      });
    </script>

    <!-- 댓글// -->
    <div class="hsome_layer_popup hs_img_upload_pop">
      <div class="pop-comm-cnts">
        <div class="swiper-container">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img
                id="reply_view_img1"
                src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                alt="" />
            </div>
            <div class="swiper-slide">
              <img
                id="reply_view_img2"
                src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                alt="" />
            </div>
          </div>
          <div class="swiper-pagination swiper-pagination-progressbar">
            <span
              class="swiper-pagination-progressbar-fill"
              style="
                transform: translate3d(0px, 0px, 0px) scaleX(1) scaleY(1);
                transition-duration: 500ms;
              "></span>
          </div>
        </div>
      </div>
      <a
        href="javascript:void(0);"
        class="pop-comm-cls"
        onclick="closUploadPop()"
        >닫기</a
      >
    </div>

    <div class="hsome_layer_popup sns_comment_pop">
      <h2 class="pop-comm-ttl">댓글(<i id="replytotalCount"></i>)</h2>
      <div class="pop-comm-cnts">
        <!-- sns-comment-cnts | 댓글 리스트// -->
        <div class="sns-comment-cnts" id="sns_post_reply_contents"></div>
        <!-- //sns-comment-cnts | 댓글 리스트 -->
      </div>
      <a href="#" class="pop-comm-cls" id="sns_commont_close">닫기</a>
    </div>

    <div class="sns_comment_ipt_pop">
      <!-- reply btn -->
      <!-- //reply btn -->

      <!-- sns-comment-ipt | 댓글 입력 영역// -->
      <!-- <div class="sns-comment-op" style="cursor: pointer;"></div> -->
      <div class="sns-comment-ipt" style="display: none">
        <form
          id="postReplyCommentform"
          name="postReplyCommentform"
          method="POST"
          enctype="multipart/form-data">
          <div class="write_form_area simple">
            <!--업로드 한 이미지가 있으면// -->
            <div class="ipt-uploaded" style="display: none">
              <span class="thumb" id="replyTempImg" style="display: none">
                <img
                  id="replyTempImgSrc"
                  src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                  alt="" />
                <a href="javascript:hideReplyTempImg();" class="del">삭제</a>
              </span>
              <span class="thumb" id="replyProductImg" style="display: none">
                <img
                  id="replyProductImgSrc"
                  src="http://www.thehandsome.com/_ui/handsomemobile/images/common/no_img.jpg"
                  alt="" />
                <a href="javascript:hideReplyProductImg();" class="del">삭제</a>
              </span>
            </div>
            <!--//업로드 한 이미지가 있으면 -->

            <div class="reply-close-btn">
              <a href="javascript:void(0);" onclick="closeReplyPop();">취소</a>
            </div>

            <div class="ipt-re-uploaded">
              <div class="re" style="display: none">
                <i></i>님에게 댓글 남기는 중
              </div>
              <div class="update" style="display: none">댓글 수정중입니다.</div>
              <!-- 	                <a href="javascript:;" class="re_close" onClick="closeReplyPop();">닫기</a> -->
            </div>

            <div class="reply-write-line" style="">
              <!-- 작성영역 -->
              <div class="reply_write_box">
                <textarea
                  name="comment"
                  id="comment"
                  cols="30"
                  rows="1"
                  placeholder="내용입력"
                  onblur="snsHideBottom();"></textarea>
                <p class="byte_check">(<span id="counter">0</span>/300)</p>
              </div>
              <!-- //작성영역 -->

              <!-- btn -->
              <div class="reply-btn-box">
                <!--
                      // 이미지 업로드 시 etc_btn 클래스에 on 클래스 추가
                      -->
                <div class="reply_etc_btn_box">
                  <div class="etc_btn img on">
                    <i class="img"></i>
                    <span>이미지 등록</span>
                    <input
                      type="file"
                      name="replyAttachFilePath"
                      id="replyAttachFilePath"
                      onchange="readURL(this)"
                      onclick="GA_Event('스타일라이브_댓글', '이미지등록', '클릭');"
                      accept="image/*" />
                  </div>
                  <div class="etc_btn prod">
                    <button
                      type="button"
                      id="origin_btn"
                      class="up"
                      onclick="getProductSearchPageInReply();GA_Event('스타일라이브_댓글', '상품검색', '클릭');">
                      <i class="prod"></i>
                      <span>상품찾기</span>
                    </button>
                    <button
                      id="new_btn"
                      style="display: none"
                      type="button"
                      class="up"
                      onclick="getProductSearchPageInReplyOnProductDetail();">
                      <i class="prod"></i>
                      <span>상품찾기</span>
                    </button>
                  </div>
                </div>
                <!-- //20200619 덧글 기타 버튼 영역 -->

                <!-- 등록버튼 -->
                <div class="reply_upload_btn_box">
                  <!-- button type="button" onClick ="postReplyCommentSubmit(event)" disabled="true">등록</button -->
                  <input type="hidden" name="snsPostId" id="snsPostId" />
                  <input type="hidden" name="replyLevel" id="replyLevel" />
                  <input type="hidden" name="replyOrder" id="replyOrder" />
                  <input type="hidden" name="productCode" id="productCode" />
                  <input
                    type="hidden"
                    name="attachFilePath"
                    id="attachFilePath" />
                  <input type="hidden" name="deleteYn" id="deleteYn" />
                  <input
                    type="hidden"
                    name="parentCommentId"
                    id="parentCommentId" />
                  <input type="hidden" name="commentId" id="commentId" />
                  <!--                     <button type="submit" disabled="true">등록</button> -->
                </div>
                <!-- //등록버튼 -->
              </div>
              <!-- //btn -->
            </div>
            <!-- 20200619 덧글 기타 버튼 영역 -->
          </div>
        </form>
      </div>
      <!-- //sns-comment-ipt | 댓글 입력 영역 -->
    </div>
    <!-- //댓글 -->

    <!-- 댓글신고 -->
    <div
      id="hs_pro_view_layer"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
      "></div>
    <div class="hsome_layer_popup04 hs_sns_reply_report_pop">
      <h2 class="pop-comm-ttl">댓글 신고</h2>
      <div class="pop-comm-cnts">
        <div class="pop_report_cont">
          <div class="hs_border_select">
            <select id="reportDivision">
              <option value="notSelected">신고 사유</option>
              <option value="ADVERTIS">광고성 글입니다.</option>
              <option value="LEWDNESS">음란물입니다.</option>
              <option value="ABUSIVE">욕설/폭력/비방글입니다.</option>
              <option value="FALSE">허위 정보입니다.</option>
              <option value="INFRINGE">지적 재산권 침해한 글입니다</option>
              <option value="DUPLICATE">중복된 내용입니다.</option>
              <option value="ETC">기타</option>
            </select>
          </div>
          <div class="hs_default_input">
            <textarea
              class="clearInput_A"
              name=""
              id="reportEctReason"
              cols="30"
              rows="6"
              maxlength="300"
              placeholder="기타 사유 입력"></textarea>
            <input type="hidden" id="reportPostId" name="reportPostId" />
            <input type="hidden" id="reportReplyId" name="reportReplyId" />
          </div>
          <p class="report_txt">댓글 삭제를 요청하시겠습니까?</p>
          <div class="hs_pop_btn_wrap mt_case">
            <button
              type="button"
              class="hs_white_comm_btn cancelbtn"
              onclick="javascript:replyReportClose()">
              취소
            </button>
            <button
              id="reportBtn"
              type="button"
              onclick="javascript:replyReportSubmit()"
              class="hs_black_comm_btn">
              확인
            </button>
          </div>
        </div>
      </div>
      <a class="pop-comm-cls" onclick="javascript:replyReportClose()">닫기</a>
    </div>
    <!-- //댓글신고 -->

    <script>
      //$("#new_btn").click(function(){ $(this).parents(".sns_comment_ipt_pop").siblings(".lp_depth1").css("z-index","1002"); });
    </script>
    <!-- 컬렉션에 담기// -->
    <div
      class="hsome_layer_popup02 hs_collection_put_pop"
      style="display: none">
      <div class="pop-comm-cnts">
        <p class="tit">콜렉션에 담기</p>
        <div class="collection_put_wrap">
          <form
            id="collectionform"
            name="collectionform"
            data-ajax="false"
            action="javascript:addCollection()"
            method="POST">
            <ul class="collection_list" id="collectionNameList"></ul>
            <!-- <p class="no_collection">생성된 콜렉션이 없습니다.</p> -->
            <div class="collection_input">
              <div class="inp">
                <input
                  type="text"
                  id="newCollectionName"
                  placeholder="새 콜렉션 이름" />
              </div>
              <div class="btn">
                <button
                  type="button"
                  class="hs_btm_btn black"
                  onclick="addCollection(event)">
                  생성
                </button>
              </div>
            </div>
            <input
              type="hidden"
              name="inputCollectionPostId"
              id="inputCollectionPostId" />
            <input
              type="hidden"
              name="inputCollectionId"
              id="inputCollectionId" />
            <div>
              <input
                type="hidden"
                name="CSRFToken"
                value="13c48883-1706-4f5a-810b-2f670f464334" />
            </div>
          </form>
        </div>
        <a href="" class="pop-comm-cls">닫기</a>
      </div>
    </div>
    <script>
      collectionform.action = 'javascript:addCollection()';
    </script>
    <!-- //컬렉션에 담기 -->
    <!-- 좋아요 목록 팝업 -->
    <div class="hsome_layer_popup hs_sns_like_pop">
      <h2 class="pop-comm-ttl">
        <i class="like"></i>좋아요<span class="normal_txt">(10)</span>
      </h2>
      <div class="pop-comm-cnts">
        <div class="hs_sns_wrap">
          <ul class="hs_sns_member_list"></ul>
        </div>
      </div>
      <div id="paging" class="hs_paging mt30 mb30"></div>
      <a href="#" class="pop-comm-cls" onclick="closeLikePop();">닫기</a>
    </div>
    <!-- //좋아요 목록 팝업 --><!-- sns공유// -->
    <div class="hsome_layer_popup02 hs_share_pop" style="display: none">
      <div class="pop-comm-cnts pop-comm-cnts-2019">
        <p class="tit">공유하기</p>
        <div class="share_link">
          <a
            class="link"
            id="shareKakaotalk"
            onclick="javascript:noLink();GA_Event('상품_상세', '공유_SNS', 'KAKAOTALK');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo02.png"
              alt="kakao talk"
          /></a>
          <a
            class="link"
            id="shareUrl"
            data-clipboard-action="copy"
            data-clipboard-text=""
            onclick="GA_Event('상품_상세', '공유_SNS', 'COPYEURL');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo03.png"
              alt="url"
          /></a>
          <a
            class="link"
            id="shareFacebook"
            onclick="javascript:fnShareFacebook();GA_Event('상품_상세', '공유_SNS', 'FACEBOOK');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo04.png"
              alt="facebook"
          /></a>
          <a
            class="link"
            id="shareTwitter"
            onclick="javascript:fnShareTwitter();GA_Event('상품_상세', '공유_SNS', 'TWITTER');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo05.png"
              alt="twitter"
          /></a>
          <a
            class="link"
            id="sharePinterest"
            onclick="javascript:fnSharePinterest();GA_Event('상품_상세', '공유_SNS', 'PINTEREST');"
            ><img
              src="http://www.thehandsome.com/_ui/handsomemobile/images/content/sns_logo06.png"
              alt="pinterest"
          /></a>
        </div>
        <a href="#" class="pop-comm-cls">닫기</a>
      </div>
    </div>
    <input type="hidden" id="shareUrl" name="shareUrl" />
    <input type="hidden" id="shareKey" name="shareKey" />
    <input type="hidden" id="shareImgUrl" name="shareImgUrl" />
    <input type="hidden" id="shareTitle" name="shareTitle" />
    <input type="hidden" id="shareDetail" name="shareDetail" />

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/clipboard.min.js"></script>
    <script type="text/javascript">
      //App, android 설정 및 공유하기를 위한 KAKAO를 init (init키는 부여받은 key를 넣어주어야 합니다.)
      $(document).ready(function () {
        if (getCookie('app') == 'ios') {
          deviceName = 'ios';
        } else if (getCookie('app') == 'android') {
          deviceName = 'android';
        } else {
          if (userAgent.search('android') > -1) {
            deviceName = 'android';
          } else if (
            userAgent.search('iphone') > -1 ||
            userAgent.search('ipod') > -1 ||
            userAgent.search('ipad') > -1
          ) {
            deviceName = 'ios';
          }
        }
        //테스트용 Key를 발급받으셔야 테스트 환경에서 카카오톡 공유하기를 할 수 있습니다. (development, staging, localhost 호스트 접속용)
        // 		Kakao.init('개발용key값');
        //TheHandsome.com 운영 Key 입니다. (www.thehandsome.com)
        // 		Kakao.init('65f184156e7c83b654f392eacf75c7ed');
        $.getScript('//developers.kakao.com/sdk/js/kakao.min.js', function () {
          if (typeof Kakao !== 'undefined') {
            Kakao.init('65f184156e7c83b654f392eacf75c7ed');
            //                 Kakao.init('bdfad1be522c19504de903a0d357b855');  //test key
          }
        }).fail(function () {
          console.log('fail');
        });
      });

      //현재 페이지 정보 변수화
      var userAgent = navigator.userAgent.toLocaleLowerCase();

      // 모든 page에서 공유버튼을 누를시 -> initShareData를 다음과같이 호출하도록 한다. initShareData(url, PK, 이미지url, title, detail) 이때 url은 ex) /ko/hssearch/smartfilter?smartFilterPk= .. 으로 오도록 설정.
      function initShareData(
        shareUrl,
        shareKey,
        shareImgUrl,
        shareTitle,
        shareDetail
      ) {
        $('.hsome_layer_popup02.hs_share_pop').show();
        shareTitle = shareTitle.replace(/\&#039;/gi, "'");
        shareTitle = shareTitle.replace(/\&amp;/gi, '&');
        shareTitle = brTagReplace(shareTitle);
        if (shareDetail == undefined) {
          shareDetail = '';
        } else {
          shareDetail = shareDetail.replace(/\&amp;/gi, '&');
          shareDetail = shareDetail.replace(/\&#039;/gi, "'");
        }
        shareUrl =
          '/mobilecommon/hsGateway?page=' + encodeURIComponent(shareUrl);
        shareKey = shareKey.replace('?', '&');

        //공유하기 시 hsGateway 페이지를 모바일로 인식 시키기위해 붙임
        if (shareKey.indexOf('uiel=Mobile') == -1) {
          shareKey = shareKey + '&uiel=Mobile';
        }

        if (shareImgUrl.indexOf('_C01')) {
          shareImgUrl = shareImgUrl.replace('_C01', '_W01');
        }
        //console.log(" shareUrl :::: "+shareUrl+"\n shareKey :::: "+shareKey+"\n shareImgUrl :::: "+shareImgUrl+"\n shareTitle :::: "+shareTitle+"\n shareDetail ::::"+shareDetail)
        $('#shareUrl').val('https://www.thehandsome.com:443' + shareUrl);
        $('#shareKey').val(shareKey);
        $('#shareImgUrl').val(shareImgUrl);
        $('#shareTitle').val(shareTitle);
        $('#shareDetail').val(shareDetail);

        var sUrl = $('#shareUrl').val() + $('#shareKey').val();
        var textUrl = sUrl.replace("'", '%27');
        var clpbrd = new ClipboardJS('#shareUrl', {
          text: function (data) {
            return textUrl;
          },
        });
        clpbrd.on('success', function (e) {
          var la = new layerAlert('URL이 복사되었습니다.');
          e.clearSelection();
        });
        clpbrd.on('error', function (e) {
          console.log(e);
          var la = new layerAlert('URL이 복사되었습니다.');
        });

        var sUrl = $('#shareUrl').val() + $('#shareKey').val();
        var sImg = $('#shareImgUrl').val();
        var sTxt = $('#shareTitle').val();
        var sDes = $('#shareDetail').val();
        var url = sUrl.replace("'", '%27');

        Kakao.Link.createDefaultButton({
          container: '#shareKakaotalk',
          objectType: 'feed',
          content: {
            title: sTxt,
            description: sDes,
            imageUrl: sImg,
            link: {
              mobileWebUrl: url,
              webUrl: url,
            },
            imageWidth: 282,
            imageHeight: 426,
          },
          buttons: [
            {
              title: '더보기',
              link: {
                mobileWebUrl: sUrl,
                webUrl: sUrl,
              },
            },
          ] /* ,
       success: function(data) {
         Kakao.Link.cleanup();
       } */,
        });
      }

      // 	function fnShareKakaotalk(){
      // 		Kakao.Link.cleanup();
      // 	}

      function fnShareFacebook() {
        var sUrl = $('#shareUrl').val() + $('#shareKey').val();
        var sImg = $('#shareImgUrl').val();
        var sTxt = $('#shareTitle').val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, '&');
        var href =
          'http://www.facebook.com/sharer.php?u=' + encodeURIComponent(sUrl);
        var a = window.open(href, 'facebook', '');
        if (a) {
          a.focus();
        }
      }
      function fnShareTwitter() {
        var sUrl = $('#shareUrl').val() + $('#shareKey').val();
        var sImg = $('#shareImgUrl').val();
        var sTxt = $('#shareTitle').val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, '&');

        var href =
          'http://twitter.com/share?url=' +
          encodeURIComponent(sUrl) +
          '&text=' +
          encodeURIComponent(sTxt);
        var a = window.open(href, 'twitter', '');
        if (a) {
          a.focus();
        }
      }

      function fnSharePinterest() {
        var sUrl = $('#shareUrl').val() + $('#shareKey').val();
        var sImg = $('#shareImgUrl').val();
        var sTxt = $('#shareTitle').val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, '&');

        var href =
          'http://www.pinterest.com/pin/create/button/?url=' +
          sUrl +
          '&media=' +
          sImg +
          '&description=' +
          encodeURIComponent(sTxt);
        var a = window.open(href, 'pinterest', 'width=800, height=500');
        if (a) {
          a.focus();
        }
      }

      function fnShareHpoint() {
        var sUrl = $('#shareUrl').val() + $('#shareKey').val();
        var sImg = $('#shareImgUrl').val();
        var sTxt = $('#shareTitle').val();
        sTxt = sTxt.replace(/\&#039;/gi, "'");
        sTxt = sTxt.replace(/\&amp;/gi, '&');

        var isAndroid = navigator.userAgent.indexOf('Android') > -1;
        var isIOS =
          navigator.userAgent.indexOf('iPhone') > -1 ||
          navigator.userAgent.indexOf('iPad') > -1;

        //hpPoint 어플 기존에 hpShareUrl로 컨트롤러 영역에서 받도록 되어있는데, 현재 공통모듈로 설정되면서 어느부분에서 hpshareUrl를 설정해야하는지 의문
        var hpShareUrl = 'hpoint://timeLineReg?writeGbcd=05';
        // 		var hpShareUrl = "";
        var customUrlScheme =
          hpShareUrl +
          '&linkUrl=' +
          encodeURIComponent(sUrl) +
          '&shrCntn=' +
          encodeURIComponent(sTxt) +
          '&shrImgUrl=' +
          encodeURIComponent(sImg);
        var storeURL = '';

        if (isAndroid) {
          storeURL = 'market://details?id=kr.co.hpoint.hdgm';
          var visitedAt = new Date().getTime(); // 방문 시간

          if (getCookie('app') == 'android') {
            var ifr = document.all['uriFrame'];
            if (ifr != null) {
              ifr.src =
                'intent:' +
                customUrlScheme +
                '#Intent;package=kr.co.hpoint.hdgm;end;'; // url : URL scheme(Custom scheme)
            }
          } else if (userAgent.match(/Chrome/)) {
            // 안드로이드의 크롬에서는 intent만 동작하기 때문에 intent로 호출해야함
            setTimeout(function () {
              location.href =
                'intent:' +
                customUrlScheme +
                '#Intent;package=kr.co.hpoint.hdgm;end;';
            }, 1000);
          } else {
            // 크롬 이외의 브라우저들
            setTimeout(function () {
              if (new Date().getTime() - visitedAt < 2000) {
                location.href = storeURL;
              }
            }, 500);

            var ifr = document.all['uriFrame'];
            if (ifr != null) {
              ifr.src = customUrlScheme; // url : URL scheme(Custom scheme)
            }
          }
        } else {
          storeURL =
            'https://itunes.apple.com/kr/app/h-point/id1255389331?l=ko&ls=1&mt=8';
          var visitedAt = new Date().getTime(); // 방문 시간

          setTimeout(function () {
            if (new Date().getTime() - visitedAt < 2000) {
              location.href = storeURL;
            }
          }, 500);

          setTimeout(function () {
            location.href = customUrlScheme;
          }, 0);
        }
      }

      function getCookie(cName) {
        cName = cName + '=';
        var cookieData = document.cookie;
        var start = cookieData.indexOf(cName);
        var cValue = '';
        if (start != -1) {
          start += cName.length;
          var end = cookieData.indexOf(';', start);
          if (end == -1) end = cookieData.length;
          cValue = cookieData.substring(start, end);
        }
        return unescape(cValue);
      }

      function isSafariBrowser() {
        var isSafari = navigator.userAgent.toLowerCase().indexOf('safari') > -1;
        var isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
        if (isSafari == true) {
          if (isChrome == true) {
            isSafari = false;
          }
        }

        return (
          Object.prototype.toString
            .call(window.HTMLElement)
            .indexOf('Constructor') > 0 || isSafari
        );
      }

      function brTagReplace(stringVal) {
        stringVal = stringVal.replace(/<br>/gi, ' ');
        stringVal = stringVal.replace(/<\/br>/gi, ' ');
        stringVal = stringVal.replace(/<br\/>/gi, ' ');
        stringVal = stringVal.replace(/&lt;br&gt;/gi, ' ');
        stringVal = stringVal.replace(/&lt;\/br&gt;/gi, ' ');
        stringVal = stringVal.replace(/&lt;br\/&gt;/gi, ' ');

        return stringVal;
      }
    </script>
    <!-- //sns공유 -->
    <!-- loading_layerpop s -->
    <!-- layerpop_wrap | 처리중 s -->
    <div class="layerpop_wrap loading_layer_wrap">
      <!-- layerpop_middle s -->
      <div class="lyrpp_mid">
        <div class="loading_box"></div>
      </div>
      <!-- layerpop_middle e -->
    </div>
    <!-- layerpop_wrap | 처리중 e -->

    <!-- 스타일라이브 팝업 20211001 S -->

    <!-- 이미 참여하셨습니다. S -->
    <div
      class="stlv-mob-stlv-20211001--popup already-participated"
      style="display: none">
      <div class="stlv-mob-stlv-20211001--contents">
        <img
          src="http://cdn.thehandsome.com/mobile/promotion/handsome_202109/stlv_mob_modal_01.jpg"
          alt="" />
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--link1"
          href="/ko/mypage/voucher"
          >나의 쿠폰함</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed1"
          href="javascript:void(0);"
          >닫기</a
        >
      </div>
    </div>
    <!-- 이미 참여하셨습니다. E -->

    <!-- 대상이 아닙니다 S -->
    <div
      class="stlv-mob-stlv-20211001--popup not-a-valid-participant"
      style="display: none">
      <div class="stlv-mob-stlv-20211001--contents">
        <img
          src="http://cdn.thehandsome.com/mobile/promotion/handsome_202109/stlv_mob_modal_02_1.jpg"
          alt="" />
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed1"
          href="javascript:void(0);"
          >닫기</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--link2"
          href="https://www.h-point.co.kr/cu/join/start.nhd?prtnrId=D080&amp;chnnlId=1705"
          >통합회원 가입</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed2"
          href="javascript:void(0);"
          >닫기</a
        >
      </div>
    </div>
    <!-- 대상이 아닙니다 E -->

    <!-- 참여해주셔서 감사합니다 S -->
    <div
      class="stlv-mob-stlv-20211001--popup thanks-to-participate"
      style="display: none">
      <div class="stlv-mob-stlv-20211001--contents">
        <img
          src="http://cdn.thehandsome.com/mobile/promotion/handsome_202109/stlv_mob_modal_03.jpg"
          alt="" />
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--link3"
          href="/ko/mypage/voucher"
          >나의 쿠폰함</a
        >
        <a
          class="stlv-mob-stlv-20211001--button stlv-mob-stlv-20211001--closed3"
          href="javascript:void(0);"
          >닫기</a
        >
      </div>
    </div>
    <!-- 참여해주셔서 감사합니다 E -->

    <script>
      $(document).ready(function () {
        // 모달 닫기
        $(
          '.stlv-mob-stlv-20211001--closed1, .stlv-mob-stlv-20211001--closed2, .stlv-mob-stlv-20211001--closed3'
        ).on('click', function () {
          $('.stlv-mob-stlv-20211001--popup').css('display', 'none');
          setTimeout(function () {
            $('.hsome_quickMenu').removeClass('active');
            //작성 후 메인으로 이동한 뒤 포스트 팝업을 위한 쿠키값 셋팅
            setCookie('isWriteAfter', 'Y', 1);
            location.href = '/ko/sns/main?isWriteAfter=true';
            hideLoadingLp();
          }, 1000);
        });
      });
    </script>

    <!-- 스타일라이브 팝업 20211001 E -->

    <!-- 결제시도시 처리중 layper 별도 표시 200217 nih -->
    <div
      class="pop_loading_oneclick200210_wrap"
      style="
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9998;
        display: none;
      ">
      <div
        class="pop_loading_oneclick200210"
        style="
          background: #222;
          width: 90%;
          height: 120px;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate3d(-50%, -50%, 0);
          z-index: 9999;
        ">
        <img
          src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/Spinner_1s_105px.png"
          alt="loading"
          style="
            display: block;
            width: 32px;
            height: 32px;
            margin: 30px auto 15px auto;
          " />
        <p style="color: #fff; text-align: center">
          <span style="color: #fff; font-size: 15px">처리중입니다.</span>
        </p>
      </div>
    </div>

    <!-- layerpop_wrap | 이미지 업로드 처리중 sns별도사용 s -->
    <div class="layerpop_wrap loading_layer_wrap2004" style="display: none">
      <!-- layerpop_middle s -->
      <div class="lyrpp_mid">
        <div class="loading_box2004">
          <img
            src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/Spinner_1s_105px.png"
            alt="loading_bar" />
          <p class="loading_txt">이미지가 업로드 중입니다.</p>
        </div>
      </div>
      <!-- layerpop_middle e -->
    </div>
    <!-- layerpop_wrap | 이미지 업로드 처리중 sns별도사용e -->
    <!-- layerpop_wrap | 유사상품 처리중 별도사용 s -->
    <div class="layerpop_wrap loading_rel_layer_wrap" style="display: none">
      <!-- layerpop_middle s -->
      <div class="lyrpp_mid">
        <div class="loading_box"></div>
      </div>
      <!-- layerpop_middle e -->
    </div>
    <!-- layerpop_wrap | 유사상품 처리중 별도사용 e -->

    <!-- loading_layerpop e -->
    <!-- hsome_layer_menu_contents | 레이어팝업메뉴 컨텐츠 영역 e -->
    <!-- layerpopupContent e -->
    <form
      id="chatbotForm"
      action="https://talk.thehandsome.com/front/v1/jsp/view/chat.jsp"
      method="post"
      target="chatwindow">
      <input type="hidden" name="token" id="chatbot_token" />
      <input type="hidden" name="talkId" id="chatbot_talkId" />
      <div>
        <input
          type="hidden"
          name="CSRFToken"
          value="13c48883-1706-4f5a-810b-2f670f464334" />
      </div>
    </form>
    <input type="hidden" name="isChcked" id="isChcked" value="" />
    <input type="hidden" name="pushCd" id="pushCd" value="" />
    <input type="hidden" name="pushVal" id="pushVal" value="" />
    <script>
      $(document).ready(function () {
        $('.our_privacy_info_btn').click(function () {
          $('.m_popModalBg_ldg').show();
          $('.privacy_info_popwrap_01').show();
          $('#contents').hide();
        });
        $('.privacy_info_popwrap_01 .b-close').click(function () {
          $('.m_popModalBg_ldg').hide();
          $('.privacy_info_popwrap_01').hide();
          $('#contents').show();
          $('#agree02').focus();
        });
        if (document.addEventListener) {
          window.addEventListener('pageshow', function (event) {
            if (
              event.persisted ||
              performance.getEntriesByType('navigation')[0].type ==
                'back_forward'
            ) {
              location.href = '/ko/checkout/movePreviousPage';
            }
          });
        }

        setEcommerceData('Checkout1(바로주문)');

        // 20220729 그루비 스크립트 추가

        groobee('OR', {
          goods: [
            {
              name: '린넨 블렌드 오버사이즈 재킷',
              code: 'CM2D1WOT105W',
              amt: '745000',
              prc: '745000',
              salePrc: '745000',
              cnt: '1',
              cat: 'WE051',
              cateNm: '재킷',
              catL: 'WE',
              cateLNm: '여성',
              catM: 'WE05',
              cateMNm: '아우터 ',
              catS: 'WE051',
              cateSNm: '재킷',
              catD: '',
              cateDNm: '',
              brand: 'BR08',
              brandNm: 'the CASHMERE',
            },
            {
              name: '린넨 블렌드 오버사이즈 재킷',
              code: 'CM2D1WOT105W',
              amt: '745000',
              prc: '745000',
              salePrc: '745000',
              cnt: '1',
              cat: 'WE051',
              cateNm: '재킷',
              catL: 'WE',
              cateLNm: '여성',
              catM: 'WE05',
              cateMNm: '아우터 ',
              catS: 'WE051',
              cateSNm: '재킷',
              catD: '',
              cateDNm: '',
              brand: 'BR08',
              brandNm: 'the CASHMERE',
            },
          ],
        });
      });
    </script>
    <!-- Google 리마케팅 태그 코드 -->
    <script type="text/javascript">
      /* <![CDATA[ */
      var google_conversion_id = 943253288;
      var google_custom_params = window.google_tag_params;
      var google_remarketing_only = true;
      /* ]]> */
    </script>
    <script
      type="text/javascript"
      src="//www.googleadservices.com/pagead/conversion.js"></script>
    <noscript>
      <div style="display: inline">
        <img
          height="1"
          width="1"
          style="border-style: none"
          alt=""
          src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/943253288/?value=0&amp;guid=ON&amp;script=0" />
      </div>
    </noscript>

    <!-- 버츄 사이즈 공통스크립트 -->
    <script type="text/javascript">
      var virtusizeViewYn = false;

      virtusizeViewYn = true;

      if (virtusizeViewYn) {
      }
    </script>
    <!-- 버츄 사이즈 공통스크립트 -->

    <div class="popback_200229" id="popback_200229" style="display: none">
      <div class="bg200229"></div>
      <!-- m_deilv_pop -->
      <div class="m_deilv_pop">
        <!-- btn_close -->
        <a href="javascript:void(0);" class="btn_close200229"
          ><img
            src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common_sub/ico_close_14.png"
        /></a>
        <!-- //btn_close -->
        <!-- Title1 -->
        <h3>택배사를 선택해주세요</h3>
        <!-- //Title1 -->
        <p class="m_deily_txt">
          두 택배사의 배송비와 예상 배송일은 동일합니다.<br />
          평소 선호하시는 택배사를 선택해주세요.
        </p>
        <p
          class="m_deily_notice"
          style="
            margin-bottom: 12px;
            color: #222222;
            font-style: normal;
            font-weight: normal;
          ">
          THE STAR, STAR, MANIA 등급 대상 (선택사항)
        </p>
        <!-- mdeilvy_box -->
        <div class="mdeilvy_box">
          <!-- mdeilvy_con -->
          <div class="mdeilvy_con">
            <label class="check_style">
              <input type="radio" name="deilvy_rdo" id="deilvy_rdo01" />
              <span
                ><img
                  src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common_sub/m_txt_deilvery_001_0227.jpg"
                  alt=""
              /></span>
              <p class="ab-impor">※ 토요일 출고 불가</p>
            </label>
          </div>
          <!-- // mdeilvy_con -->
          <!-- mdeilvy_con -->
          <div class="mdeilvy_con">
            <label class="check_style">
              <input type="radio" name="deilvy_rdo" id="deilvy_rdo02" />
              <span
                ><img
                  src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common_sub/m_txt_deilvery_002_0227.jpg"
                  alt=""
              /></span>
              <p class="ab-impor">※ 토요일 출고 가능</p>
            </label>
          </div>
          <!-- // mdeilvy_con -->
        </div>
        <!-- // mdeilvy_box -->

        <div class="check_stl chks_200229">
          <input type="checkbox" class="nshow" id="nshow" name="nshow" />
          <label for="nshow">지금 선택한 택배사를 다음에도 사용합니다.</label>
        </div>

        <a class="btn_confirm_200229" href="javascript:void(0);">확인</a>
      </div>
      <!-- // m_deilv_pop -->
    </div>
    <!-- // 택배사 선택 팝업 -->
    <!-- 앱 유도 팝업 -->
    <div class="app_pop200303" style="display: none">
      <p class="app_top_txt">
        <img
          src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/txt_apphs01_200303.png"
          alt="" />
      </p>
      <div class="appbox">
        <div class="appbox_con">
          <img src="" alt="" />
        </div>
        <img
          class="apphs"
          src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/img_apphs_200303.png"
          alt="" />
      </div>
      <p class="app_coupon_txt">
        <img
          src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/txt_apphs02_200330.png"
          alt="" />
      </p>
      <a class="appbtns" href="javascript:appUseCheck();"
        ><img
          src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/btn_apphs_ph200303.gif"
          alt=""
      /></a>
      <a class="no_appbtns" href="javascript:mobileWebView();"
        ><img
          src="http://cdn.thehandsome.com/_ui/handsomemobile/images/common/txt_apphs03_200303.png"
          alt=""
      /></a>
    </div>
    <!-- // 앱 유도 팝업 -->
    <!-- // 팝업 -->

    <div
      id="mainPopwrap1908"
      style="
        position: absolute;
        top: 50%;
        left: 50%;
        width: 90%;
        transform: translate(-50%, -50%);
        z-index: 999;
      "></div>
    <div class="noti_popup190906_dim" style="display: none"></div>
    <div
      class="b-modal __b-popup1__"
      style="
        background-color: rgb(0, 0, 0);
        position: fixed;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        opacity: 0.5;
        z-index: 9998;
        display: none;
      "></div>
    <div
      class="b-modal __b-apppopup1__"
      style="
        background-color: rgb(0, 0, 0 / 0%);
        position: fixed;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        opacity: 0.5;
        z-index: 9998;
        display: none;
      "></div>

    <!-- Mobile Smart Banner for Anroid Device -->
    <script defer="defer">
      var appDownPopContentHtml = '';
      $(document).ready(function () {
        if ('N' == 'N') {
          var linkGateway = window.sessionStorage.getItem('linkGateway');
          var mobileWebView = getCookie('mobileWebView');
          if (mobileWebView == '' && linkGateway == 'Y') {
            appDownPopContentHtml += '<div class="app-down-popup-wrap">';
            appDownPopContentHtml += '	<div class="app-down-popup-box">';
            appDownPopContentHtml += '		<div class="ad-guide">';
            appDownPopContentHtml +=
              '			<i class="logo"><img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/popup/apppop_logo.png" alt="HAND SOME"></i>';
            appDownPopContentHtml += '			<P class="con">';
            appDownPopContentHtml += '				더한섬닷컴 앱으로<br>';
            appDownPopContentHtml += '				첫 구매 시<br>';
            appDownPopContentHtml += '				<strong>3만원 쿠폰</strong> 증정';
            appDownPopContentHtml += '			</P>';
            appDownPopContentHtml += '		</div>';
            appDownPopContentHtml +=
              '		<div class="btn"><a href="javascript:appUseCheck();"><span>앱 설치하고 쿠폰 받기</span><i class="icon"></i></a></div>';
            appDownPopContentHtml +=
              '		<a class="web-quick">모바일 웹으로 보기</a>';
            appDownPopContentHtml += '	</div>';
            appDownPopContentHtml += '</div>';

            $('.b-modal.__b-popup1__').show();
            $('.hsome_allContents_wrapper').after(appDownPopContentHtml);
            window.sessionStorage.removeItem('linkGateway');
          }

          $('.app-down-popup-wrap').on('click', '.web-quick', function () {
            var $popupWrap = $(this).parents('.app-down-popup-wrap');
            $popupWrap.hide();

            $('.b-modal.__b-popup1__').hide();
            if ($('.hsome_quickMenu').length == 0) {
              if (appDownPopContentHtml != '') {
                holdBodyHide();
              }
            }
            // 					window.sessionStorage.removeItem("linkGateway");
            // 					setMobileWebViewCookie("mobileWebView", "Y", 1);
          });
        } else {
          $.ajax({
            url: '/ko/common/checkFirstAppIssueYn',
            type: 'get',
            dataType: 'json',
            success: function (result) {
              if (result) {
                $.ajax({
                  url: '/ko/common/checkAppBuyYn',
                  type: 'get',
                  dataType: 'json',
                  success: function (result) {},
                  error: function (e) {},
                });
              }
            },
            error: function (e) {},
          });
        }

        var tempDate = '2022/09/16 10:00:00';
        if (location.href.indexOf('www.thehandsome.com') == -1) {
          //test
          tempDate = '2022/09/06 10:00:00';
        }

        var todayDate = new Date();
        var startDate = new Date(tempDate),
          endDate = new Date('2022/09/22 23:59:59');
        if (
          todayDate.getTime() >= startDate.getTime() &&
          todayDate.getTime() <= endDate.getTime()
        ) {
          // 노출페이지 : 정상/아울렛 상품상세페이지, 기획전 (상세), 더매거진(상세)
          var uid = 'ordersheet';

          var chkPage = [
            'hsProductDetailPage',
            'editorialDetailPage',
            'productList',
          ];
          var target_url = document.location.href;

          if (getCookie('mapleEventPopup') != todayDate.getDate()) {
            if (
              chkPage.indexOf(uid) > -1 ||
              target_url.indexOf('/magazine/exhibitions/') > -1
            ) {
              $.ajax({
                url: '/ko/magazine/getLeavesEventRandom',
                type: 'get',
                dataType: 'json',
                data: { pk: '8804481881984', tdate: '' },
                success: function (data) {
                  // 		                        console.log(data);

                  if (data != '11') {
                    var leafType = 'leaf_01';
                    if (
                      data == '1' ||
                      data == '2' ||
                      data == '3' ||
                      data == '4'
                    ) {
                      leafType = 'leaf_01';
                    } else if (data == '5' || data == '6' || data == '7') {
                      leafType = 'leaf_03';
                    } else if (data == '8' || data == '9' || data == '10') {
                      leafType = 'leaf_02';
                    }

                    var innerHtml = '<div class="evt_minipop_maple">';
                    innerHtml +=
                      '    <div class="blsmflw1 ' +
                      leafType +
                      '" onclick="javascript:setPlayLeaves(' +
                      data +
                      ')">';
                    innerHtml += '        <a></a>';
                    innerHtml += '        <span>행운의 단풍잎 줍기!</span>';
                    innerHtml += '    </div>';
                    innerHtml +=
                      '    <div class="today_close" style="position:absolute;bottom:-4.133vw;left:0px;width:100%;">';
                    innerHtml +=
                      '        <label for="justDay1" style="cursor:pointer;color:#000;letter-spacing:-.5px;font-size:2.933vw">오늘 하루 보지 않기</label>';
                    innerHtml +=
                      '        <input id="justDay1" type="checkbox" name="day_close" value="오늘 하루 보지 않기" style="display:none">';
                    innerHtml +=
                      '        <a href="javascript:mapleEvtPopClose()" alt="닫기" style="background:url(\'http://cdn.thehandsome.com/_ui/desktop/common/images/common/btn_close.png\') no-repeat; background-size: cover; display:block; position:absolute; bottom:2.5px; right:3px; width:3.067vw; height:3.067vw; z-index:2;">&nbsp;</a>';
                    innerHtml += '    </div>';
                    innerHtml += '</div>';

                    $('.hsome_allContents_wrapper').before(innerHtml);
                  }
                },
                error: function (e) {
                  //
                },
              });
            }
          }
        }
      });

      $(window).load(function () {
        if ($('.hsome_quickMenu').length == 0) {
          if (appDownPopContentHtml != '') {
            holdBodyShow();
          }
        }
      });

      function appUseCheck() {
        var userAgent = navigator.userAgent.toLocaleLowerCase();
        var url = 'https://www.thehandsome.com:443/ko/checkout/ordersheet';
        var openAt = new Date().getTime(); // 방문 시간
        var customUrlScheme = 'page?url=' + encodeURIComponent(url);

        if (userAgent.match(/android/)) {
          if (userAgent.match(/chrome/)) {
            // 				location.href = "intent://"+customUrlScheme+"#Intent;scheme=thehandsome;package=com.handsome.thehandsome;end";
            location.href =
              'https://play.google.com/store/apps/details?id=com.handsome.thehandsome';
          } else {
            setTimeout(function () {
              if (new Date().getTime() - openAt < 2500) {
                location.href =
                  'https://play.google.com/store/apps/details?id=com.handsome.thehandsome';
              }
            }, 2000);

            var iframe = document.createElement('iframe');
            iframe.style.visibility = 'hidden';
            iframe.src = customUrlScheme;
            document.body.appendChild(iframe);
            document.body.removeChild(iframe);
          }
        } else {
          // 			customUrlScheme = "thehandsome://page?url="+encodeURIComponent(url);
          // 			var visitedAt = +new Date;
          // 			checkAppTimer = setTimeout(function() {
          // 				if (+new Date - visitedAt < 2500) {
          // 					location.href = "https://itunes.apple.com/kr/app/itunes-connect/id1072288949?mt=8";
          // 				}
          // 			}, 2000);

          //			location.href = "thehandsome://" + customUrlScheme;
          //			location.href = "http://thehandsome.com/" + customUrlScheme;
          //			location.href = "https://demo.newfrom.net/" + customUrlScheme;

          //			location.href = "https://demo.newfrom.net/thehandsome_ios.html" + customUrlScheme;
          // 			location.href = customUrlScheme;
          // 			window.setTimeout(function () {
          window.location.replace(
            document.head.querySelector('[name=fallbackUrl]').content
          );
          // 			}, 3000);

          //			location.href = "http://thehandsome.com/intro/appLink" + customUrlScheme;
          //			location.href = "http://development.thehandsome.com/_ui/appLink.html" + customUrlScheme;
          //			location.href = "https://newmedia.thehandsome.com/appLink.html" + customUrlScheme;
        }
      }

      function executeAppOrGoStore() {
        var openAt = new Date(),
          uagentLow = navigator.userAgent.toLocaleLowerCase(),
          chrome25,
          kitkatWebview;

        setTimeout(function () {
          if (new Date() - openAt < 4000) {
            if (uagentLow.search('android') > -1) {
              location.href =
                'https://play.google.com/store/apps/details?id=com.handsome.thehandsome';
            } else if (uagentLow.search('iphone') > -1) {
              location.replace(
                'https://itunes.apple.com/kr/app/itunes-connect/id1072288949?mt=8'
              );
            }
          }
        }, 1000);

        if (uagentLow.search('android') > -1) {
          document.location.href = 'thehandsometransfer://applink?version=1.1';
        } else if (uagentLow.search('iphone') > -1) {
          var isSafari =
            navigator.userAgent.toLowerCase().indexOf('safari') > -1;
          var isChrome =
            navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
          if (isSafari) {
            if (isChrome) {
              isSafari = false;
            } else {
              if (navigator.userAgent.toLowerCase().indexOf('crios') > -1) {
                isSafari = false;
              }
            }
          }

          if (isSafari) {
            location.replace('thehandsomePayment://1072288949');
          } else {
            document.location.href = 'thehandsomePayment://1072288949';
          }
        }
      }

      function mobileWebView() {
        //$(".app_pop200303").hide();
        //$(".noti_popup190906_dim").hide();
        $('.b-modal.__b-popup1__').hide();
        if ($('.hsome_quickMenu').length == 0) {
          if (appDownPopContentHtml != '') {
            holdBodyHide();
          }
        }
        setMobileWebViewCookie('mobileWebView', 'Y', 1);
      }

      //쿠키 생성
      function setExternalCookie(cName, cValue, cDay) {
        var currentDate = new Date();
        var expire = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth(),
          currentDate.getDate() + cDay,
          0,
          0,
          0
        );
        cookies = cName + '=' + escape(cValue) + '; path=/ ';
        if (typeof cDay != 'undefined')
          cookies += ';expires=' + expire.toGMTString() + ';';
        document.cookie = cookies;
      }

      //쿠키 생성
      function setMobileWebViewCookie(cName, cValue, cDay) {
        var currentDate = new Date();
        var expire = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth(),
          currentDate.getDate() + cDay,
          0,
          0,
          0
        );
        cookies = cName + '=' + escape(cValue) + '; path=/ ';
        if (typeof cDay != 'undefined')
          cookies += ';expires=' + expire.toGMTString() + ';';
        document.cookie = cookies;
      }

      // 현재 정보 가져오기
      function getCurrentlyInfo() {
        $.ajax({
          url: '/ko/intro/getCurrentlyInfo',
          dataType: 'json',
          type: 'get',
          cache: false,
          dataType: 'json',
          contentType: 'application/json',
          success: function (data) {
            // 장바구니
            $('.h_gnbMenu > .cart i').html(data.cartCount);
            // 푸터 로그인
            if ('Y' == data.loginYn) {
              // 로그인
              if ($('.login').length > 0) {
                for (var i = 0; i < $('.login').length; i++) {
                  $('.login')
                    .parent()
                    .eq(i)
                    .html(
                      '<a href="javascript:ftLogout();" class="login" style="float:left;" onclick="GA_Event(\'공통\', \'푸터_메뉴\', \'로그아웃\');">로그아웃<!-- 로그아웃 --></a>'
                    );
                }
              }

              if ('mobileMain201908Page' == 'ordersheet') {
                // 메인
                // 챗봇
                var v_html = '<ul>';
                v_html +=
                  '<li id="chatbot" class="chatbot"><a href="#;" onclick="callChatbot();GA_Event(\'공통\', \'퀵버튼\', \'챗봇\');">하니톡</a></li>';
                v_html += '</ul>';
                v_html +=
                  '<div class="fix_b_btn" style="display:block">&nbsp;</div>';
                v_html +=
                  "<div class=\"top_btn\" onclick=\"javascript:goToTop();GA_Event('공통', '퀵버튼', 'TOP');\">맨 위로</div>";
                $('.main1909_fix_b_btn_wrap').html(v_html);

                if ('Y' == data.vipYn) {
                  $('#chatbot').show();
                  $('.main1909_fix_b_btn_wrap .fix_b_btn').show();
                } else {
                  var hour = new Date().format('HHmm');
                  var weekName = new Date().format('E');

                  if (
                    weekName != '일요일' &&
                    weekName != '토요일' &&
                    hour >= '0900' &&
                    hour <= '1800'
                  ) {
                    //일반
                    $.ajax({
                      type: 'POST',
                      url: '/ko/chatbot/chkholiday',
                      data: {
                        CSRFToken: '13c48883-1706-4f5a-810b-2f670f464334',
                      },
                      async: false,
                      success: function (result) {
                        if (result == false) {
                          //일반 : CREW, FRIEND, 간편회원일경우, 공휴일 체크
                          $('.main1909_fix_b_btn_wrap .fix_b_btn').hide();
                          $('#chatbot').hide();
                        } else {
                          $('#chatbot').show();
                          $('.main1909_fix_b_btn_wrap .fix_b_btn').show();
                        }
                      },
                      error: function (request, statuss, error) {
                        console.log(e);
                      },
                    });
                  } else {
                    $('.main1909_fix_b_btn_wrap .fix_b_btn').hide();
                    $('#chatbot').hide();
                  }
                }
                // 하니톡 플러스버튼
                $('.main1909_fix_b_btn_wrap .fix_b_btn').click(function () {
                  $('.main1909_fix_b_btn_wrap ul').toggleClass('active');
                  $('.main1909_fix_b_btn_wrap .fix_b_btn').toggleClass('spin');
                });
              }
            } else {
              // 로그아웃
              if ($('.login').length > 0) {
                for (var i = 0; i < $('.login').length; i++) {
                  $('.login')
                    .parent()
                    .eq(i)
                    .html(
                      '<a href="/ko/member/login" class="login" style="float:left;" onclick="GA_Event(\'공통\', \'푸터_메뉴\', \'로그인\');">로그인<!--로그인--></a>'
                    );
                }
              }
            }
          },
          error: function (e) {
            console.log(e);
          },
        });
      }

      function setCategoryNameInKO(targetCateCode, defaultCateName) {
        var cates =
          'AS|잡화^AS011|부츠^AS012|로퍼/블로퍼^AS013|스니커즈^AS014|플랫^AS015|힐/슬링백^AS016|샌들/슬라이드^AS017|기타 슈즈^AS02|남성슈즈^AS021|부츠^AS022|포멀슈즈^AS023|스니커즈^AS024|샌들/슬라이드^AS025|기타 슈즈^AS03|여성백^AS031|토트백^AS032|숄더/크로스바디백^AS033|클러치 백^AS034|기타 백^AS041|토트백^AS042|숄더/크로스바디백^AS043|클러치 백^AS044|기타 백^AS051|머플러^AS052|스카프^AS061|이어링/커프^AS062|목걸이^AS063|팔찌^AS064|반지^AS065|기타 주얼리^AS071|모자^AS072|양말^AS073|장갑^AS074|벨트^AS075|지갑^AS076|헤어ACC^AS077|테크ACC^AS078|기타소품^BE011|토너/에멀전/크림^BE012|세럼/앰플/오일/밤^BE013|클렌징/스크럽/마스크^BE021|페이스 메이크업^BE023|립 메이크업^BE031|핸드·바디로션/크림/오일^BE032|핸드·바디워시/스크럽^BE033|샴푸/컨디셔너^BE034|트리트먼트/오일/스프레이^BE035|기타 바디/헤어케어^BE041|향수^EG02|감사^GF011|아우터^GF012|가디건/베스트^GF013|탑^GF014|스커트/원피스^GF015|팬츠^GF021|아우터^GF022|베스트^GF023|탑^GF024|팬츠^GF031|골프백^GF032|골프화^GF033|모자^GF034|장갑^GF035|양말^GF036|벨트^GF037|기타^LS011|패브릭^LS012|프래그런스^LS013|데코레이션^LS014|기타소품^LS022|욕실용품^LS031|그릇^LS032|보드/트레이^LS033|커트러리^LS034|커피/티^LS035|패브릭/냅킨^LS036|기타소품^LS041|문구^LS042|책^LS043|기타소품^LS051|패션^LS061|의류^LS062|잡화^ME011|티셔츠^ME012|셔츠^ME013|니트^ME014|스웨터^ME015|가디건/베스트^ME021|루즈/테이퍼드^ME022|데님^ME023|쇼츠^ME025|슬림/스트레이트^ME028|조거/트랙^ME031|재킷^ME032|점퍼^ME033|트렌치코트^ME034|코트^ME035|다운/패딩^ME041|드레스셔츠^ME042|수트재킷^ME044|수트팬츠^ME093|SYSTEM HOMME : TYPE 2^ME095|TIME HOMME : ONLINE EXCLUSIVE^WE011|티셔츠^WE012|블라우스^WE013|셔츠^WE014|니트^WE015|가디건/베스트^WE021|캐주얼^WE022|포멀^WE023|데님^WE024|쇼츠^WE031|미니 스커트^WE032|펜슬 스커트^WE033|플레어 스커트^WE034|롱/맥시 스커트^WE041|미니 드레스^WE042|미디 드레스^WE043|롱/맥시 드레스^WE051|재킷^WE052|점퍼^WE053|트렌치 코트^WE054|코트^WE055|다운/패딩^WE091|OBZEE : ICONIC OBZEE^WE092|TIME : SIGNATURE SUIT^WE095|FOURM THE STORE: EXCLUSIVE^WE096|FOURM STUDIO : RE:STUDIO^WE098|SYSTEM : PARIS PRESENTATION^WE09F|SYSTEM : 한국타이어 COLLABORATION^WE09N|SJSJ : Wheat Capsule^WE09Q|LATT : VISIONARY COLLECTION^WE09S|SYSTEM : MODULAR COMFORT^WE102|점퍼/가디건^WE106|스커트'; //WE011|티셔츠^WE012|블라우스^...
        var cateArr = null;
        var returnCateName = '';
        if (targetCateCode != '') {
          if (cates != '') {
            cateArr = cates.split('^');
            if (cateArr.length > 0) {
              $(cateArr).each(function (idx) {
                if (cateArr[idx] != '') {
                  // WE011|티셔츠
                  var compareCate = cateArr[idx].split('|');
                  if (compareCate.length == 2) {
                    // code | name
                    var compareCateCode = compareCate[0]; //WE011
                    if (
                      compareCateCode.toUpperCase() ==
                      targetCateCode.toUpperCase()
                    ) {
                      returnCateName = compareCate[1]; //티셔츠
                    }
                  }
                }
              });
            }
          }

          // 한글 카테고리명이 없을경우 defaultCateName로 재설정
          if (returnCateName == '') {
            returnCateName = defaultCateName;
          }
        }
        return returnCateName;
      }

      function setPlayLeaves(item) {
        var itemType;
        if (item == '1') {
          itemType = 'red1';
        } else if (item == '2') {
          itemType = 'red2';
        } else if (item == '3') {
          itemType = 'red3';
        } else if (item == '4') {
          itemType = 'red4';
        } else if (item == '5') {
          itemType = 'green1';
        } else if (item == '6') {
          itemType = 'green2';
        } else if (item == '7') {
          itemType = 'green3';
        } else if (item == '8') {
          itemType = 'brown1';
        } else if (item == '9') {
          itemType = 'brown2';
        } else if (item == '10') {
          itemType = 'brown3';
        }

        $.ajax({
          url: '/ko/magazine/setPlayLeavesEvent',
          type: 'get',
          dataType: 'json',
          data: { pk: '8804481881984', tdate: '', type: itemType },
          success: function (data) {
            //                 console.log(data);

            $('.evt_minipop_maple').hide();

            var innerHtml = '';

            if (data == 'anonymous') {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '   <div class="check_my_maple" style="position:relative">';
              innerHtml +=
                '       <img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_login.jpg" alt="단풍놀이 이벤트는 로그인 후 참여하실 수 있습니다." style="width:100%">';
              innerHtml +=
                '       <a href="/ko/magazine/events/8804481881984/login" style="text-indent:-9999px;display:block;position:absolute;width:50.491%;height:16.8%;bottom:21%;left:50%;transform: translateX(-50%);">로그인 바로가기</a>';
              innerHtml +=
                '       <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:5%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += '   </div>';
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose(\'close\')">';
              innerHtml += '   </div>';
              innerHtml += '</div>';
            } else if (data == 'noTarget') {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '   <div class="check_my_maple" style="position:relative">';
              innerHtml +=
                '       <img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_member_1.jpg" alt="단풍놀이 이벤트는 통합회원(본인 인증 완료)만 참여가능합니다." style="width:100%">';
              innerHtml +=
                '       <a href="https://www.h-point.co.kr/cu/join/start.nhd" style="text-indent:-9999px;display:block;position:absolute;width:50.491%;height:16.8%;bottom:21%;left:50%;transform: translateX(-50%);">통합회원 가입하기</a>';
              innerHtml +=
                '       <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:5%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += '   </div>';
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose(\'close\')">';
              innerHtml += '   </div>';
              innerHtml += '</div>';
            } else if (data == 'nextTime') {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '   <div class="check_my_maple" style="position:relative">';
              innerHtml +=
                '       <img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_finish.jpg" alt="오늘의 단풍잎을 모두 모았습니다.내일 다시 단풍놀이에 참여해 보세요." style="width:100%">';
              innerHtml +=
                '       <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:5%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += '   </div>';
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose()">';
              innerHtml += '   </div>';
              innerHtml += '</div>';
            } else if (data == 'success') {
              innerHtml =
                '<div class="popwrap_maple_evt1909" style="position:relative;z-index:999;width:100%;">';
              innerHtml +=
                '    <div class="check_my_maple" style="position:relative">';
              if (item == '1' || item == '2' || item == '3' || item == '4') {
                innerHtml +=
                  '    <img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_red.jpg" alt="가을의 시작을 알리는 붉은색의 단풍잎을 모았습니다." style="width:100%">';
              } else if (item == '5' || item == '6' || item == '7') {
                innerHtml +=
                  '    <img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_green.jpg" alt="차분한 여유로움을 풍기는 초록색의 단풍잎을 모았습니다." style="width:100%">';
              } else if (item == '8' || item == '9' || item == '10') {
                innerHtml +=
                  '    <img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/event/202209_maple/evt_maple_202209_m_popup_brown.jpg" alt="감각적인 여운이 담긴 가을의 컬러, 갈색의 단풍잎을 모았습니다." style="width:100%">';
              }

              innerHtml +=
                '        <a href="javascript:mapleEvtPopClose(\'close\')" style="text-indent:-9999px;position:absolute;width:43.93%;height:14.80%;bottom:18.55%;left:50%;margin-left:-44.75%">계속 쇼핑</a>';
              innerHtml +=
                '        <a href="javascript:goMapleEvent()" style="text-indent:-9999px;position:absolute;width:43.93%;height:14.80%;bottom:18.55%;left:50%;margin-left:0.81%">나의 단풍 나무 확인하기</a>';
              innerHtml +=
                '        <a href="javascript:mapleEvtPopClose()" class="btn_close_oneday" style="text-indent:-9999px;display:block;position:absolute;width:50%;height:10%;bottom:4%;left:25%">오늘 하루 보지 않기</a>';
              innerHtml += '    </div>';
              innerHtml +=
                '   <div class="pop_cls" style="position:absolute;top:5.921%;left:50%;width:4.426%;height:5.5%;margin-left:40.65%" onclick="javascript:mapleEvtPopClose(\'close\')">';
              innerHtml += '   </div>';
              innerHtml += '</div>';
            }

            if (innerHtml != '') {
              $('#mapleMainPopwrap').show();
              $('#mapleMainPopwrap').html(innerHtml);
              $('#mapleLayer').show();
            }
          },
          error: function (e) {
            //
          },
        });
      }

      function mapleEvtPopClose(type) {
        if (type == 'close') {
          $('.evt_minipop_maple').hide();
          $('.popwrap_maple_evt1909').hide();
          $('#mapleMainPopwrap').hide();
          $('#mapleLayer').hide();
        } else {
          var todayDate = new Date();
          setCookie('mapleEventPopup', todayDate.getDate(), 1);
          $('.evt_minipop_maple').hide();
          $('#mapleMainPopwrap').hide();
          $('#mapleLayer').hide();
        }
      }

      function goMapleEvent() {
        location.href = '/ko/magazine/events/8804481881984';
      }
    </script>

    <!-- //Mobile Smart Banner for Anroid Device -->

    <iframe id="groobeeBox" name="groobeeBox" style="display: none"></iframe>
    <form method="POST"></form>
  </body>
  <!-- This script is for AceCounter START -->
</html>
