<html lang="ko" class="">
<!-- thymeleaf fragment 쓰면 스와이프가 안됨 -->
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />

    <meta charset="UTF-8" />
    <meta name="HandheldFriendly" content="true" />
    <meta
      name="viewport"
      content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Mobile Smart Banner for IOS Device -->
    <meta name="apple-itunes-app" content="app-id=1072288949" />
    <!-- //Mobile Smart Banner for IOS Device -->
    <meta property="og:title" content="더한섬닷컴" />
    <meta property="og:type" content="website" />
    <script></script>

    <title>더한섬닷컴</title>
    <link
      rel="shortcut icon"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/thehandsome_ic_16x16.ico" />
    <link
      rel="apple-touch-icon"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />
    <link
      rel="apple-touch-icon-120x120"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />
    <link
      rel="apple-touch-icon-120x120-precomposed"
      href="http://www.thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png" />

    <!-- <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> -->

    <link rel="shortcut icon" type="image/x-icon" media="all" href="//" />

    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/font_443.css"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/jquery-ui.css"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/selectordie.css"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/default.css?202200826"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/display.css?20221107"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/assist.css?20220929"
      rel="stylesheet"
      type="text/css" />
    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/devAssist.css"
      rel="stylesheet"
      type="text/css" />

    <link
      href="http://www.thehandsome.com/_ui/handsomemobile/css/handsomecss/popup.css"
      rel="stylesheet"
      type="text/css" />

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.vticker.js"></script>
    <!-- 200318 Ã¬Â¶ÂÃªÂ°Â -->
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/masonry.pkgd.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/imagesloaded.pkgd.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.form.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.cookie.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery-ui.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/swiper.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/selectordie.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/jquery.bpopup.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/echarts.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/common.js?20210501"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/assist_common.js?v=20220630"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/assist_new.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/handsome.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/common_function.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/json2.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/SsoAjax.js"></script>

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/makePCookie.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/content.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/e-smart-zoom-jquery.min.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/popup.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/simplepagination.js"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/netfunnel.js"
      charset="UTF-8"></script>
    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/netfunnel_skin.js"
      charset="UTF-8"></script>

    <script
      type="text/javascript"
      src="http://www.thehandsome.com/_ui/handsomemobile/js/unorm.js"></script>

    <link
      rel="stylesheet"
      type="text/css"
      href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css" />
  </head>
    <style>
      .swiper-wrapper {
        height: auto;
      }
    </style>
      <script type="text/javascript">
      var handsomePageId = 'mypageFloatingPopup';
      var main_bul = false;
    </script>

    <script type="text/javascript">
      var handsomeUserLoginYn = 'Y';
    </script>
    <script type="text/javascript">
      var isoKoYn = 'Y';
    </script>
    <script type="text/javascript">
      var handsomeIsoCode = 'ko';
      var handsomeContextPath = '/ko';
    </script>
  <body>
    <div class="hsome_allContents_wrapper"></div>

    <a href="noLink();" class="hsome_topBtn upper" id="handsomeTopBtn"
      >mobile.bottom.top</a
    ><!-- 20180530 추가 -->

    <!-- ################## hsome_quickMenu_contents | 퀵메뉴 컨텐츠 영역 ################## -->
    <div class="hsome_quickMenu_contents active absolute">
      <!-- Contents -->
      <div class="hand_footer_gnb_wrap mypage">
        <div class="header">
          <h2 class="sel">
            <select
              id="headerMypageSelect"
              onchange="GA_Event('마이페이지', 'MY_GNB', this.selectedOptions[0].text.replaceAll(' ', '').replace('신청/조회',''));">
              <option value="" style="display: none"></option>
              <option value="/ko/mypage/mypageFloatingPopup">
                마이페이지<!-- 마이페이지 -->
              </option>
              <option value="/ko/mypage/order/myorders">
                주문/배송조회<!-- 주문/배송조회 -->
              </option>

              <option value="/ko/mypage/rsalarm">
                재입고 알림<!-- 재입고/세일 알림 -->
              </option>
              <option value="/ko/mypage/myWish">
                마이하트<!-- 위시리스트 -->
              </option>
              <option value="/ko/svcenter/mobilemain">
                고객센터<!-- 고객센터 -->
              </option>
              <option value="/ko/mypage/personInfomationChange">
                개인정보변경<!-- 개인정보변경 -->
              </option>
              <option value="/ko/mypage/mydelivery">
                배송지 관리<!-- 배송지 관리 -->
              </option>
              <option value="/ko/mypage/voucher">쿠폰<!-- 쿠폰 --></option>
              <option value="/ko/mypage/myreview">상품평<!-- 상품평 --></option>
              <option value="/ko/mypage/mymantomaninquiry">
                1:1 문의<!-- 1:1 문의 -->
              </option>
              <option value="/ko/mypage/myqna">
                상품 Q&amp;A<!-- 상품 Q&A -->
              </option>
              <option value="/ko/mypage/event/myevents">
                나의 이벤트<!-- 나의 이벤트 -->
              </option>
            </select>
            <div class="selected_text">
              <span> 마이페이지</span>
            </div>
          </h2>
          <ul class="red_border_tab">
            <li class="on">
              <a href="#" class="order" tab="order">주문</a>
            </li>
            <li class="">
              <a href="#" class="benefit" tab="benefit">혜택</a>
            </li>
            <li class="">
              <a href="#" class="infomation" tab="info">정보</a>
            </li>
            <li class="">
              <a href="#" class="activity" tab="activity">활동</a>
            </li>
          </ul>
        </div>

        <div class="container">
          <div
            class="swiper-container mypage_card_container mpgCardCon1903 swiper-container-horizontal swiper-container-android swiper-container-wp8-horizontal">
            <div
              class="swiper-wrapper"
              style="
                transform: translate3d(0px, 0px, 0px);
                transition-duration: 0ms;
              ">
              <!-- 주문 -->
              <div
                class="swiper-slide card-type order swiper-slide-active"
                data-index="0"
                style="width: 330px; margin-right: 30px">
                <div class="stage order_stage">
                  <div class="card_type_inner1903">
                    <div class="s-tit">
                      <b>주문조회</b>
                      <a href="/ko/mypage/order/myorders" class="more"
                        >주문배송조회</a
                      >
                    </div>
                    <p class="mypage_card_nodata">주문 내역이 없습니다.</p>
                  </div>
                </div>
              </div>
              <!-- 혜택// -->
              <div
                class="swiper-slide card-type benefit start swiper-slide-next"
                data-index="0"
                style="width: 330px; margin-right: 30px">
                <div class="card_type_inner1903">
                  <div class="stage coupon_stage" id="myCouponList">
                    <div class="s-tit">
                      <b>쿠폰</b>
                      <a href="/ko/mypage/voucher" class="more">전체조회</a>
                    </div>
                    <div id="mypageCouponList">
                    </div>
                  </div>
                </div>
              </div>

              <!-- //혜택 -->

              <!-- 정보// -->

              <div
                class="swiper-slide card-type infomation"
                id="myPagePopupDelivery"
                data-index="1"
                style="width: 330px; margin-right: 30px">
                <div class="card_type_inner1903">
                  <div class="stage delivery_stage">
                    <div class="s-tit">
                      <b>배송지 관리</b>
                    </div>

                    <div class="s-txt mb20" style="display: none">
                      <b>기본 배송지</b>
                    </div>
                    <div class="s-btn">
                      <a href="/ko/mypage/mydelivery">배송지 관리</a>
                    </div>
                  </div>

                  <div class="stage delivery_stage">
                    <div class="s-tit">
                      <b>정보 관리</b>
                    </div>

                    <div class="s-btn">
                      <a href="/wck/mypage/change/checkpw"
                        >개인정보 변경/탈퇴</a>
                    </div>

                    <div class="s-txt2">
                      현대백화점 그룹 계열사의 다양한<br />
                      혜택을 하나의 ID로!
                    </div>
                  </div>
                </div>
              </div>
              <!-- //정보 -->

              <!-- 활동// -->
              <div
                class="swiper-slide card-type activity start"
                data-index="0"
                style="width: 330px; margin-right: 30px">
                <div class="card_type_inner1903">
                  <div class="stage wish_stage">
                    <div class="s-tit">
                      <b>위시리스트</b>
                    </div>

                    <div id="myWishlists" class="s-thumb">
                      <p><span>위시리스트에 저장된 상품이 없습니다.</span></p>
                      <a href="/wck/mypage/wish" class="more">+0</a>
                    </div>

                    <div class="s-link">
                      <ul>
                        <li><a href="/ko/mypage/myreview">상품평</a></li>
                        <li>
                          <a
                            href="/ko/mypage/mymantomaninquiry?refererUrl=mypage"
                            >1:1 문의</a
                          >
                        </li>
                        <li>
                          <a href="/ko/mypage/event/myevents"
                            >이벤트 참여현황</a
                          >
                        </li>
                        <li><a href="/ko/mypage/myqna">상품 Q&amp;A</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <!-- //활동 -->
            </div>
          </div>

          <div class="mypage_card_footer">
            <span class="u_name"
              ><a href="javascript:void(0);">왕*휘 님</a></span
            >
            <a
              class="u_profile_setting btn_popup_btot"
              href=".hs_mpg_profile_pop"
              onclick="GA_Event('마이페이지','푸터','프로필 설정')"
              >프로필 설정</a
            >
          </div>
          <div class="mypage_card_footer_logout2008">
            <a
              href="javascript:ftLogout();"
              class="u_logout"
              onclick="GA_Event('마이페이지', '푸터', '로그아웃');"
              >로그아웃</a
            >
          </div>
        </div>

        <div class="footer">
          <a
            href="javascript:noLink();"
            class="close"
            onclick="goBack();"
            >닫기</a
          >
        </div>
      </div>
    </div>
    <!-- //################## hsome_quickMenu_contents | 퀵메뉴 컨텐츠 영역 ################## -->

    <script>
      $(document).ready(function () {
    	  
    	 getMyCoupon();
    	 getMyLike();
    	 function getMyCoupon(){
    		 $.ajax({
    			 method : 'get',
    			 url : '/api/event/mycoupon',
    			 datatype: 'json',
    			 success : function(list){
    				 console.log(list);
    				 printCoupon(list);
        		 },
        		 error: function(request,status,error){
        			 console.log("error : "+ error);
        		 }
    		 })
    	 }
    	 function printCoupon(list){
    		 list.forEach(function(coupon){
    			 /*<![CDATA[*/
    			 let template = `
    				<div class="s-coupon">
                     <div class="s-coupon-inner">
                       <strong>${coupon.ecouponTitle}</strong><b>${coupon.ediscount}% 할인</b>
                       <span>${coupon.cpIssueDate} ~ ${coupon.cpExpireDate}</span>
                       <i>소멸<br>D-180</i>
                     </div>
                   </div>
    			 ` 
    			/*]]>*/
    			$('#mypageCouponList').append(template);
    				 
    		 })
    	 }
    	 function getMyLike(){
    		 $.ajax({
    			 method : 'get',
    			 url : '/api/member/like?currentPage=1&pageSize=3',
    			 datatype:'json',
    			 success : function(list){
    				 console.log(list);
    				 printLike(list);
    			 }
    		 })
    	 }
    	 function printLike(data){
    		 let list = data['list'];
    		 if(list == null || list.length == 0){
    			 return ;
    		 }
    		 $('#myWishlists').html('');
			 $('#myWishlists').html('<ul></ul>');
    		 
    			 
    		 $(list).each(function(idx,like){
    			 if(idx > 3) return;
    			 /*<![CDATA[*/
    			 let template = `
    				<li>
    			      <a href="/ko/p/MM2D1WOT022HDE">
    			        <img
    			          src="${like.colors[0].pcImg1}"
    			          style="width: 86px; height: 130px"
    			          alt="" />
    			      </a>
    			    </li>
    			 `;
    			 /*]]>*/
    			 $('#myWishlists > ul').append(template);
    		 })
    		 console.log(parseInt(data['count']) - 3)
    		 if(parseInt(data['count']) > 3){
    			 /*<![CDATA[*/
    			 let countUl = `<a href="/wck/mypage/wish" class="more">+${parseInt(data['count']) - 3 }</a>`
    			 /*]]>*/
        		 $('#myWishlists').append(countUl);
    		 }
    		 
    	 }
    	  
    	 // tab ui 모방
        let tabs = $('.red_border_tab li');
        $('a.order').click(function (e) {
          e.preventDefault();
          tabs.removeClass('on');
          $(this).parent().addClass('on');
          $('.swiper-wrapper').css('transform', 'translate3d(0px, 0px, 0px)');
        });
        $('a.benefit').click(function (e) {
          e.preventDefault();
          tabs.removeClass('on');
          $(this).parent().addClass('on');
          $('.swiper-wrapper').css(
            'transform',
            'translate3d(-360px, 0px, 0px)'
          );
        });
        $('a.infomation').click(function (e) {
          e.preventDefault();
          tabs.removeClass('on');
          $(this).parent().addClass('on');
          $('.swiper-wrapper').css(
            'transform',
            'translate3d(-720px, 0px, 0px)'
          );
        });
        $('a.activity').click(function (e) {
          e.preventDefault();
          tabs.removeClass('on');
          $(this).parent().addClass('on');
          $('.swiper-wrapper').css(
            'transform',
            'translate3d(-1080px, 0px, 0px)'
          );
        });

        $('.swiper-wrapper').bind('touchmove', function (e) {
          console.log($(this).css('transform'));
          let x = $(this).css('transform').split('(')[1].split(',')[4];
          console.log(x);
          tabs.removeClass('on');
          if (x > 0) {
            $('a.order').parent().addClass('on');
          } else if (x > -360) {
            $('a.benefit').parent().addClass('on');
          } else if (x > -720) {
            $('a.infomation').parent().addClass('on');
          } else {
            $('a.activity').parent().addClass('on');
          }
        });
      });
    </script>
  </body>
  <!-- This script is for AceCounter START -->
</html>
