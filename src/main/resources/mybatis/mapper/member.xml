<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wck.mapper.MemberMapper">

	<select id="findOneByEmail" resultType="member">
		select 
			mid id, 
			mpassword password, 
			mname name, 
			memail email, 
			mphone phone, 
			mtel tel, 
			mzipcode zipcode, 
			maddress1 address1,
			maddress2 address2,
			mbirth birth,
			mgender gender,
			mrefid refId,
			mlogintype loginType,
			menabled enabled,
			mrole role,
			mgrade grade,
			mmileage mileage
		from member
		where memail = #{email} and 
			mlogintype = #{loginType}
	</select>
	
	<insert id="insertOne" parameterType="member">
		insert into member 
		(
			mid, mpassword, mname, memail, mphone, 
			mtel, mzipcode, maddress1, maddress2, mbirth,
			mgender, mrefid, mlogintype, mtosno, menabled,
			mrole, mgrade, mmileage
		) 
		values(
			#{id}, #{password}, #{name}, #{email}, #{phone},
			#{tel}, #{zipcode}, #{address1}, #{address2}, #{birth},
			#{gender}, #{refId}, #{loginType}, #{tosNo}, #{enabled},
			#{role}, #{grade}, #{mileage}
		)
	</insert>
	
</mapper> 